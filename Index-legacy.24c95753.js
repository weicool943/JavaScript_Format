! function() {
    function e(e, t, i) {
        return t in e ? Object.defineProperty(e, t, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = i, e
    }
    var t = document.createElement("style");
    t.innerHTML = '@charset "UTF-8";.folderList[data-v-339d19f5] .van-action-sheet__description{padding:12px 15px}.newFolder[data-v-339d19f5]{--van-field-input-text-color: var(--color-text-primary)}[data-v-339d19f5] .van-cell:after{right:0;left:0}[data-v-05c159e4] .van-dialog__header{padding-top:17px;padding-bottom:13px;position:relative}[data-v-05c159e4] .van-dialog__header:after{border-bottom:1px solid var(--color-bg-primary);position:absolute;box-sizing:border-box;content:" ";left:0;right:0;pointer-events:none;bottom:0}.van-divider:before,.van-divider:after{border-width:1px 0;border-color:#363636}.v-leave-active,.v-enter-active{transition:all .4s linear;max-height:500px}.v-enter-from,.v-leave-to{max-height:0}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.vjs-modal-dialog .vjs-modal-dialog-content{position:absolute;top:0;left:0;width:100%;height:100%}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.vjs-button>.vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABDkAAsAAAAAG6gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3hY21hcAAAAYQAAADaAAADPv749/pnbHlmAAACYAAAC3AAABHQZg6OcWhlYWQAAA3QAAAAKwAAADYZw251aGhlYQAADfwAAAAdAAAAJA+RCLFobXR4AAAOHAAAABMAAACM744AAGxvY2EAAA4wAAAASAAAAEhF6kqubWF4cAAADngAAAAfAAAAIAE0AIFuYW1lAAAOmAAAASUAAAIK1cf1oHBvc3QAAA/AAAABJAAAAdPExYuNeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS7wTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGJHcRdyA4RZgQRADK3CxEAAHic7dFZbsMgAEXRS0ycyZnnOeG7y+qC8pU1dHusIOXxuoxaOlwZYWQB0Aea4quIEN4E9LzKbKjzDeM6H/mua6Lmc/p8yhg0lvdYx15ZG8uOLQOGjMp3EzqmzJizYMmKNRu27Nhz4MiJMxeu3Ljz4Ekqm7T8P52G8PP3lnTOVk++Z6iN6QZzNN1F7ptuN7eGOjDUoaGODHVsuvU8MdTO9Hd5aqgzQ50b6sJQl4a6MtS1oW4MdWuoO0PdG+rBUI+GejLUs6FeDPVqqDdDvRvqw1CfhpqM9At0iFLaAAB4nJ1YDXBTVRZ+5/22TUlJ8we0pHlJm7RJf5O8F2j6EymlSPkpxaL8U2xpa3DKj0CBhc2IW4eWKSokIoLsuMqssM64f+jA4HSdWXXXscBq67IOs3FXZ1ZYWVyRFdo899yXtIBQZ90k7717zz3v3HPPOfd854YCCj9cL9dL0RQFOqCbGJnrHb5EayiKIWN8iA/hWBblo6hUWm8TtCDwE80WMJus/irwyxOdxeB0MDb14VNJHnXYoLLSl6FfCUYO9nYPTA8Epg9090LprfbBbZ2hY0UlJUXHQp3/vtWkS6EBv8+rPMq5u9692f/dNxJNiqwC1xPE9TCUgCsSdQWgE3XQD25lkG4CN2xmTcOXWBOyser6RN6KnGbKSbmQ3+d0OI1m2W8QzLLkI2sykrWAgJJEtA8vGGW/2Q+CmT3n8zS9wZwu2DCvtuZKZN3xkrLh36yCZuUomQSqGpY8t/25VfHVhw8z4ebGBtfLb0ya9PCaDc+8dGTvk2dsh6z7WzvowlXKUSWo9MJ15a3KrEP2loOr2Ojhw6iW6hf2BDdEccQvZGpaAy7YovSwq8kr7HGllxpd71rkS6G0Sf11sl9OvMK1+jwPPODxjUwkOim9CU3ix1wNjXDfmJSEn618Bs6lpWwUpU+8PCqLMY650zjq8VhCIP17NEKTx3eaLL+s5Pi6yJWaWjTHLR1jYzPSV9VF/6Ojdb/1kO3Mk3uhHC0x6gc1BjlKQ+nQFxTYdaJkZ7ySVxLBbhR1dsboNXp1tCYKW2LRaEzpYcIx2BKNxaL0ZaUnSqfFoiNhHKR/GkX6PWUSAaJelQaqZL1EpoHNsajSEyPSoJ9IjhIxTdjHLmwZvhRDOiFTY/YeQnvrVZmiTQtGncECXtFTBZLOVwwMRgoXHAkXzMzPn1nAJJ8jYSbMDaqN2waGLzNhih/bZynUBMpIWSg7VYi7DRx2m8ALkIdRCJwI6ArJx2EI8kaDWeTQKeAFk9fjl/1AvwktjQ1P7NjyMGQyfd4vjipX6M/i52D7Cq80kqlcxEcGXRr/FEcgs0u5uGgB4VWuMFfpdn2Re6Hi3PqzmxWKsz6+ae2Pn9hXXw/fqM859UiGC0oKYYILJBqJrsn1Z1E5qOs9rQCiUQRREjm8yJcbHF5cUJufX1vAHlefw0XgUoboS3ETfQlTxBC4SOtuE8VPRJTBSCQSjZCpk7Gqzu+masaZ2y7Zjehho4F3g82BNDkAHpORG4+OCS+f6JTPmtRn/PH1kch6d04sp7AQb25aQ/pqUyXeQ8vrebG8OYQdXOQ+585u0sdW9rqalzRURiJ+9F4MweRFrKUjl1GUYhH1A27WOHw5cTFSFPMo9EeUIGnQTZHIaJ7AHLaOKsOODaNF9jkBjYG2QEsQ2xjMUAx2bBEbeTBWMHwskBjngq56S/yfgkBnWBa4K9sqKtq2t1UI8S9He5XuBRbawAdatrQEAi30Aks2+LM8WeCbalVZkWNylvJ+dqJnzVb+OHlSoKW8nPCP7Rd+CcZ2DdWAGqJ2CBFOphgywFFCFBNtfAbGtNPBCwxvygHeYMZMY9ZboBqwq/pVrsbgN5tkv152ODlbMfiqwGMBgxa4Exz3QhovRIUp6acqZmQzRq0ypDXS2TPLT02YIkQETnOE445oOGxOmXAqUJNNG7XgupMjPq2ua9asrj5yY/yuKteO1Kx0YNJTufrirLe1mZnat7OL6rnUdCWenpW6I8mAnbsY8KWs1PuSovCW9A/Z25PQ24a7cNOqgmTkLmBMgh4THgc4b9k2IVv1/g/F5nGljwPLfOgHAzJzh45V/4+WenTzmMtR5Z7us2Tys909UHqrPY7KbckoxRvRHhmVc3cJGE97uml0R1S0jdULVl7EvZtDFVBF35N9cEdjpgmAiOlFZ+Dtoh93+D3zzHr8RRNZQhnCNMNbcegOvpEwZoL+06cJQ07h+th3fZ/7PVbVC6ngTAV/KoLFuO6+2KFcU651gEb5ugPSIb1D+Xp8V4+k3sEIGnw5mYe4If4k1lFYr6SCzmM2EQ8iWtmwjnBI9kTwe1TlfAmXh7H02by9fW2gsjKwtv0aaURKil4OdV7rDL1MXIFNrhdxohcZXYTnq47WisrKitaObbf5+yvkLi5J6lCNZZ+B6GC38VNBZBDidSS/+mSvh6s+srgC8pyKMvDtt+de3c9fU76ZPfuM8ud4Kv0fyP/LqfepMT/3oZxSqpZaTa1DaQYLY8TFsHYbWYsPoRhRWfL5eSSQbhUGgGC3YLbVMk6PitTFNGpAsNrC6D1VNBKgBHMejaiuRWEWGgsSDBTJjqWIl8kJLlsaLJ2tXDr6xGfT85bM2Q06a46x2HTgvdnV8z5YDy/27J4zt6x2VtkzjoYpkq36kaBr4eQSg7tyiVweWubXZugtadl58ydapfbORfKsDTuZ0OBgx4cfdjCf5tbWNITnL120fdOi1RV1C3uKGzNdwYLcMvZ3BxoPyTOCD1XvXTp7U10gWCVmTV9b3r2z0SkGWovb2hp9I89O8a2smlyaO8muMU+dRmtzp60IzAoFpjLr1n388boLyf0dRvxhsHZ0qbWqDkwqvvpkj4l0fY6EIXRi5sQSrAvsVYwXRy4qJ2EVtD1AN7a0HWth9ymvL1xc3WTUKK/TAHA/bXDVtVWfOMfuGxGZv4Ln/jVr9jc3j1yMv0tndmyt9Vq88Y9gH1wtLX3KWjot5++jWHgAoZZkQ14wGQ20Fli71UmKJAy4xKMSTGbVdybW7FDDAut9XpD5AzWrYO7zQ8qffqF8+Ynd/clrHcdyxGy3a/3+mfNnzC/cBsveTjnTvXf1o6vzOlZw7WtqtdmPK/Errz/6NNtD72zmNOZfbmYdTGHfoofqI79Oc+R2n1lrnL6pOm0Up7kwxhTW12Amm7WYkXR2qYrF2AmgmbAsxZjwy1xpg/m1Je2vrp8v/nz2xpmlBg4E9hrMU341wVpTOh/OfmGvAnra8q6uctr60ZQHV3Q+WMQJykMj8ZsWn2QBOmmHMB+m5pDIpTFonYigiaKAhGEiAHF7EliVnQkjoLVIMPtJpBKHYd3A8GYH9jJzrWwmHx5Qjp7vDAX0suGRym1vtm/9W1/HyR8vczfMs6Sk8DSv855/5dlX9oQq52hT8syyp2rx5Id17IAyAM3wIjQPMOHzytEB64q6D5zT91yNbnx3V/nqnd017S9Y0605k3izoXLpsxde2n38yoOV9s1LcjwzNjbdX6asnBVaBj/6/DwKwPkpcqbDG7BnsXoSqWnUAmottYF6jMSdVyYZh3zVXCjwTiwwHH6sGuRiEHQGzuRX6whZkp123oy1BWE2mEfJ/tvIRtM4ZM5bDXiMsPMaAKOTyc5uL57rqyyc5y5JE5pm1i2S2iUX0CcaQ6lC6Zog7JqSqZmYlosl2K6pwNA84zRnQW6SaALYZQGW5lhCtU/W34N6o+bKfZ8cf3/Cl/+iTX3wBzpOY4mRkeNf3rptycGSshQWgGbYt5jFc2e0+DglIrwl6DVWQ7BuwaJ3Xk1J4VL5urnLl/Wf+gHU/hZoZdKNym6lG+I34FaNeZKcSpJIo2IeCVvpdsDGfKvzJnAwmeD37Ow65ZWwSowpgwX5T69s/rB55dP5BcpgDKFV8p7q2sn/1uc93bVzT/w6UrCqDTWvfCq/oCD/qZXNoUj8BL5Kp6GU017frfNXkAtiiyf/SOCEeLqnd8R/Ql9GlCRfctS6k5chvIBuQ1zCCjoCHL2DHNHIXxMJ3kQeO8lbsUXONeSfA5EjcG6/E+KdhN4bP04vBhdi883+BFBzQbxFbvZzQeY9LNBZc0FNfn5NwfDn6rCTnTw6R8o+gfpf5hCom33cRuiTlss3KHmZjD+BPN+5gXuA2ziS/Q73mLxUkpbKN/eqwz5uK0X9F3h2d1V4nGNgZGBgAOJd776+iue3+crAzc4AAje5Bfcg0xz9YHEOBiYQBQA8FQlFAHicY2BkYGBnAAGOPgaG//85+hkYGVCBMgBGGwNYAAAAeJxjYGBgYB8EmKOPgQEAQ04BfgAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhAi2COh4nGNgZGBgUGYoZWBnAAEmIOYCQgaG/2A+AwAYCQG2AHicXZBNaoNAGIZfE5PQCKFQ2lUps2oXBfOzzAESyDKBQJdGR2NQR3QSSE/QE/QEPUUPUHqsvsrXjTMw83zPvPMNCuAWP3DQDAejdm1GjzwS7pMmwi75XngAD4/CQ/oX4TFe4Qt7uMMbOzjuDc0EmXCP/C7cJ38Iu+RP4QEe8CU8pP8WHmOPX2EPz87TPo202ey2OjlnQSXV/6arOjWFmvszMWtd6CqwOlKHq6ovycLaWMWVydXKFFZnmVFlZU46tP7R2nI5ncbi/dDkfDtFBA2DDXbYkhKc+V0Bqs5Zt9JM1HQGBRTm/EezTmZNKtpcAMs9Yu6AK9caF76zoLWIWcfMGOSkVduvSWechqZsz040Ib2PY3urxBJTzriT95lipz+TN1fmAAAAeJxtkMl2wjAMRfOAhABlKm2h80C3+ajgCKKDY6cegP59TYBzukAL+z1Zsq8ctaJTTKPrsUQLbXQQI0EXKXroY4AbDDHCGBNMcYsZ7nCPB8yxwCOe8IwXvOIN7/jAJ76wxHfUqWX+OzgumWAjJMV17i0Ndlr6irLKO+qftdT7i6y4uFSUvCknay+lFYZIZaQcmfH/xIFdYn98bqhra1aKTM/6lWMnyaYirx1rFUQZFBkb2zJUtoXeJCeg0WnLtHeSFc3OtrnozNwqi0TkSpBMDB1nSde5oJXW23hTS2/T0LilglXX7dmFVxLnq5U0vYATHFk3zX3BOisoQHNDFDeZnqKDy9hRNawN7Vh727hFzcJ5c8TILrKZfH7tIPxAFP0BpLeJPA==) format("woff");font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder,.vjs-icon-play{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder:before,.vjs-icon-play:before{content:"\\f101"}.vjs-icon-play-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play-circle:before{content:"\\f102"}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder,.vjs-icon-pause{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before,.vjs-icon-pause:before{content:"\\f103"}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder,.vjs-icon-volume-mute{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before,.vjs-icon-volume-mute:before{content:"\\f104"}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder,.vjs-icon-volume-low{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before,.vjs-icon-volume-low:before{content:"\\f105"}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder,.vjs-icon-volume-mid{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before,.vjs-icon-volume-mid:before{content:"\\f106"}.video-js .vjs-mute-control .vjs-icon-placeholder,.vjs-icon-volume-high{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control .vjs-icon-placeholder:before,.vjs-icon-volume-high:before{content:"\\f107"}.video-js .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-enter{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-enter:before{content:"\\f108"}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-exit{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-exit:before{content:"\\f109"}.vjs-icon-square{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-square:before{content:"\\f10a"}.vjs-icon-spinner{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-spinner:before{content:"\\f10b"}.video-js .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subtitles-button .vjs-icon-placeholder,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-subtitles{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subtitles-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-subtitles:before{content:"\\f10c"}.video-js .vjs-captions-button .vjs-icon-placeholder,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-captions{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-captions-button .vjs-icon-placeholder:before,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-captions:before{content:"\\f10d"}.video-js .vjs-chapters-button .vjs-icon-placeholder,.vjs-icon-chapters{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-chapters-button .vjs-icon-placeholder:before,.vjs-icon-chapters:before{content:"\\f10e"}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:"\\f10f"}.vjs-icon-cog{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cog:before{content:"\\f110"}.video-js .vjs-play-progress,.video-js .vjs-volume-level,.vjs-icon-circle,.vjs-seek-to-live-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-progress:before,.video-js .vjs-volume-level:before,.vjs-icon-circle:before,.vjs-seek-to-live-control .vjs-icon-placeholder:before{content:"\\f111"}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-outline:before{content:"\\f112"}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-inner-circle:before{content:"\\f113"}.vjs-icon-hd{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-hd:before{content:"\\f114"}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder,.vjs-icon-cancel{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before,.vjs-icon-cancel:before{content:"\\f115"}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder,.vjs-icon-replay{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before,.vjs-icon-replay:before{content:"\\f116"}.vjs-icon-facebook{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-facebook:before{content:"\\f117"}.vjs-icon-gplus{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-gplus:before{content:"\\f118"}.vjs-icon-linkedin{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-linkedin:before{content:"\\f119"}.vjs-icon-twitter{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-twitter:before{content:"\\f11a"}.vjs-icon-tumblr{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-tumblr:before{content:"\\f11b"}.vjs-icon-pinterest{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pinterest:before{content:"\\f11c"}.video-js .vjs-descriptions-button .vjs-icon-placeholder,.vjs-icon-audio-description{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-descriptions-button .vjs-icon-placeholder:before,.vjs-icon-audio-description:before{content:"\\f11d"}.video-js .vjs-audio-button .vjs-icon-placeholder,.vjs-icon-audio{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-audio-button .vjs-icon-placeholder:before,.vjs-icon-audio:before{content:"\\f11e"}.vjs-icon-next-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-next-item:before{content:"\\f11f"}.vjs-icon-previous-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-previous-item:before{content:"\\f120"}.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder,.vjs-icon-picture-in-picture-enter{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder:before,.vjs-icon-picture-in-picture-enter:before{content:"\\f121"}.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder,.vjs-icon-picture-in-picture-exit{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder:before,.vjs-icon-picture-in-picture-exit:before{content:"\\f122"}.video-js{display:block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif;word-break:initial}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js[tabindex="-1"]{outline:0}.video-js *,.video-js :after,.video-js :before{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin:0}.video-js.vjs-16-9,.video-js.vjs-4-3,.video-js.vjs-fluid{width:100%;max-width:100%;height:0}.video-js.vjs-16-9{padding-top:56.25%}.video-js.vjs-4-3{padding-top:75%}.video-js.vjs-fill{width:100%;height:100%}.video-js .vjs-tech{position:absolute;top:0;left:0;width:100%;height:100%}body.vjs-full-window{padding:0;margin:0;height:100%}.vjs-full-window .video-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen{width:100%!important;height:100%!important;padding-top:0!important}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1;visibility:visible}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial,Helvetica,sans-serif;text-align:center;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.63332em;width:3em;display:block;position:absolute;top:10px;left:10px;padding:0;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:rgba(43,51,63,.7);border-radius:.3em;transition:all .4s}.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;margin-top:-.81666em;margin-left:-1.5em}.video-js .vjs-big-play-button:focus,.video-js:hover .vjs-big-play-button{border-color:#fff;background-color:#73859f;background-color:rgba(115,133,159,.5);transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-error .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:0 0;border:none;color:inherit;display:inline-block;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.vjs-control .vjs-button{width:100%;height:100%}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:linear-gradient(180deg,rgba(0,0,0,.8),rgba(255,255,255,0));overflow:auto}.video-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial,Helvetica,sans-serif;overflow:auto}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.js-focus-visible .vjs-menu li.vjs-menu-item:hover,.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover{background-color:#73859f;background-color:rgba(115,133,159,.5)}.js-focus-visible .vjs-menu li.vjs-selected:hover,.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0;margin-bottom:1.5em;border-top-color:rgba(43,51,63,.7)}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:rgba(43,51,63,.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-layout-tiny .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:5em}.vjs-layout-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:10em}.vjs-layout-medium .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:14em}.vjs-layout-huge .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:25em}.vjs-menu-button-popup .vjs-menu.vjs-lock-showing,.vjs-workinghover .vjs-menu-button-popup.vjs-hover .vjs-menu{display:block}.video-js .vjs-menu-button-inline{transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline.vjs-slider-active,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline:hover,.video-js.vjs-no-flex .vjs-menu-button-inline{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;transition:all .4s}.vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline:hover .vjs-menu{display:block;opacity:1}.vjs-no-flex .vjs-menu-button-inline .vjs-menu{display:block;opacity:1;position:relative;width:auto}.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu{width:auto}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.vjs-has-started .vjs-control-bar{display:flex;visibility:visible;opacity:1;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-error .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible}.vjs-has-started.vjs-no-flex .vjs-control-bar{display:table}.video-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;flex:none}.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.video-js .vjs-control:focus,.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before{text-shadow:0 0 1em #fff}.video-js .vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-no-flex .vjs-control{display:table-cell;vertical-align:middle}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{cursor:pointer;flex:auto;display:flex;align-items:center;min-width:4em;touch-action:none}.video-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-liveui .vjs-progress-control{display:flex;align-items:center}.vjs-no-flex .vjs-progress-control{width:auto}.video-js .vjs-progress-holder{flex:auto;transition:all .2s;height:.3em}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.6666666667em}.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div,.video-js .vjs-progress-holder .vjs-play-progress{position:absolute;display:block;height:100%;margin:0;padding:0;width:0}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{font-size:.9em;position:absolute;right:-.5em;top:-.3333333333em;z-index:1}.video-js .vjs-load-progress{background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:rgba(115,133,159,.75)}.video-js .vjs-time-tooltip{background-color:#fff;background-color:rgba(255,255,255,.8);border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-time-tooltip{display:block;font-size:.6em;visibility:visible}.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.vjs-no-flex .vjs-progress-control .vjs-mouse-display{z-index:0}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.video-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 .45em;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#73859f;background-color:rgba(115,133,159,.5)}.video-js .vjs-slider.disabled{cursor:default}.video-js .vjs-slider:focus{text-shadow:0 0 1em #fff;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control{cursor:pointer;flex:none}.video-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:flex}.video-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.video-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.video-js .vjs-volume-panel{transition:width 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active,.video-js .vjs-volume-panel .vjs-volume-control:active,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control,.video-js .vjs-volume-panel:active .vjs-volume-control,.video-js .vjs-volume-panel:focus .vjs-volume-control{visibility:visible;opacity:1;position:relative;transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;margin-right:0}.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical{left:-3.5em;transition:left 0s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active{width:10em;transition:width .1s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only{width:4em}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3000em;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s}.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;visibility:visible;opacity:1;position:relative;transition:none}.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{position:absolute;bottom:3em;left:.5em}.video-js .vjs-volume-panel{display:flex}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{top:-.3em;right:-.5em}.video-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.video-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.video-js .vjs-volume-horizontal .vjs-menu{left:-2em}.vjs-poster{display:inline-block;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;background-color:#000;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-has-started .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster{display:block}.vjs-using-native-controls .vjs-poster{display:none}.video-js .vjs-live-control{display:flex;align-items:flex-start;flex:auto;font-size:1em;line-height:3em}.vjs-no-flex .vjs-live-control{display:table-cell;width:auto;text-align:left}.video-js.vjs-liveui .vjs-live-control,.video-js:not(.vjs-live) .vjs-live-control{display:none}.video-js .vjs-seek-to-live-control{cursor:pointer;flex:none;display:inline-flex;height:100%;padding-left:.5em;padding-right:.5em;font-size:1em;line-height:3em;width:auto;min-width:4em}.vjs-no-flex .vjs-seek-to-live-control{display:table-cell;width:auto;text-align:left}.video-js.vjs-live:not(.vjs-liveui) .vjs-seek-to-live-control,.video-js:not(.vjs-live) .vjs-seek-to-live-control{display:none}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge{cursor:auto}.vjs-seek-to-live-control .vjs-icon-placeholder{margin-right:.5em;color:#888}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-icon-placeholder{color:red}.video-js .vjs-time-control{flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.vjs-live .vjs-time-control,.video-js .vjs-current-time,.vjs-no-flex .vjs-current-time,.video-js .vjs-duration,.vjs-no-flex .vjs-duration{display:none}.vjs-time-divider{display:none;line-height:3em}.vjs-live .vjs-time-divider{display:none}.video-js .vjs-play-control{cursor:pointer}.video-js .vjs-play-control .vjs-icon-placeholder{flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{transform:translateY(-3em)}.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{transform:translateY(-1.5em)}.video-js .vjs-picture-in-picture-control,.video-js .vjs-fullscreen-control{cursor:pointer;flex:none}.vjs-playback-rate .vjs-playback-rate-value,.vjs-playback-rate>.vjs-menu-button{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:"X";font-family:Arial,Helvetica,sans-serif;font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;margin:-25px 0 0 -25px;opacity:.85;text-align:left;border:6px solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:50px;height:50px;border-radius:25px;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block;-webkit-animation:vjs-spinner-show 0s linear .3s forwards;animation:vjs-spinner-show 0s linear .3s forwards}.vjs-loading-spinner:after,.vjs-loading-spinner:before{content:"";position:absolute;margin:-6px;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:transparent;border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before{-webkit-animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite;animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;-webkit-animation-delay:.44s;animation-delay:.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@-webkit-keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{to{transform:rotate(360deg)}}@-webkit-keyframes vjs-spinner-spin{to{-webkit-transform:rotate(360deg)}}@keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}@-webkit-keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:"\\f10d";font-size:1.5em;line-height:inherit}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:" \\f11d";font-size:1.5em;line-height:inherit}.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-audio-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-captions-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-chapters-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-current-time,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-descriptions-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-duration,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-playback-rate,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-subtitles-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-time-divider,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-control,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-audio-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-captions-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-chapters-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-current-time,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-descriptions-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-duration,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-playback-rate,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-subtitles-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-time-divider,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-control,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-audio-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-captions-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-chapters-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-current-time,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-descriptions-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-duration,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-playback-rate,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-subtitles-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-time-divider,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-control{display:none}.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover{width:auto;width:initial}.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-subs-caps-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small:not(.vjs-live) .vjs-subs-caps-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small:not(.vjs-liveui) .vjs-subs-caps-button{display:none}.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-custom-control-spacer,.video-js:not(.vjs-fullscreen).vjs-layout-x-small.vjs-liveui .vjs-custom-control-spacer{flex:auto;display:block}.video-js:not(.vjs-fullscreen).vjs-layout-tiny.vjs-no-flex .vjs-custom-control-spacer,.video-js:not(.vjs-fullscreen).vjs-layout-x-small.vjs-liveui.vjs-no-flex .vjs-custom-control-spacer{width:auto}.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-progress-control,.video-js:not(.vjs-fullscreen).vjs-layout-x-small.vjs-liveui .vjs-progress-control{display:none}.vjs-modal-dialog.vjs-text-track-settings{background-color:#2b333f;background-color:rgba(43,51,63,.75);color:#fff;height:70%}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-controls,.vjs-text-track-settings .vjs-track-settings-font{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}@supports (display:grid){.vjs-text-track-settings .vjs-modal-dialog-content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;padding:20px 24px 0}.vjs-track-settings-controls .vjs-default-button{margin-bottom:20px}.vjs-text-track-settings .vjs-track-settings-controls{grid-column:1/-1}.vjs-layout-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-tiny .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-x-small .vjs-text-track-settings .vjs-modal-dialog-content{grid-template-columns:1fr}}.vjs-track-setting>select{margin-right:1em;margin-bottom:.5em}.vjs-text-track-settings fieldset{margin:5px;padding:3px;border:none}.vjs-text-track-settings fieldset span{display:inline-block}.vjs-text-track-settings fieldset span>select{max-width:7.3em}.vjs-text-track-settings legend{color:#fff;margin:0 0 5px}.vjs-text-track-settings .vjs-label{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);display:block;margin:0 0 5px;padding:0;border:0;height:1px;width:1px;overflow:hidden}.vjs-track-settings-controls button:active,.vjs-track-settings-controls button:focus{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg,#fff 88%,#73859f 100%)}.vjs-track-settings-controls button:hover{color:rgba(43,51,63,.75)}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg,#fff 88%,#73859f 100%);color:#2b333f;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}@media print{.video-js>:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;z-index:-1000}.js-focus-visible .video-js :focus:not(.focus-visible){outline:0;background:0 0}.video-js .vjs-menu :focus:not(:focus-visible),.video-js :focus:not(:focus-visible){outline:0;background:0 0}/*! @name videojs-seek-buttons @version 2.2.0 @license Apache-2.0 */.video-js .vjs-seek-button{font-family:VideoJS;cursor:pointer;font-weight:400;font-style:normal}.video-js .vjs-seek-button.skip-back:before,.video-js.vjs-v6 .vjs-seek-button.skip-back .vjs-icon-placeholder:before,.video-js.vjs-v7 .vjs-seek-button.skip-back .vjs-icon-placeholder:before{transform:rotate(-45deg);-ms-transform:rotate(-45deg);-webkit-transform:rotate(-45deg);content:"\\f116"}.video-js .vjs-seek-button.skip-forward:before{transform:rotateY(180deg) rotate(-45deg);-ms-transform:rotateY(180deg) rotate(-45deg);-webkit-transform:rotateY(180deg) rotate(-45deg);content:"\\f116"}.video-js.vjs-v6 .vjs-seek-button.skip-back:before,.video-js.vjs-v6 .vjs-seek-button.skip-forward:before,.video-js.vjs-v7 .vjs-seek-button.skip-back:before,.video-js.vjs-v7 .vjs-seek-button.skip-forward:before{content:none}.video-js.vjs-v6 .vjs-seek-button.skip-forward .vjs-icon-placeholder:before,.video-js.vjs-v7 .vjs-seek-button.skip-forward .vjs-icon-placeholder:before{transform:scaleX(-1) rotate(-45deg);-ms-transform:scale(-1,1) rotate(-45deg);-webkit-transform:scale(-1,1) rotate(-45deg);content:"\\f116"}.video-js .vjs-touch-overlay{display:flex;position:absolute;width:100%;height:100%;pointer-events:none;left:0;top:0}.video-js.vjs-has-started .vjs-touch-overlay{pointer-events:auto}.video-js .vjs-touch-seek-note{display:none;margin:auto;padding:10px 15px;border-radius:5px;background:rgba(0,0,0,.5);color:#fff;font-size:16px;min-width:130px}.video-js .vjs-touch-seek-note-icon{width:30px;margin:0 auto 10px}.video-js .vjs-touch-overlay.vjs-touch-active.vjs-touch-moving .vjs-touch-seek-note{display:flex;flex-direction:column;align-items:center}.video-js .vjs-touch-progress{height:3px;width:100%;border-radius:5px;margin-top:10px;background:rgba(255,255,255,.5)}.video-js .vjs-touch-progress .progress{height:100%;width:0;border-radius:5px;background:var(--color-theme)}.vjs-theme-melon{--vjs-theme-melon--primary: var(--color-theme);--vjs-theme-melon--secondary: #fff}.vjs-theme-melon .vjs-control-bar{height:40px;font-size:1.1em}.vjs-theme-melon .vjs-button>.vjs-icon-placeholder:before{line-height:40px}.vjs-theme-melon .vjs-time-control{line-height:40px}.vjs-theme-melon .vjs-volume-bar{margin-top:auto}.vjs-theme-city .vjs-volume-panel:hover .vjs-volume-control.vjs-volume-horizontal{height:100%}.vjs-theme-melon .vjs-remaining-time{flex-grow:1;text-align:end;font-size:14px}.vjs-theme-melon .vjs-progress-control .vjs-progress-holder{font-size:1.5em;margin:0 2px}.vjs-theme-melon .vjs-progress-control:hover .vjs-progress-holder{font-size:1.5em}.vjs-theme-melon .vjs-play-progress{background-color:var(--vjs-theme-melon--primary)}.vjs-theme-melon .vjs-play-progress:before{height:.8em;width:.8em;content:"";background-color:var(--vjs-theme-melon--primary);border:4px solid var(--vjs-theme-melon--secondary);border-radius:.8em;top:-.25em}.vjs-theme-melon .vjs-progress-control{font-size:14px;min-width:100%;height:20px;position:absolute;left:0;bottom:40px;align-items:flex-end;z-index:1}.vjs-theme-melon .vjs-playback-rate-value{display:flex;align-items:center;justify-content:center}.vjs-theme-melon .vjs-menu-button-popup .vjs-menu .vjs-menu-content{bottom:2.3em}.video-js[data-v-5fa5690a] .vjs-seek-button.skip-forward .vjs-icon-placeholder:before{transform:scaleX(-1) rotate(-45deg);font-size:32px}.video-js[data-v-5fa5690a] .vjs-seek-button.skip-forward .vjs-icon-placeholder:after{display:block;font-weight:500;content:"10";transform:scale(.7) translate(-3px)}.video-js[data-v-5fa5690a] .vjs-seek-button,.video-js[data-v-5fa5690a] .vjs-volume-panel,.video-js[data-v-5fa5690a] .vjs-fullscreen-control,.video-js[data-v-5fa5690a] .vjs-play-control{font-size:1.2em}.video-js[data-v-5fa5690a] .vjs-seek-button.skip-back .vjs-icon-placeholder:before{transform:rotate(-45deg);font-size:32px}.video-js[data-v-5fa5690a] .vjs-seek-button.skip-back .vjs-icon-placeholder:after{display:block;font-weight:500;content:"10";transform:scale(.7) translate(3px)}.video-js[data-v-5fa5690a] .vjs-control,.video-js[data-v-5fa5690a] .vjs-volume-panel.vjs-volume-panel-vertical{width:3em}.video-js[data-v-5fa5690a] .vjs-tech,.video-js[data-v-5fa5690a] .vjs-poster{pointer-events:none}.video-js[data-v-5fa5690a] .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical,.video-js[data-v-5fa5690a] .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical,.video-js[data-v-5fa5690a] .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical,.video-js[data-v-5fa5690a] .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical,.video-js[data-v-5fa5690a] .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-vertical,.video-js[data-v-5fa5690a] .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical{left:-3em}\n', document.head.appendChild(t), System.register(["./index-legacy.7f4c796c.js", "./BaseHeader-legacy.3c08f122.js", "./VideoBlock-legacy.1115ff99.js", "./AdBanner-legacy.c0bc4844.js", "./video-legacy.63e23f06.js", "./Feedback-legacy.1b50bf22.js", "./ActionSheet-legacy.84aaad29.js", "./playlist-legacy.24a81d84.js", "./index-legacy.db0136ea.js", "./Tag-legacy.03cc50fc.js", "./useInfiniteScroll-legacy.26c5cf3a.js", "./BaseImage-legacy.2fd86147.js", "./TimerClose-legacy.a3d10972.js", "./RelatedVideos-legacy.a0158aa9.js", "./feedback-legacy.4746f8d1.js", "./index-legacy.8885b6af.js", "./use-id-legacy.0c15a2be.js", "./VideoColList-legacy.9344ffe7.js", "./index-legacy.443f3322.js"], (function(t) {
        "use strict";
        var i, n, r, s, a, o, l, u, c, d, h, p, f, m, v, g, y, _, b, T, k, S, j, w, A, C, E, x, I, L, P, O, D, U, R, M, B, N, F, V, H, q, z, W, G, Y, X, K, Q, J, Z, $, ee, te, ie, ne, re, se, ae, oe, le, ue, ce, de, he, pe, fe, me, ve, ge, ye, _e, be, Te, ke, Se, je, we, Ae, Ce;
        return {
            setters: [function(e) {
                i = e.P, n = e.d, r = e.g, s = e.S, a = e.ag, o = e.Z, l = e._, u = e.b, c = e.e, d = e.j, h = e.K, p = e.A, f = e.r, m = e.w, v = e.D, g = e.z, y = e.q, _ = e.u, b = e.a7, T = e.ah, k = e.aM, S = e.aL, j = e.t, w = e.v, A = e.x, C = e.T, E = e.B, x = e.bm, I = e.p, L = e.bn, P = e.bo, O = e.bp, D = e.h, U = e.c, R = e.C, M = e.bq, B = e.y, N = e.l, F = e.I, V = e.i, H = e.F, q = e.f, z = e.br, W = e.k, G = e.aJ, Y = e.ar, X = e.bs, K = e.bt, Q = e.bu, J = e.aa, Z = e.bv, $ = e.ak, ee = e.aO, te = e.aI
            }, function(e) {
                ie = e.n, ne = e.B
            }, function(e) {
                re = e._, se = e.a
            }, function(e) {
                ae = e.c, oe = e.a, le = e.u, ue = e.A
            }, function(e) {
                ce = e.u, de = e.l, he = e.v, pe = e.a, fe = e.b
            }, function(e) {
                me = e.F
            }, function(e) {
                ve = e.A
            }, function(e) {
                ge = e.g, ye = e.s, _e = e.r, be = e.c
            }, function(e) {
                Te = e.F
            }, function(e) {
                ke = e.T
            }, function(e) {
                Se = e.u, je = e.a
            }, function(e) {
                we = e.B
            }, function(e) {
                Ae = e.T
            }, function(e) {
                Ce = e.R
            }, function() {}, function() {}, function() {}, function() {}, function() {}],
            execute: function() {
                const[Ee, xe] = i("divider"), Ie = {
                    dashed: Boolean,
                    hairline: s,
                    contentPosition: a("center")
                };
                var Le = n({
                    name: Ee,
                    props: Ie,
                    setup: (e, {
                        slots: t
                    }) => () => {
                        var i;
                        return r("div", {
                            role: "separator",
                            class: xe({
                                dashed: e.dashed,
                                hairline: e.hairline,
                                [`content - $ {
                                    e.contentPosition
                                }`]: !! t.
                                default
                            })
                        }, [null == (i = t.
                        default) ? void 0 : i.call(t)])
                    }
                });
                const Pe = o(Le);
                const Oe = {
                    class: "h-5 w-5"
                }, De = {
                    key: 0,
                    src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEBSURBVHgB1ZJBbsIwEEX/OEOU7nIEjlBuRFdVuuoNqt6AXRZdlJ6kPQI9QTmCWWElsV1GyGpBIcTgDW9jWzPz9GUbiMC/ozzXozASkXUtf7Zv/DLUR4iQweNezpPHji5OeCwj+PVQv4qRCdbT90XCPtm+gBUG4FOFXtkOIpRNnc0PUino1tnVXYU1SZLG8HMo5kW3MAYlK/5BBHK3WW5ntK0x/T/MGU9NayhWGGZH/8OxpBVmZpNMSOSX9ACdTOgtfcjKSIC8MFf2S/ZJEjqH17C/OqGkm1R2Gc69CYsCerdojMC7/d0FWIYb8xcZudnIa23rbqbA80GZd7p4cgvcFL+fR2tDewTaoQAAAABJRU5ErkJggg==",
                    alt: "thumb-up"
                }, Ue = {
                    key: 1,
                    src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEESURBVHgB1VPBEYIwEDwc/9qBdqB2YAdaAnRAB0AHWIFYgVqBdKAdiBUIFcQ952ACYyIIH3dmSSa521suCVEHKKWmNBRYDLyCAfWFJvYG9UFTDLjTr2iIhTKebDkjmxiGC7gEIzCVrRtZMLbsVWKO47A7X9bZtduIzbkQ4jJHnPjaZsxJIPcqQZAnjo8Ytub6lIGrsSTrV2GvzR/afAeeP2vRRopNbL9cA5ympj24n4ug+VA6YiFj0VtQc8f9zodwWPb/wJ9egnJD1mBW9rj1oRjAvzoHvXLhm+BEemRCIO6SaoUTVB0zecNP1Q6hXoEd8rOJtLWCTwuBK8xdsiNHbEx/hRea1sTMciu83AAAAABJRU5ErkJggg==",
                    alt: "thumb-up"
                }, Re = n({
                    props: {
                        id: {
                            type: Number,
                            required: !0
                        },
                        isLike: {
                            type: Boolean,
                            required: !0
                        }
                    },
                    emits: ["click"],
                    setup(e, {
                        emit: t
                    }) {
                        const i = e;
                        async
                        function n() {
                            if (!p()
                                .isLogin) return ie();
                            const e = i.isLike ? ce : de;
                            if (!(await e(i.id))) return ie();
                            t("click", i.isLike ? {
                                delta: -1,
                                isLike: !1
                            } : {
                                delta: 1,
                                isLike: !0
                            })
                        }
                        return (t, i) => (u(), c("button", {
                            class: "action-btn",
                            onClick: n
                        }, [d("div", Oe, [e.isLike ? (u(), c("img", De)) : (u(), c("img", Ue))]), d("div", {
                            class: h(e.isLike && "text-theme")
                        }, "点赞", 2)]))
                    }
                });
                var Me = l(Re, [
                    ["__file", "/Users/jetfuel_mini/Desktop/melon/melon-front-end/src/pages/play/components/ActionLike.vue"]
                ]);
                const Be = [d("img", {
                    src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEVSURBVHgBzVTREYIwDA2e/7qBjOAGOoJuoBOoE6gTqBOAE+AGsIE4AWwAG9QXCVyOA7XCh+/uXZO0pI+kLVHPcLRjjJliGJMdcsdxYqolcsHQ2COTMQHHlUI4HoYVuANjsoMLnsArlG5LhXfwRj8C3/qsku2BxFhuRj1gQD2jMSHkb6RJrvhse1x4aWAA7luzSpc85Zc48FFS/lxiL6j1VQ2HLXuswRnoo3MpFh85CDuCnVJR85S+VWiLpi73Bp3Q9sppjMCcjbKGV3AP2XziHzIZoWa5XKnFm2QTmb9UETkOfu2eruSIJOYzAqPvsk6MgV+cEDzLzhxbUntX+bXJqQ2iyqhXxKUuUAnD8jc6wxQP7X/gCVThSxS2xUKUAAAAAElFTkSuQmCC",
                    alt: "message"
                }, null, -1), d("div", null, "反馈", -1)], Ne = g("意见反馈"), Fe = {
                    class: "mx-auto max-w-screen-md h-[calc(100vh-56px)] pb-20 overflow-auto"
                };
                var Ve = l(n({
                    props: {
                        videoId: {
                            type: Number,
                            required: !0
                        }
                    },
                    setup(e) {
                        const t = f(!1), i = () => {
                            if (!p()
                                .isLogin) return ie();
                            t.value = !0
                        }, n = f(), s = () => {
                            var e;
                            (t.value = !1, n.value) && (null === (e = n.value) || void 0 === e || e.clear())
                        };
                        return (a, o) => (u(), c("div", null, [d("button", {
                            class: "action-btn",
                            onClick: i
                        }, Be), r(v, {
                            show: t.value,
                            "onUpdate:show": o[1] || (o[1] = e => t.value = e),
                            width: "100%",
                            class: "h-full !bg-primary !rounded-none !transform-none !top-0 !left-0",
                            "show-cancel-button": !1,
                            "show-confirm-button": !1
                        }, {
                            default: m((() => [r(ne, {
                                "show-back": "",
                                "exclude-proxy-back": "",
                                onBackClick: s
                            }, {
                                default: m((() => [Ne])),
                                _: 1
                            }), d("div", Fe, [r(me, {
                                ref_key: "feedbackEl",
                                ref: n,
                                videoId: e.videoId,
                                onSuccessAction: o[0] || (o[0] = e => t.value = !1)
                            }, null, 8, ["videoId"])])])),
                            _: 1
                        }, 8, ["show"])]))
                    }
                }), [
                    ["__file", "/Users/jetfuel_mini/Desktop/melon/melon-front-end/src/pages/play/components/ActionFeedback.vue"]
                ]);
                const He = e => (w("data-v-339d19f5"), e = e(), A(), e), qe = [He((() => d("img", {
                    src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEVSURBVHgBxVSLrcIwDEye3gC8DfI2YIRuQDegG8AGwASUCYAJYAPEBLABbECZwFzFRRiUpOUjcdK1VnO52K5bY74BEZmCQ/MpwOxEdsy7gEkuN2RN+h/TjB54BCuw3yS2TYK6VNzW4JmG/9bayryCukRfqo5TeywEDvdRZL0LOmT0p7I9gvuIfvaLSwYWfFCRGksVT8AB93g4FW8NT3bggSXFsr1DPUKcT+HeLCQolcAlzLoqgTI5n2y+FxeB9TyaVcLUb8ojBwbXUoZzvlF9QMG4w8+wfMbwQFPdeGHse93u21blDh8aP1a9K6TFkOtyJdT4h7dbY97G8ETxKlSSXGd2QU26bPZnJy1+pmzJRj7xj0zhAgxHiXp32CScAAAAAElFTkSuQmCC",
                    alt: "star"
                }, null, -1))), He((() => d("div", null, "收藏", -1)))], ze = {
                    class: "text-center p-2.5"
                }, We = {
                    class: "flex justify-between items-center"
                }, Ge = He((() => d("div", {
                    class: "text-lg leading-[20px]"
                }, "添加到收藏夹", -1))), Ye = He((() => d("span", {
                    class: "text-theme"
                }, "新建收藏夹", -1))), Xe = {
                    class: "px-5 pt-5 pb-15px"
                }, Ke = {
                    class: "h-5 text-error text-sm pl-3"
                }, Qe = n({
                    props: {
                        videoId: {
                            type: Number,
                            required: !0
                        }
                    },
                    setup(e) {
                        const t = e, i = y({
                            show: !1,
                            loading: !1,
                            list: []
                        });
                        async
                        function n() {
                            if (!p()
                                .isLogin) return ie();
                            i.show = !0, i.loading = !0, i.list = [];
                            const e = await ge(t.videoId);
                            i.list = e.map((e => ({
                                id: e.id,
                                checked: e.video_exist,
                                name: e.name
                            }))), i.loading = !1
                        }
                        async
                        function s(e) {
                            const {
                                action: n,
                                index: r
                            } = e;
                            i.list[r].checked = !i.list[r].checked;
                            const s = n.checked ? ye : _e;
                            if (await s(n.id, [t.videoId])) {
                                const e = i.list[r].checked ? `已添加到收藏夹$ {
                                    n.name
                                }` : `已从收藏夹$ {
                                    n.name
                                }中移除`;
                                C.success(e)
                            } else i.list[r].checked = !i.list[r].checked, ie()
                        }
                        const a = y({
                            show: !1,
                            text: "",
                            errors: null
                        });
                        async
                        function o(e) {
                            if ("cancel" === e) return a.text = "", a.errors = null, !0;
                            if ("confirm" !== e) return !1;
                            if (!a.text) return a.errors = {
                                name: "不可以为空"
                            }, !1; {
                                const e = await be({
                                    name: a.text,
                                    videoId: t.videoId
                                });
                                "errors" in e ? (a.errors = e.errors, Promise.resolve(!1)) : (Promise.resolve(!0), C.success(`已添加到收藏夹$ {
                                    e.name
                                }`), a.show = !1, i.show = !1, a.text = "", a.errors = null)
                            }
                        }
                        return (e, t) => (u(), c("div", null, [d("button", {
                            class: "action-btn",
                            onClick: n
                        }, qe), r(ve, {
                            class: "folderList",
                            show: _(i)
                                .show,
                            cancelText: "关闭",
                            useCheckboxMode: "",
                            actions: _(i)
                                .list,
                            onSelect: s,
                            onCancel: t[1] || (t[1] = e => _(i)
                                .show = !1)
                        }, {
                            title: m((() => [d("div", We, [Ge, d("button", {
                                onClick: t[0] || (t[0] = e => _(a)
                                    .show = !0)
                            }, [r(_(b), {
                                name: "plus",
                                color: "var(--color-theme)"
                            }), Ye])])])),
                            default: m((() => [T(d("div", ze, [r(_(S))], 512), [
                                [k, _(i)
                                    .loading]
                            ])])),
                            _: 1
                        }, 8, ["show", "actions"]), r(v, {
                            show: _(a)
                                .show,
                            "onUpdate:show": t[3] || (t[3] = e => _(a)
                                .show = e),
                            title: "新建收藏夹",
                            "show-cancel-button": "",
                            "before-close": o
                        }, {
                            default: m((() => {
                                var e;
                                return [d("div", Xe, [r(_(Te), {
                                    modelValue: _(a)
                                        .text,
                                    "onUpdate:modelValue": t[2] || (t[2] = e => _(a)
                                        .text = e),
                                    class: "newFolder !bg-[transparent]"
                                }, null, 8, ["modelValue"]), d("div", Ke, j(null === (e = _(a)
                                    .errors) || void 0 === e ? void 0 : e.name), 1)])]
                            })),
                            _: 1
                        }, 8, ["show"])]))
                    }
                });
                var Je = l(Qe, [
                    ["__scopeId", "data-v-339d19f5"],
                    ["__file", "/Users/jetfuel_mini/Desktop/melon/melon-front-end/src/pages/play/components/ActionSave.vue"]
                ]);
                const Ze = navigator.userAgent, $e = /(iPad).*OS\s([\d_]+)/.test(Ze), et = /(iPod)(.*OS\s([\d_]+))?/.test(Ze), tt = !$e && /(iPhone\sOS)\s([\d_]+)/.test(Ze), it = $e || et || tt, nt = /(Android);?[\s/]+([\d.]+)?/.test(Ze), rt = /micromessenger/i.test(Ze), st = /QQ\/([\d.]+)/.test(Ze), at = /Qzone\//.test(Ze), ot = /MQQBrowser/i.test(Ze) && !rt && !st, lt = /UCBrowser/i.test(Ze), ut = /Baidu/i.test(Ze), ct = /SogouMobileBrowser/i.test(Ze);
                /baiduboxapp/i.test(Ze);
                const dt = !(it || nt);

                function ht() {
                    console.log("noop")
                }
                function pt(e, t = ht) {
                    const i = document.getElementsByTagName("script")[0], n = document.createElement("script");
                    n.src = e, n.async = !0, i.parentNode.insertBefore(n, i), n.onload = t
                }
                function ft(e, t) {
                    if (null == e) throw new TypeError("Cannot convert undefined or null to object");
                    const i = Object(e);
                    for (let n = 1; n < arguments.length; n++) {
                        const e = arguments[n];
                        if (null != e) for (const t in e) Object.prototype.hasOwnProperty.call(e, t) && (i[t] = e[t])
                    }
                    return i
                }
                function mt(e) {
                    if (it) location.href = e;
                    else {
                        const t = document.createElement("iframe");
                        t.style.display = "none", t.src = e, document.body.appendChild(t), setTimeout((function() {
                            t && t.parentNode && t.parentNode.removeChild(t)
                        }), 2e3)
                    }
                }
                function vt(e, t = !1) {
                    const i = [];
                    for (const n in e) t ? i.push(`$ {
                        n
                    } = $ {
                        encodeURIComponent(e[n])
                    }`) : i.push(`$ {
                        n
                    } = $ {
                        e[n]
                    }`);
                    return i.join("&")
                }
                const gt = {
                    _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
                    encode: function(e) {
                        let t, i, n, r, s, a, o, l = "", u = 0;
                        for (e = gt._utf8_encode(e); u < e.length;) t = e.charCodeAt(u++), i = e.charCodeAt(u++), n = e.charCodeAt(u++), r = t >> 2, s = (3 & t) << 4 | i >> 4, a = (15 & i) << 2 | n >> 6, o = 63 & n, isNaN(i) ? a = o = 64 : isNaN(n) && (o = 64), l = l + this._keyStr.charAt(r) + this._keyStr.charAt(s) + this._keyStr.charAt(a) + this._keyStr.charAt(o);
                        return l
                    },
                    _utf8_encode: function(e) {
                        e = e.replace(/\r\n/g, "\n");
                        for (var t = "", i = 0; i < e.length; i++) {
                            const n = e.charCodeAt(i);
                            n < 128 ? t += String.fromCharCode(n) : n > 127 && n < 2048 ? (t += String.fromCharCode(n >> 6 | 192), t += String.fromCharCode(63 & n | 128)) : (t += String.fromCharCode(n >> 12 | 224), t += String.fromCharCode(n >> 6 & 63 | 128), t += String.fromCharCode(63 & n | 128))
                        }
                        return t
                    }
                };
                const yt = document.querySelector("meta[name=description]"), _t = document.querySelector("link[rel*=icon]");

                function bt() {
                    return Object(yt)
                        .content || ""
                }
                var Tt = {
                    link: location.href,
                    title: document.title,
                    text: bt(),
                    desc: bt(),
                    icon: Object(_t)
                        .href || `$ {
                        location.protocol
                    } //${location.hostname}/favicon.ico`,from:"",success:ht,fail:ht,trigger:ht};function kt(e){return vt({share_id:924053302,url:gt.encode(e.link),title:gt.encode(e.title),description:gt.encode(e.desc),previewimageUrl:gt.encode(e.icon),image_url:gt.encode(e.icon)})}function St(){mt(`${it?"mqqapi://share/to_fri?src_type=web&version=1&file_type=news":"mqqapi://share/to_fri?src_type=isqqBrowser&version=1&file_type=news"}&${kt(Tt)}`)}function jt(){mt(`${it?"mqqapi://share/to_fri?file_type=news&src_type=web&version=1&generalpastboard=1&shareType=1&cflag=1&objectlocation=pasteboard&callback_type=scheme&callback_name=QQ41AF4B2A":"mqqapi://share/to_qzone?src_type=isqqBrowser&version=1&file_type=news&req_type=1"}&${kt(Tt)}`)}function wt(){const e={url:Tt.link,title:Tt.title,pic:Tt.icon};location.href=`http://service.weibo.com/share/share.php?${vt(e,!0)}`}class At{constructor(t){e(this,"_shareData",Tt),e(this,"_config",{syncDescToTag:!1,syncIconToTag:!1,syncTitleToTag:!1}),this.setConfig(t)}getShareData(){return ft({},this._shareData)}setShareData(e={}){var t,i;ft(this._shareData,e),this._config.syncDescToTag&&(t=this._shareData.desc,yt?yt.content=t:document.head.insertAdjacentHTML("beforeend",`<meta name="description" content="${t}">`)),this._config.syncIconToTag&&(i=this._shareData.icon,_t?_t.href=i:document.head.insertAdjacentHTML("beforeend",`<link rel="shortcut icon" href="${i}">`)),this._config.syncTitleToTag&&function(e){document.title=e}(this._shareData.title)}setConfig(e={}){ft(this._config,e)}getConfig(){return ft({},this._config)}}const Ct="wechatfriend",Et="wechattimeline",xt="qqfriend",It="qzone",Lt="weibo",Pt="default";class Ot extends At{constructor(e){super(e),pt("https://jsapi.qq.com/get?api=app.share")}call(e="default",t){this.setShareData(t);const i=this.getShareData(),n=this.constructor.commamdMap[String(e).toLowerCase()];browser.app.share({title:i.title,description:i.desc,url:i.link,img_url:i.icon,from:i.from,to_app:n})}}e(Ot,"commamdMap",{[Et]:8,[Ct]:1,[xt]:4,[It]:3,[Lt]:11,copyurl:10,more:5,generateqrcode:7,[Pt]:void 0});class Dt extends At{call(e="default",t){this.setShareData(t);const i=this.getShareData(),n=this.constructor.commamdMap[String(e).toLowerCase()];ucbrowser.web_shareEX?ucbrowser.web_shareEX(JSON.stringify({title:i.title,content:i.desc,sourceUrl:i.link,imageUrl:i.icon,source:i.from,target:n})):ucbrowser.web_share(title,desc,link,n,"",from,"")}}e(Dt,"commamdMap",{[Et]:"kWeixinFriend",[Ct]:"kWeixin",[xt]:"kQQ",[It]:"kQZone",[Lt]:"kSinaWeibo",[Pt]:void 0});class Ut extends At{constructor(e){super(e)}call(e="default",t){this.setShareData(t);const i=this.getShareData(),n=this.constructor.commamdMap[String(e).toLowerCase()];ucweb.startRequest("shell.page_share",[i.title,i.desc,i.link,n,"",i.from,i.icon])}}e(Ut,"commamdMap",{[Et]:"WechatTimeline",[Ct]:"WechatFriends",[xt]:"QQ",[It]:"Qzone",[Lt]:"SinaWeibo",[Pt]:""});class Rt extends At{constructor(e){super(e)}call(e,t){try{this.setShareData(t);const e=this.getShareData();window.Bdbox_android_utils?window.Bdbox_android_utils.callNativeShare():_flyflowNative.exec("baidu_utils","shareWebPage",JSON.stringify({title:e.title,content:e.desc,landurl:e.link,imageurl:e.icon,shareSource:e.from}),"")}catch(i){alert(`error:${i}`)}}}class Mt extends At{call(e,t){this.setShareData(t);const i=this.getShareData();SogouMse.Utility.shareWithInfo({shareTitle:i.title,shareContent:i.desc,shareImageUrl:i.icon,shareUrl:i.link})}}class Bt extends At{constructor(e){super(e),this.setConfig(e)}call(e,t){this.setShareData(t)}setConfig(e){super.setConfig(e),this.init(this.getConfig().wechatConfig)}init(e){e&&pt("https://res.wx.qq.com/open/js/jweixin-1.4.0.js",(()=>{wx.config(ft({debug:!1,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","updateAppMessageShareData","updateTimelineShareData"]},e));const t=this._shareData,i={};Object.defineProperty(i,"trigger",{get:()=>(...e)=>{ft(i,{title:t.title,desc:t.desc,link:t.link,imgUrl:t.icon,success:t.success,fail:t.fail,cancel:t.fail}),t.trigger(...e)},set(e){t.trigger=e},enumerable:!0}),wx.ready((()=>{wx.onMenuShareAppMessage(i),wx.onMenuShareQQ(i),wx.onMenuShareQZone(i),wx.onMenuShareWeibo(i),wx.onMenuShareTimeline(i),wx.updateAppMessageShareData(i),wx.updateTimelineShareData(i)}))}))}}class Nt extends At{constructor(e){super(e)}call(e="default",t){if(this.setShareData(t),!navigator.share){if((e=String(e).toLowerCase())!==Lt)throw e===xt?St():e===It&&jt(),new Error(`the browser may not support command ${e}!`);return void wt()}const i=this.getShareData(),n={url:i.link,title:i.title,text:i.desc};navigator.share(n).then(i.success).catch(i.fail)}}class Ft extends At{constructor(e){super(e),this.init()}call(e="default",t){this.setShareData(t),mqq.ui.showShareMenu()}init(){pt("https://open.mobile.qq.com/sdk/qqapi.js",(()=>{const e=this._shareData;mqq.ui.setOnShareHandler((t=>{mqq.ui.shareMessage({back:!0,share_type:t,title:e.title,desc:e.desc,share_url:e.link,image_url:e.icon,sourceName:e.from},(t=>{0===t.retCode?e.success(t):e.fail(t)}))}))}))}}class Vt extends At{constructor(e){super(e),this.init()}setShareData(e){super.setShareData(e);const t=this.getShareData();(function(e){const t=document.createElement("a");return t.href=e,t.hostname})(t.link)!==location.hostname&&(t.link=location.href,console.warn("安卓的QQ自带浏览器分享url必须跟页面url同一个域名，已自动为你设置为当前页面的url"));try{mqq.data.setShareInfo({share_url:t.link,title:t.title,desc:t.desc,image_url:t.icon},(e=>{!0!==e&&console.warn(e)}))}catch(i){}}call(e="default",t){this.setShareData(t),mqq.ui.showShareMenu()}init(){pt("https://open.mobile.qq.com/sdk/qqapi.js",(()=>{this.setShareData()}))}}class Ht extends At{constructor(e){super(e),this.init()}call(e="default",t){this.setShareData(t);const i=this.getShareData(),n=[],r=[],s=[],a=[];for(let o=0;o<5;o++)n.push(i.icon),a.push(i.link),r.push(i.title),s.push(i.desc);QZAppExternal.setShare((({code:e})=>{0!==e&&(this.hasSomethingWrong=!0)}),{type:"share",image:n,title:r,summary:s,shareURL:a})}setShareData(e){try{this.call("default",e)}catch(t){}}init(){pt("https://qzonestyle.gtimg.cn/qzone/phone/m/v4/widget/mobile/jsbridge.js",(()=>{this.call("default")}))}}class qt extends At{call(){throw new Error("It's PC, so throw error!")}}let zt;zt=dt?qt:rt?Bt:st&&it?Ft:st&&nt?Vt:at?Ht:ot?Ot:lt&&it?Dt:lt&&nt?Ut:ut&&nt?Rt:ct&&it?Mt:Nt;var Wt=zt;const Gt={class:"action-share"},Yt=[d("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAASCAYAAAC9+TVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADeSURBVHgBrVQLEcIwDE05BExCJSChEiYBCXWABOZgOEDCcLA52BwMByHhMhq63tHc8e7e9bP0NXmX1YEBiNjQEGQ5OecWsIAEPHHGBJ6frCK9HO6IkbgSR6vIyLer9Z0VeX6sFAg0sB9cUqRxInIpyy5QgvUeHxqkjDXzhNHqwJ1hxIva6yWOeRZPPPwwbMOQZ2cyjG+EShzEHC9ZBDHsCRYUPNEGzl+1Vwh9DBN2BWMbiYlW8VuWpUaAWlBwqwSC8L9tbxHZPLpiakRzJqXO9vzNgRGYfsYHPUrvfnoB3G+wqVwnpEMAAAAASUVORK5CYII=",alt:"share"},null,-1),d("div",null,"分享",-1)];var Xt=l(n({props:{title:{type:String,required:!0}},setup(e){const t=e,i=E(),n=f(location.href),{copy:r}=x({source:n,legacy:!0}),s=I("commonURL",{download_url:"",share_url:""}),a=new Wt,o=async()=>{const e=await(async()=>(""===s.value.share_url&&(s.value=await L()),`${P(s.value.share_url)}/#${i.path}`))();try{a.call("default",{title:"西瓜视频",desc:t.title,link:e,icon:"/assets/icon.b73eec5a.png"})}catch(n){const i=`${t.title} \r${e}`;try{await r(i)}catch(o){!function(e){const t=document.createElement("textarea");t.value=null!=e?e:"",t.style.position="absolute",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("cut"),t.remove()}(i)}C.success("已复制链接")}};return(e,t)=>(u(),c("div",Gt,[d("button",{class:"action-btn",onClick:o},Yt)]))}}),[["__file","/Users/jetfuel_mini/Desktop/melon/melon-front-end/src/pages/play/components/ActionShare.vue"]]);const Kt=(e=>(w("data-v-05c159e4"),e=e(),A(),e))((()=>d("div",{class:"mx-5 text-sm py-4 whitespace-pre-wrap default-style break-words"}," 请下载 App 使用缓存功能 ",-1)));var Qt=l(n({emits:["close"],setup(e,{emit:t}){const i=f(!0),n=O();D((async()=>{n.isCall||await n.getRelease()}));const r=async e=>("confirm"===e&&(window.location.href=n.versionInfo.android_url),t("close"),!0);return(e,t)=>(u(),U(v,{show:i.value,"onUpdate:show":t[0]||(t[0]=e=>i.value=e),title:"缓存下载","confirm-button-text":"下载","before-close":r},{default:m((()=>[Kt])),_:1},8,["show"]))}}),[["__scopeId","data-v-05c159e4"],["__file","/Users/jetfuel_mini/Desktop/melon/melon-front-end/src/pages/play/components/DowanloadApp.vue"]]);const Jt={key:0,class:"object-cover h-5 w-5",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGaSURBVHgBrVPLUcMwEN2VZQ/cXILTQdJB0gEdxDnw8XAgrgDoAE4Z4BBTAZTgEkIFmA5yYkK81qJ1BuIQx5gM76DP6ulptR+EBvAU/PzdDUCZLgJmbkRpEx93HeQP+hIMjy3FX5M5Y4WJe0zXrcXo3pkyYwi7PEBO9Ekx+mlXdR41CQnk/GOir34VQ8MhtIBScCEx3SmWT3SfAQNoB58WurvhiAzyAi1twAHG8EdI/By3iHEEcy0GyvWTnfqwByR+9n5gVQa4nDghKpzWE+FWIae5cWcaKGBg4Q5rVQ0MlPWzu+W61BNRzzujseMVqdj0Ac28qAjJUEfOt+44OFTM7Ne8E3vnMJNFvnCOtKJXmWV/GEHGBkd1ztlsYrb5N0j1afEMDSjbCiGt2oqC35R3QDd2PV9rwQu0AJsqj+cGKFGSUjYcf5t5JSydIG1VFZB92bMVngixUbF8vyxaG9hEAmtFH7+Cy8QdSbtSqrxsK75sM7HLvkySzTaZoudFebKyNcCWTVItBXlMMgr7QgTzO80yw39ACrsN7xNLA88ut6ul7gAAAABJRU5ErkJggg==",alt:"download"},Zt={key:1,class:"object-cover h-5 w-5",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEdSURBVHgBvVOLEYIwDA1O0BEYwREYwREYQSbADcQJwElwA0coToAb1BRevAIFBNR3lyuXz2t4SYl+gGAuwRij+AjZ9mxVEAQ32gImTNlq04W2floDLswdkiNbjFPDny8lTFGYjcQzxE/0KdCNnsm5QxrVj+08yRG1g7nQNK5slnA/SmpvZDvzZwnXk6Yh8RL6Dzq2pCV0KjGUcIrRxpFXSF0/IV4sfLdeBhf5nOFIkUJnaiL+XjPRtEnm11KRHwc2jXMAruvoL6QVboxoBbhOLnu4ToWd0z4JHM1jTyxCXS21O6f9hNr9bJ4lClLTe45YnxTfNs9O3cqXeOXDMArpyFkX3TsL5w8yM7N+vouE2LiEm+EQF/RN+Ib0V7wAMSVzjw85G7UAAAAASUVORK5CYII=",alt:"download"},$t=n({props:{videoId:{type:Number,required:!0}},setup(e){const t=e,i=R(),n=M("offlineList",[]),r=B((()=>{const e=n.value.findIndex((e=>e.data.id===t.videoId));return-1!==e&&2===n.value[e].data.status})),s=f(!1);function a(){F?r.value?C.success({message:"已下载视频",duration:3e3}):i.push({name:"offline",query:{id:t.videoId}}):s.value=!0}return(e,t)=>(u(),c("div",null,[d("button",{class:"action-btn",onClick:a},[_(r)?(u(),c("img",Jt)):(u(),c("img",Zt)),d("div",{class:h(_(r)&&"text-theme")},"缓存",2)]),s.value?(u(),U(Qt,{key:0,onClose:t[0]||(t[0]=e=>s.value=!1)})):N("v-if",!0)]))}});var ei=l($t,[["__file","/Users/jetfuel_mini/Desktop/melon/melon-front-end/src/pages/play/components/ActionDownload.vue"]]);const ti={class:"flex flex-col space-y-3 text-secondary text-sm px-15px"},ii={key:0},ni=d("div",{class:"mb-5px"},"标签",-1),ri={class:"flex flex-wrap"},si={class:"mr-5px mb-5px w-20"},ai={key:1},oi=d("div",{class:"mb-5px"},"演员",-1),li={class:"flex flex-wrap text-primary"},ui=["src"],ci={key:2},di=d("div",{class:"mb-5px"},"片商",-1),hi={key:3},pi=d("div",{class:"mb-5px"},"番号",-1),fi={class:"text-primary truncate"};var mi=l(n({props:{data:{type:null,required:!0}},setup(e){const t=f(!1),i=e=>{switch(e){case"FEMALE":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHoSURBVHgB7ZVtbtNAEIZnxoa/+AjpCQgSQSpqI/cE0BO4N6g4AGRNLtCeAHoC4ASNIgSoqRTfgHID/27sfZl1oK2q2F6nUaVKfaXIVubjyc7OTIgetWGxr+PP2PRCGyQgHGhQ7194xkC2WNh0+5e58MnjBTwbjg+ZYKoA0NeS8ce9C+S5fhHra6QWM5i+T9tytQJnw/GIFKbA40BgXkxMftPuTh5YVjsnPtBG4LKM8luB6WA6Mk2+58P0CMSHZO3e4LuZ1PlJU5InkJH+oos2mJM7vT5yYh41+TUCATooCSfkIVdqq2VXYH8em6gz8Oy16VcOFhPyVADJ9BHhMnzWGbiOgLJqqFKKLeoKLJ9SFQyWHvkCeTmfYUhZZ+D2xA2yDjYhIU+xBG9ck90eHS9gJWjDMMezHRNTiyof4K0FrT+HVaJhOle3Hgq79+qHyWphIl80Wf5y+mGrKV9ILSoE+7pJTjmU+fnux8+APXGD7Vq/KKjPgSRufLQc2eIS+235vJe3ntToJkmuF/eV9L5wHAqOmu6uM/AKrOWDyCfdnTnZ8p3rSB/QnTTbHZ+6D62hjQ6+j2pLOtsZx8yrZ9AyxRoYuf/GVfb/jbXKVtulzBS5xCtty8bJ6+xatm+0ST2oO7x34KM2rr+TkccDpgA6iAAAAABJRU5ErkJggg==";case"MALE":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHlSURBVHgB7ZbfTeNAEMa/2fy5k7gHd3B0cImUwN3T+Sq4EuJUcEcDsKEBRAVABdAB4QlCkDAVxHTgV0i8w0xIJEDCXluAkOCToqx3J/PbP99sDHzqPai7fb6nH1QQoaQWoGjxuD/eXOujhEoBFSY/CB0jITCJvjMwLAM1voFLmHHZH4Fdg2hy30ZYZnu9gQx3pYAz+ytZ9mlb+3QMr6nuYLRf1TTeK3wpvTmwlEs7dhzCZC2C+afPzHxATEdjuxb75vACtuzpaqNW2xPnhEwYksPcJGzwg6RPXHt069xG/MBQlYFzmKkdCyipZ1n/7EnSnzI+M2aHQK2pOLYIWggUN05k707GW+tRbpw4V2rz99Q12rFtp8/F5Zqma88jndEKN/+jQNP7mKBubqK8uFwg19BzcLvDnBkvpasSE+0Sm7+oClRDwLG3A8VEsRxSC1WBqmb9ywSeMhkl8hXkxiBf6c1s2oanGKSwtDKQGbEhCuEpMtyTLY0rA8HZQBL0tBZRoEVMJMs8yIsrrMPO9uiwqKiXlwM8/owLTTNzzb7MOtWEcglEj0GXgdaqjomj0xXX2CjK5315dwYjK+fZk1eK1fk5MQJpB5pA6+9ia9365Cn9EtWxp6FTKObbk3zD19jnYvg4ugN3Hc5IDfU7hwAAAABJRU5ErkJggg==";case"TRANSGENDER":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAInSURBVHgB7VVLTgJBEH3djuOWhRJdiTfAEwgn0BuoC2KIC+MJwBvgyigmygk8gnoCuYEsjbqYpeHT46ueGb/MNAMuXPASEqa7ql9V9atqYI4/hvq5UGwj/LZgcPJ8gCYmQPGcdhqNr2vPte8cGumh9ITMaNwVrlDABBBb8WHIvTSb8YTiEKLE3ZAGW/4Qj6tn/HbgtUZC+jDYkg14DLwUwk5ciGa8cvJUjw6QbL03lOX/EOgF9c+Di5e4ou+e2GNk02k4CcMQ+yTrkm/7Y01hffkMFeWhoYaoJF4+7J13DXCsFXYTMt5bc+WCQY0p7S/RJFn4AzxwtxMvNWLrnhnhVCncMYiCYtmV7KmPclsyTINEKAXenSi3eIGbNPGstHEtNsttZu+AchnwsFtmVOovYDPYR5BmR8IH9lPwUkM16zydtSkZMaKKYhmzyATGoCO2a5dYx7SEiRpHGl24YCKbQYgNTE2ISGUiDvwRMgnj3pNSluGAWmRbEEMvuxqZhBbGtsGR7asUiJJZhR1K8Np1107Cvo+WNLDSuOFw3vm5LwPBX8AtyQI94IRxwNkWApmjJjq0ROnLvIzKZlAWZcpAIFn1qZ4+tHMRJmBZ9+ixa0l4tySXEXjf99BylXImyDCQH6aAl8dYxEEHmZ92xNmBbjhdDifo0xhulX6Br9HUns1MFFuW/2oJR3nOyEXIF6LFp6gqzxc/5VmqTqLMmTHLHebKcI5/iXe++K/aDOqjSQAAAABJRU5ErkJggg=="}};return(n,s)=>{var a;const o=V("RouterLink");return u(),c(H,null,[r(z,null,{default:m((()=>{var n,s;return[T(d("div",ti,[N(" 標籤 "),null!==(n=e.data.tags)&&void 0!==n&&n.length?(u(),c("div",ii,[ni,d("div",ri,[(u(!0),c(H,null,q(e.data.tags,(e=>(u(),U(o,{key:e.id,replace:"",to:{name:"tag-detail",params:{id:e.id}}},{default:m((()=>[d("p",si,[r(ke,{"tag-name":e.name},null,8,["tag-name"])])])),_:2},1032,["to"])))),128))])])):N("v-if",!0),N(" 演員 "),e.data.actors.length?(u(),c("div",ai,[oi,d("div",li,[(u(!0),c(H,null,q(e.data.actors,(e=>(u(),c("div",{key:e.id,class:"flex mr-5px mb-5px items-center"},[r(o,{replace:"",to:{name:"actor-detail",params:{id:e.id}},class:"text-primary truncate underline"},{default:m((()=>[g(j(e.chs_name),1)])),_:2},1032,["to"]),d("img",{class:"object-cover h-14px w-14px",src:i(e.gender)},null,8,ui)])))),128))])])):N("v-if",!0),N(" 片商 "),e.data.studio?(u(),c("div",ci,[di,r(o,{replace:"",to:{name:"company-detail",params:{id:null===(s=e.data.studio)||void 0===s?void 0:s.id}},class:"text-primary truncate underline"},{default:m((()=>{var t;return[g(j(null===(t=e.data.studio)||void 0===t?void 0:t.chs_name),1)]})),_:1},8,["to"])])):N("v-if",!0),N(" 番號 "),e.data.code?(u(),c("div",hi,[pi,d("div",fi,j(e.data.code),1)])):N("v-if",!0)],512),[[k,t.value]])]})),_:1}),null!==(a=e.data.tags)&&void 0!==a&&a.length||e.data.actors.length||e.data.studio||e.data.code?(u(),U(_(Pe),{key:0,style:{color:"#979797",margin:"20px 0",cursor:"pointer"},onClick:s[0]||(s[0]=e=>t.value=!t.value)},{default:m((()=>[g(j(t.value?"显示更少":"显示更多"),1)])),_:1})):N("v-if",!0)],64)}}}),[["__file","/Users/jetfuel_mini/Desktop/melon/melon-front-end/src/pages/play/components/ShowMore.vue"]]);const vi={class:"my-3 mx-3.75 text-primary"},gi={class:"flex mx-3.75 text-secondary text-sm pb-3 content"},yi={class:"flex mr-3 justify-center items-center"},_i=d("img",{class:"mr-1",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF4SURBVHgBtVLbjYJQEL0QEv1bS6AEO1ipYNcKlC8DCVErECvQ/eD5o1vBLhVIB9gBlOAm/JDw2DPmYoAl/GwkIXPvzJmZc+YOY//8hD6n4zgyzEIQhGlVVRPYK+yHpmlJFyt2HZ7nLQCO8G9wlZHM+DlG4d0gA945po6j0UhRVfVW++E7oNB7nueKYRhhqwAHrMuyXMJSktJH13VdYnZDTHlIsCyLdEaULIpi2NSKhHWTNjCfMDPbthcPBgDE/NzqilnskGDyq4nY3vf9aVEUEfcliM+pQIWLCsC5L5koQ9YEdqvr+pFLnsGc7hJqUEfuDyUgMaSB4r5vBtGMpG5xlCVKhnbS9F0DVqvVkc/gjSeYnQaM7wcTQHcDugf4znAG0HhnI0lSAsAJPjYej+dpmk7rZMReaTfoxepnXMLQtOVGkwCAFypAQNqBDomQZtdaJHpSyJnQGV2vWZZ9UQECdoonfXvy58MMLmB3GcJIQ0FQDzAf9tTvFz/335LvhBZQAAAAAElFTkSuQmCC",alt:"upload"},null,-1),bi={class:"flex mr-3 justify-center items-center"},Ti=d("img",{class:"mr-1",src:re,alt:"watchCount"},null,-1),ki={class:"flex mr-3 justify-center items-center"},Si=d("img",{class:"mr-1",src:se,alt:"likeCount"},null,-1),ji={class:"flex mx-3.75 mb-5 justify-around"};var wi,Ai=l(n({props:{data:{type:null,required:!0}},emits:["update:data"],setup(e,{emit:t}){const i=e;function n(e){t("update:data",{...i.data,likes:i.data.likes+e.delta,is_like:e.isLike})}const{adList:s,adIndex:a,changeAdIndex:o}=ae("BANNER_PLAY");return W((()=>i.data.id),((e,t)=>{e&&0!==t&&o()})),(t,i)=>{var o,l,h,p;return u(),c(H,null,[N(" 標題 "),d("div",vi,j(e.data.chs_title),1),d("div",gi,[N(" 更新時間 "),d("div",yi,[_i,d("span",null,j(_(G)(e.data.updated_at)),1)]),N(" 觀看數 "),d("div",bi,[Ti,d("span",null,j(_(Y)(e.data.views)),1)]),N(" 點讚數 "),d("div",ki,[Si,d("span",null,j(_(Y)(e.data.likes)),1)])]),N(" 功能列 "),d("div",ji,[r(Me,{id:e.data.id,"is-like":e.data.is_like,onClick:n},null,8,["id","is-like"]),r(Je,{"video-id":e.data.id},null,8,["video-id"]),_(X)||_(F)?(u(),U(ei,{key:0,"video-id":e.data.id},null,8,["video-id"])):N("v-if",!0),r(Ve,{"video-id":e.data.id},null,8,["video-id"]),r(Xt,{title:e.data.chs_title},null,8,["title"])]),N(" 显示更多 "),(u(),U(mi,{key:e.data.id,data:e.data},null,8,["data"])),N(" 廣告 "),r(oe,{id:null===(o=_(s)[_(a)])||void 0===o?void 0:o.id,link:null===(l=_(s)[_(a)])||void 0===l?void 0:l.href,img:null===(h=_(s)[_(a)])||void 0===h?void 0:h.image.url,type:null===(p=_(s)[_(a)])||void 0===p?void 0:p.image.mime_type,class:"mb-5 block"},null,8,["id","link","img","type"])],64)}}}),[["__file","/Users/jetfuel_mini/Desktop/melon/melon-front-end/src/pages/play/components/VideoInfo.vue"]]),Ci="undefined"!=typeof window?window:void 0!==K?K:"undefined"!=typeof self?self:{},Ei=void 0!==K?K:"undefined"!=typeof window?window:{},xi=Q;"undefined"!=typeof document?wi=document:(wi=Ei["__GLOBAL_DOCUMENT_CACHE@4"])||(wi=Ei["__GLOBAL_DOCUMENT_CACHE@4"]=xi);var Ii=wi,Li=function(e,t){var i,n=null;try{i=JSON.parse(e,t)}catch(r){n=r}return[n,i]};var Pi={exports:{}};!function(e,t){function i(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var i,s=String(e);return(i=n[s.toLowerCase()])?i:(i=r[s.toLowerCase()])||(1===s.length?s.charCodeAt(0):void 0)}i.isEventKey=function(e,t){if(e&&"object"==typeof e){var i=e.which||e.keyCode||e.charCode;if(null==i)return!1;if("string"==typeof t){var s;if(s=n[t.toLowerCase()])return s===i;if(s=r[t.toLowerCase()])return s===i}else if("number"==typeof t)return t===i;return!1}};var n=(t=e.exports=i).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
                    /*!
                     * Programatically add the following
                     */
                    for (s = 97; s < 123; s++) n[String.fromCharCode(s)] = s - 32;
                    for (var s = 48; s < 58; s++) n[s - 48] = s;
                    for (s = 1; s < 13; s++) n["f" + s] = s + 111;
                    for (s = 0; s < 10; s++) n["numpad " + s] = s + 96;
                    var a = t.names = t.title = {};
                    for (s in n) a[n[s]] = s;
                    for (var o in r) n[o] = r[o]
                }(Pi, Pi.exports);
                var Oi = Pi.exports,
                    Di = function(e) {
                        if (!e) return !1;
                        var t = Ui.call(e);
                        return "[object Function]" === t || "function" == typeof e && "[object RegExp]" !== t || "undefined" != typeof window && (e === window.setTimeout || e === window.alert || e === window.confirm || e === window.prompt)
                    }, Ui = Object.prototype.toString;
                var Ri = function(e) {
                    return e.replace(/^\s+|\s+$/g, "")
                }, Mi = function() {
                    for (var e = {}, t = 0; t < arguments.length; t++) {
                        var i = arguments[t];
                        for (var n in i) Bi.call(i, n) && (e[n] = i[n])
                    }
                    return e
                }, Bi = Object.prototype.hasOwnProperty;
                var Ni = Ci,
                    Fi = Di,
                    Vi = function(e) {
                        if (!e) return {};
                        for (var t, i = {}, n = Ri(e)
                            .split("\n"), r = 0; r < n.length; r++) {
                            var s = n[r],
                                a = s.indexOf(":"),
                                o = Ri(s.slice(0, a))
                                    .toLowerCase(),
                                l = Ri(s.slice(a + 1));
                            void 0 === i[o] ? i[o] = l : (t = i[o], "[object Array]" === Object.prototype.toString.call(t) ? i[o].push(l) : i[o] = [i[o], l])
                        }
                        return i
                    }, Hi = Mi,
                    qi = Wi;

                function zi(e, t, i) {
                    var n = e;
                    return Fi(t) ? (i = t, "string" == typeof e && (n = {
                        uri: e
                    })) : n = Hi(t, {
                        uri: e
                    }), n.callback = i, n
                }
                function Wi(e, t, i) {
                    return Gi(t = zi(e, t, i))
                }
                function Gi(e) {
                    if (void 0 === e.callback) throw new Error("callback argument missing");
                    var t = !1,
                        i = function(i, n, r) {
                            t || (t = !0, e.callback(i, n, r))
                        };

                    function n() {
                        var e = void 0;
                        if (e = l.response ? l.response : l.responseText || function(e) {
                            if ("document" === e.responseType) return e.responseXML;
                            var t = e.responseXML && "parsererror" === e.responseXML.documentElement.nodeName;
                            if ("" === e.responseType && !t) return e.responseXML;
                            return null
                        }(l), m) try {
                            e = JSON.parse(e)
                        } catch (t) {}
                        return e
                    }
                    function r(e) {
                        return clearTimeout(u), e instanceof Error || (e = new Error("" + (e || "Unknown XMLHttpRequest Error"))), e.statusCode = 0, i(e, v)
                    }
                    function s() {
                        if (!o) {
                            var t;
                            clearTimeout(u), t = e.useXDR && void 0 === l.status ? 200 : 1223 === l.status ? 204 : l.status;
                            var r = v,
                                s = null;
                            return 0 !== t ? (r = {
                                body: n(),
                                statusCode: t,
                                method: d,
                                headers: {},
                                url: c,
                                rawRequest: l
                            }, l.getAllResponseHeaders && (r.headers = Vi(l.getAllResponseHeaders()))) : s = new Error("Internal XMLHttpRequest Error"), i(s, r, r.body)
                        }
                    }
                    var a, o, l = e.xhr || null;
                    l || (l = e.cors || e.useXDR ? new Wi.XDomainRequest : new Wi.XMLHttpRequest);
                    var u, c = l.url = e.uri || e.url,
                        d = l.method = e.method || "GET",
                        h = e.body || e.data,
                        p = l.headers = e.headers || {}, f = !! e.sync,
                        m = !1,
                        v = {
                            body: void 0,
                            headers: {},
                            statusCode: 0,
                            method: d,
                            url: c,
                            rawRequest: l
                        };
                    if ("json" in e && !1 !== e.json && (m = !0, p.accept || p.Accept || (p.Accept = "application/json"), "GET" !== d && "HEAD" !== d && (p["content-type"] || p["Content-Type"] || (p["Content-Type"] = "application/json"), h = JSON.stringify(!0 === e.json ? h : e.json))), l.onreadystatechange = function() {
                        4 === l.readyState && setTimeout(s, 0)
                    }, l.onload = s, l.onerror = r, l.onprogress = function() {}, l.onabort = function() {
                        o = !0
                    }, l.ontimeout = r, l.open(d, c, !f, e.username, e.password), f || (l.withCredentials = !! e.withCredentials), !f && e.timeout > 0 && (u = setTimeout((function() {
                        if (!o) {
                            o = !0, l.abort("timeout");
                            var e = new Error("XMLHttpRequest timeout");
                            e.code = "ETIMEDOUT", r(e)
                        }
                    }), e.timeout)), l.setRequestHeader) for (a in p) p.hasOwnProperty(a) && l.setRequestHeader(a, p[a]);
                    else if (e.headers && ! function(e) {
                        for (var t in e) if (e.hasOwnProperty(t)) return !1;
                        return !0
                    }(e.headers)) throw new Error("Headers cannot be set on an XDomainRequest object");
                    return "responseType" in e && (l.responseType = e.responseType), "beforeSend" in e && "function" == typeof e.beforeSend && e.beforeSend(l), l.send(h || null), l
                }
                Wi.XMLHttpRequest = Ni.XMLHttpRequest || function() {}, Wi.XDomainRequest = "withCredentials" in new Wi.XMLHttpRequest ? Wi.XMLHttpRequest : Ni.XDomainRequest,
                function(e, t) {
                    for (var i = 0; i < e.length; i++) t(e[i])
                }(["get", "put", "post", "patch", "head", "delete"], (function(e) {
                    Wi["delete" === e ? "del" : e] = function(t, i, n) {
                        return (i = zi(t, i, n))
                            .method = e.toUpperCase(), Gi(i)
                    }
                }));
                var Yi = {
                    exports: {}
                }, Xi = Object.create || function() {
                        function e() {}
                        return function(t) {
                            if (1 !== arguments.length) throw new Error("Object.create shim only accepts one parameter.");
                            return e.prototype = t, new e
                        }
                    }();

                function Ki(e, t) {
                    this.name = "ParsingError", this.code = e.code, this.message = t || e.message
                }
                function Qi(e) {
                    function t(e, t, i, n) {
                        return 3600 * (0 | e) + 60 * (0 | t) + (0 | i) + (0 | n) / 1e3
                    }
                    var i = e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);
                    return i ? i[3] ? t(i[1], i[2], i[3].replace(":", ""), i[4]) : i[1] > 59 ? t(i[1], i[2], 0, i[4]) : t(0, i[1], i[2], i[4]) : null
                }
                function Ji() {
                    this.values = Xi(null)
                }
                function Zi(e, t, i, n) {
                    var r = n ? e.split(n) : [e];
                    for (var s in r) if ("string" == typeof r[s]) {
                        var a = r[s].split(i);
                        if (2 === a.length) t(a[0], a[1])
                    }
                }
                function $i(e, t, i) {
                    var n = e;

                    function r() {
                        var t = Qi(e);
                        if (null === t) throw new Ki(Ki.Errors.BadTimeStamp, "Malformed timestamp: " + n);
                        return e = e.replace(/^[^\sa-zA-Z-]+/, ""), t
                    }
                    function s() {
                        e = e.replace(/^\s+/, "")
                    }
                    if (s(), t.startTime = r(), s(), "-->" !== e.substr(0, 3)) throw new Ki(Ki.Errors.BadTimeStamp, "Malformed time stamp (time stamps must be separated by '-->'): " + n);
                    e = e.substr(3), s(), t.endTime = r(), s(),
                    function(e, t) {
                        var n = new Ji;
                        Zi(e, (function(e, t) {
                            switch (e) {
                                case "region":
                                    for (var r = i.length - 1; r >= 0; r--) if (i[r].id === t) {
                                        n.set(e, i[r].region);
                                        break
                                    }
                                    break;
                                case "vertical":
                                    n.alt(e, t, ["rl", "lr"]);
                                    break;
                                case "line":
                                    var s = t.split(","),
                                        a = s[0];
                                    n.integer(e, a), n.percent(e, a) && n.set("snapToLines", !1), n.alt(e, a, ["auto"]), 2 === s.length && n.alt("lineAlign", s[1], ["start", "middle", "end"]);
                                    break;
                                case "position":
                                    s = t.split(","), n.percent(e, s[0]), 2 === s.length && n.alt("positionAlign", s[1], ["start", "middle", "end"]);
                                    break;
                                case "size":
                                    n.percent(e, t);
                                    break;
                                case "align":
                                    n.alt(e, t, ["start", "middle", "end", "left", "right"])
                            }
                        }), /:/, /\s/), t.region = n.get("region", null), t.vertical = n.get("vertical", ""), t.line = n.get("line", "auto"), t.lineAlign = n.get("lineAlign", "start"), t.snapToLines = n.get("snapToLines", !0), t.size = n.get("size", 100), t.align = n.get("align", "middle"), t.position = n.get("position", {
                            start: 0,
                            left: 0,
                            middle: 50,
                            end: 100,
                            right: 100
                        }, t.align), t.positionAlign = n.get("positionAlign", {
                            start: "start",
                            left: "start",
                            middle: "middle",
                            end: "end",
                            right: "end"
                        }, t.align)
                    }(e, t)
                }
                Ki.prototype = Xi(Error.prototype), Ki.prototype.constructor = Ki, Ki.Errors = {
                    BadSignature: {
                        code: 0,
                        message: "Malformed WebVTT signature."
                    },
                    BadTimeStamp: {
                        code: 1,
                        message: "Malformed time stamp."
                    }
                }, Ji.prototype = {
                    set: function(e, t) {
                        this.get(e) || "" === t || (this.values[e] = t)
                    },
                    get: function(e, t, i) {
                        return i ? this.has(e) ? this.values[e] : t[i] : this.has(e) ? this.values[e] : t
                    },
                    has: function(e) {
                        return e in this.values
                    },
                    alt: function(e, t, i) {
                        for (var n = 0; n < i.length; ++n) if (t === i[n]) {
                            this.set(e, t);
                            break
                        }
                    },
                    integer: function(e, t) {
                        /^-?\d+$/.test(t) && this.set(e, parseInt(t, 10))
                    },
                    percent: function(e, t) {
                        return !!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/) && (t = parseFloat(t)) >= 0 && t <= 100) && (this.set(e, t), !0)
                    }
                };
                var en = {
                    "&amp;": "&",
                    "&lt;": "<",
                    "&gt;": ">",
                    "&lrm;": "‎",
                    "&rlm;": "‏",
                    "&nbsp;": " "
                }, tn = {
                    c: "span",
                    i: "i",
                    b: "b",
                    u: "u",
                    ruby: "ruby",
                    rt: "rt",
                    v: "span",
                    lang: "span"
                }, nn = {
                    v: "title",
                    lang: "lang"
                }, rn = {
                    rt: "ruby"
                };

                function sn(e, t) {
                    function i() {
                        if (!t) return null;
                        var e, i = t.match(/^([^<]*)(<[^>]*>?)?/);
                        return e = i[1] ? i[1] : i[2], t = t.substr(e.length), e
                    }
                    function n(e) {
                        return en[e]
                    }
                    function r(e) {
                        for (; p = e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);) e = e.replace(p[0], n);
                        return e
                    }
                    function s(e, t) {
                        return !rn[t.localName] || rn[t.localName] === e.localName
                    }
                    function a(t, i) {
                        var n = tn[t];
                        if (!n) return null;
                        var r = e.document.createElement(n);
                        r.localName = n;
                        var s = nn[t];
                        return s && i && (r[s] = i.trim()), r
                    }
                    for (var o, l = e.document.createElement("div"), u = l, c = []; null !== (o = i());) if ("<" !== o[0]) u.appendChild(e.document.createTextNode(r(o)));
                    else {
                        if ("/" === o[1]) {
                            c.length && c[c.length - 1] === o.substr(2)
                                .replace(">", "") && (c.pop(), u = u.parentNode);
                            continue
                        }
                        var d, h = Qi(o.substr(1, o.length - 2));
                        if (h) {
                            d = e.document.createProcessingInstruction("timestamp", h), u.appendChild(d);
                            continue
                        }
                        var p = o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);
                        if (!p) continue;
                        if (!(d = a(p[1], p[3]))) continue;
                        if (!s(u, d)) continue;
                        p[2] && (d.className = p[2].substr(1)
                            .replace(".", " ")), c.push(p[1]), u.appendChild(d), u = d
                    }
                    return l
                }
                var an = [
                    [1470, 1470],
                    [1472, 1472],
                    [1475, 1475],
                    [1478, 1478],
                    [1488, 1514],
                    [1520, 1524],
                    [1544, 1544],
                    [1547, 1547],
                    [1549, 1549],
                    [1563, 1563],
                    [1566, 1610],
                    [1645, 1647],
                    [1649, 1749],
                    [1765, 1766],
                    [1774, 1775],
                    [1786, 1805],
                    [1807, 1808],
                    [1810, 1839],
                    [1869, 1957],
                    [1969, 1969],
                    [1984, 2026],
                    [2036, 2037],
                    [2042, 2042],
                    [2048, 2069],
                    [2074, 2074],
                    [2084, 2084],
                    [2088, 2088],
                    [2096, 2110],
                    [2112, 2136],
                    [2142, 2142],
                    [2208, 2208],
                    [2210, 2220],
                    [8207, 8207],
                    [64285, 64285],
                    [64287, 64296],
                    [64298, 64310],
                    [64312, 64316],
                    [64318, 64318],
                    [64320, 64321],
                    [64323, 64324],
                    [64326, 64449],
                    [64467, 64829],
                    [64848, 64911],
                    [64914, 64967],
                    [65008, 65020],
                    [65136, 65140],
                    [65142, 65276],
                    [67584, 67589],
                    [67592, 67592],
                    [67594, 67637],
                    [67639, 67640],
                    [67644, 67644],
                    [67647, 67669],
                    [67671, 67679],
                    [67840, 67867],
                    [67872, 67897],
                    [67903, 67903],
                    [67968, 68023],
                    [68030, 68031],
                    [68096, 68096],
                    [68112, 68115],
                    [68117, 68119],
                    [68121, 68147],
                    [68160, 68167],
                    [68176, 68184],
                    [68192, 68223],
                    [68352, 68405],
                    [68416, 68437],
                    [68440, 68466],
                    [68472, 68479],
                    [68608, 68680],
                    [126464, 126467],
                    [126469, 126495],
                    [126497, 126498],
                    [126500, 126500],
                    [126503, 126503],
                    [126505, 126514],
                    [126516, 126519],
                    [126521, 126521],
                    [126523, 126523],
                    [126530, 126530],
                    [126535, 126535],
                    [126537, 126537],
                    [126539, 126539],
                    [126541, 126543],
                    [126545, 126546],
                    [126548, 126548],
                    [126551, 126551],
                    [126553, 126553],
                    [126555, 126555],
                    [126557, 126557],
                    [126559, 126559],
                    [126561, 126562],
                    [126564, 126564],
                    [126567, 126570],
                    [126572, 126578],
                    [126580, 126583],
                    [126585, 126588],
                    [126590, 126590],
                    [126592, 126601],
                    [126603, 126619],
                    [126625, 126627],
                    [126629, 126633],
                    [126635, 126651],
                    [1114109, 1114109]
                ];

                function on(e) {
                    for (var t = 0; t < an.length; t++) {
                        var i = an[t];
                        if (e >= i[0] && e <= i[1]) return !0
                    }
                    return !1
                }
                function ln(e) {
                    var t = [],
                        i = "";
                    if (!e || !e.childNodes) return "ltr";

                    function n(e, t) {
                        for (var i = t.childNodes.length - 1; i >= 0; i--) e.push(t.childNodes[i])
                    }
                    function r(e) {
                        if (!e || !e.length) return null;
                        var t = e.pop(),
                            i = t.textContent || t.innerText;
                        if (i) {
                            var s = i.match(/^.*(\n|\r)/);
                            return s ? (e.length = 0, s[0]) : i
                        }
                        return "ruby" === t.tagName ? r(e) : t.childNodes ? (n(e, t), r(e)) : void 0
                    }
                    for (n(t, e); i = r(t);) for (var s = 0; s < i.length; s++) if (on(i.charCodeAt(s))) return "rtl";
                    return "ltr"
                }
                function un() {}
                function cn(e, t, i) {
                    un.call(this), this.cue = t, this.cueDiv = sn(e, t.text);
                    var n = {
                        color: "rgba(255, 255, 255, 1)",
                        backgroundColor: "rgba(0, 0, 0, 0.8)",
                        position: "relative",
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0,
                        display: "inline",
                        writingMode: "" === t.vertical ? "horizontal-tb" : "lr" === t.vertical ? "vertical-lr" : "vertical-rl",
                        unicodeBidi: "plaintext"
                    };
                    this.applyStyles(n, this.cueDiv), this.div = e.document.createElement("div"), n = {
                        direction: ln(this.cueDiv),
                        writingMode: "" === t.vertical ? "horizontal-tb" : "lr" === t.vertical ? "vertical-lr" : "vertical-rl",
                        unicodeBidi: "plaintext",
                        textAlign: "middle" === t.align ? "center" : t.align,
                        font: i.font,
                        whiteSpace: "pre-line",
                        position: "absolute"
                    }, this.applyStyles(n), this.div.appendChild(this.cueDiv);
                    var r = 0;
                    switch (t.positionAlign) {
                        case "start":
                            r = t.position;
                            break;
                        case "middle":
                            r = t.position - t.size / 2;
                            break;
                        case "end":
                            r = t.position - t.size
                    }
                    "" === t.vertical ? this.applyStyles({
                        left: this.formatStyle(r, "%"),
                        width: this.formatStyle(t.size, "%")
                    }) : this.applyStyles({
                        top: this.formatStyle(r, "%"),
                        height: this.formatStyle(t.size, "%")
                    }), this.move = function(e) {
                        this.applyStyles({
                            top: this.formatStyle(e.top, "px"),
                            bottom: this.formatStyle(e.bottom, "px"),
                            left: this.formatStyle(e.left, "px"),
                            right: this.formatStyle(e.right, "px"),
                            height: this.formatStyle(e.height, "px"),
                            width: this.formatStyle(e.width, "px")
                        })
                    }
                }
                function dn(e) {
                    var t, i, n, r;
                    if (e.div) {
                        i = e.div.offsetHeight, n = e.div.offsetWidth, r = e.div.offsetTop;
                        var s = (s = e.div.childNodes) && (s = s[0]) && s.getClientRects && s.getClientRects();
                        e = e.div.getBoundingClientRect(), t = s ? Math.max(s[0] && s[0].height || 0, e.height / s.length) : 0
                    }
                    this.left = e.left, this.right = e.right, this.top = e.top || r, this.height = e.height || i, this.bottom = e.bottom || r + (e.height || i), this.width = e.width || n, this.lineHeight = void 0 !== t ? t : e.lineHeight
                }
                function hn(e, t, i, n) {
                    var r = new dn(t),
                        s = t.cue,
                        a = function(e) {
                            if ("number" == typeof e.line && (e.snapToLines || e.line >= 0 && e.line <= 100)) return e.line;
                            if (!e.track || !e.track.textTrackList || !e.track.textTrackList.mediaElement) return -1;
                            for (var t = e.track, i = t.textTrackList, n = 0, r = 0; r < i.length && i[r] !== t; r++) "showing" === i[r].mode && n++;
                            return -1 * ++n
                        }(s),
                        o = [];
                    if (s.snapToLines) {
                        var l;
                        switch (s.vertical) {
                            case "":
                                o = ["+y", "-y"], l = "height";
                                break;
                            case "rl":
                                o = ["+x", "-x"], l = "width";
                                break;
                            case "lr":
                                o = ["-x", "+x"], l = "width"
                        }
                        var u = r.lineHeight,
                            c = u * Math.round(a),
                            d = i[l] + u,
                            h = o[0];
                        Math.abs(c) > d && (c = c < 0 ? -1 : 1, c *= Math.ceil(d / u) * u), a < 0 && (c += "" === s.vertical ? i.height : i.width, o = o.reverse()), r.move(h, c)
                    } else {
                        var p = r.lineHeight / i.height * 100;
                        switch (s.lineAlign) {
                            case "middle":
                                a -= p / 2;
                                break;
                            case "end":
                                a -= p
                        }
                        switch (s.vertical) {
                            case "":
                                t.applyStyles({
                                    top: t.formatStyle(a, "%")
                                });
                                break;
                            case "rl":
                                t.applyStyles({
                                    left: t.formatStyle(a, "%")
                                });
                                break;
                            case "lr":
                                t.applyStyles({
                                    right: t.formatStyle(a, "%")
                                })
                        }
                        o = ["+y", "-x", "+x", "-y"], r = new dn(t)
                    }
                    var f = function(e, t) {
                        for (var r, s = new dn(e), a = 1, o = 0; o < t.length; o++) {
                            for (; e.overlapsOppositeAxis(i, t[o]) || e.within(i) && e.overlapsAny(n);) e.move(t[o]);
                            if (e.within(i)) return e;
                            var l = e.intersectPercentage(i);
                            a > l && (r = new dn(e), a = l), e = new dn(s)
                        }
                        return r || s
                    }(r, o);
                    t.move(f.toCSSCompatValues(i))
                }
                function pn() {}
                un.prototype.applyStyles = function(e, t) {
                    for (var i in t = t || this.div, e) e.hasOwnProperty(i) && (t.style[i] = e[i])
                }, un.prototype.formatStyle = function(e, t) {
                    return 0 === e ? 0 : e + t
                }, cn.prototype = Xi(un.prototype), cn.prototype.constructor = cn, dn.prototype.move = function(e, t) {
                    switch (t = void 0 !== t ? t : this.lineHeight, e) {
                        case "+x":
                            this.left += t, this.right += t;
                            break;
                        case "-x":
                            this.left -= t, this.right -= t;
                            break;
                        case "+y":
                            this.top += t, this.bottom += t;
                            break;
                        case "-y":
                            this.top -= t, this.bottom -= t
                    }
                }, dn.prototype.overlaps = function(e) {
                    return this.left < e.right && this.right > e.left && this.top < e.bottom && this.bottom > e.top
                }, dn.prototype.overlapsAny = function(e) {
                    for (var t = 0; t < e.length; t++) if (this.overlaps(e[t])) return !0;
                    return !1
                }, dn.prototype.within = function(e) {
                    return this.top >= e.top && this.bottom <= e.bottom && this.left >= e.left && this.right <= e.right
                }, dn.prototype.overlapsOppositeAxis = function(e, t) {
                    switch (t) {
                        case "+x":
                            return this.left < e.left;
                        case "-x":
                            return this.right > e.right;
                        case "+y":
                            return this.top < e.top;
                        case "-y":
                            return this.bottom > e.bottom
                    }
                }, dn.prototype.intersectPercentage = function(e) {
                    return Math.max(0, Math.min(this.right, e.right) - Math.max(this.left, e.left)) * Math.max(0, Math.min(this.bottom, e.bottom) - Math.max(this.top, e.top)) / (this.height * this.width)
                }, dn.prototype.toCSSCompatValues = function(e) {
                    return {
                        top: this.top - e.top,
                        bottom: e.bottom - this.bottom,
                        left: this.left - e.left,
                        right: e.right - this.right,
                        height: this.height,
                        width: this.width
                    }
                }, dn.getSimpleBoxPosition = function(e) {
                    var t = e.div ? e.div.offsetHeight : e.tagName ? e.offsetHeight : 0,
                        i = e.div ? e.div.offsetWidth : e.tagName ? e.offsetWidth : 0,
                        n = e.div ? e.div.offsetTop : e.tagName ? e.offsetTop : 0;
                    return {
                        left: (e = e.div ? e.div.getBoundingClientRect() : e.tagName ? e.getBoundingClientRect() : e)
                            .left,
                        right: e.right,
                        top: e.top || n,
                        height: e.height || t,
                        bottom: e.bottom || n + (e.height || t),
                        width: e.width || i
                    }
                }, pn.StringDecoder = function() {
                    return {
                        decode: function(e) {
                            if (!e) return "";
                            if ("string" != typeof e) throw new Error("Error - expected string data.");
                            return decodeURIComponent(encodeURIComponent(e))
                        }
                    }
                }, pn.convertCueToDOMTree = function(e, t) {
                    return e && t ? sn(e, t) : null
                };
                pn.processCues = function(e, t, i) {
                    if (!e || !t || !i) return null;
                    for (; i.firstChild;) i.removeChild(i.firstChild);
                    var n = e.document.createElement("div");
                    if (n.style.position = "absolute", n.style.left = "0", n.style.right = "0", n.style.top = "0", n.style.bottom = "0", n.style.margin = "1.5%", i.appendChild(n), function(e) {
                        for (var t = 0; t < e.length; t++) if (e[t].hasBeenReset || !e[t].displayState) return !0;
                        return !1
                    }(t)) {
                        var r = [],
                            s = dn.getSimpleBoxPosition(n),
                            a = {
                                font: Math.round(.05 * s.height * 100) / 100 + "px sans-serif"
                            };
                        ! function() {
                            for (var i, o, l = 0; l < t.length; l++) o = t[l], i = new cn(e, o, a), n.appendChild(i.div), hn(0, i, s, r), o.displayState = i.div, r.push(dn.getSimpleBoxPosition(i))
                        }()
                    } else for (var o = 0; o < t.length; o++) n.appendChild(t[o].displayState)
                }, pn.Parser = function(e, t, i) {
                    i || (i = t, t = {}), t || (t = {}), this.window = e, this.vttjs = t, this.state = "INITIAL", this.buffer = "", this.decoder = i || new TextDecoder("utf8"), this.regionList = []
                }, pn.Parser.prototype = {
                    reportOrThrowError: function(e) {
                        if (!(e instanceof Ki)) throw e;
                        this.onparsingerror && this.onparsingerror(e)
                    },
                    parse: function(e) {
                        var t = this;

                        function i() {
                            for (var e = t.buffer, i = 0; i < e.length && "\r" !== e[i] && "\n" !== e[i];)++i;
                            var n = e.substr(0, i);
                            return "\r" === e[i] && ++i, "\n" === e[i] && ++i, t.buffer = e.substr(i), n
                        }
                        function n(e) {
                            e.match(/X-TIMESTAMP-MAP/) ? Zi(e, (function(e, i) {
                                if ("X-TIMESTAMP-MAP" === e)! function(e) {
                                    var i = new Ji;
                                    Zi(e, (function(e, t) {
                                        switch (e) {
                                            case "MPEGT":
                                                i.integer(e + "S", t);
                                                break;
                                            case "LOCA":
                                                i.set(e + "L", Qi(t))
                                        }
                                    }), /[^\d]:/, /,/), t.ontimestampmap && t.ontimestampmap({
                                        MPEGTS: i.get("MPEGTS"),
                                        LOCAL: i.get("LOCAL")
                                    })
                                }(i)
                            }), /=/) : Zi(e, (function(e, i) {
                                if ("Region" === e)! function(e) {
                                    var i = new Ji;
                                    if (Zi(e, (function(e, t) {
                                        switch (e) {
                                            case "id":
                                                i.set(e, t);
                                                break;
                                            case "width":
                                                i.percent(e, t);
                                                break;
                                            case "lines":
                                                i.integer(e, t);
                                                break;
                                            case "regionanchor":
                                            case "viewportanchor":
                                                var n = t.split(",");
                                                if (2 !== n.length) break;
                                                var r = new Ji;
                                                if (r.percent("x", n[0]), r.percent("y", n[1]), !r.has("x") || !r.has("y")) break;
                                                i.set(e + "X", r.get("x")), i.set(e + "Y", r.get("y"));
                                                break;
                                            case "scroll":
                                                i.alt(e, t, ["up"])
                                        }
                                    }), /=/, /\s/), i.has("id")) {
                                        var n = new(t.vttjs.VTTRegion || t.window.VTTRegion);
                                        n.width = i.get("width", 100), n.lines = i.get("lines", 3), n.regionAnchorX = i.get("regionanchorX", 0), n.regionAnchorY = i.get("regionanchorY", 100), n.viewportAnchorX = i.get("viewportanchorX", 0), n.viewportAnchorY = i.get("viewportanchorY", 100), n.scroll = i.get("scroll", ""), t.onregion && t.onregion(n), t.regionList.push({
                                            id: i.get("id"),
                                            region: n
                                        })
                                    }
                                }(i)
                            }), /:/)
                        }
                        e && (t.buffer += t.decoder.decode(e, {
                            stream: !0
                        }));
                        try {
                            var r;
                            if ("INITIAL" === t.state) {
                                if (!/\r\n|\n/.test(t.buffer)) return this;
                                var s = (r = i())
                                    .match(/^WEBVTT([ \t].*)?$/);
                                if (!s || !s[0]) throw new Ki(Ki.Errors.BadSignature);
                                t.state = "HEADER"
                            }
                            for (var a = !1; t.buffer;) {
                                if (!/\r\n|\n/.test(t.buffer)) return this;
                                switch (a ? a = !1 : r = i(), t.state) {
                                    case "HEADER":
                                        /:/.test(r) ? n(r) : r || (t.state = "ID");
                                        continue;
                                    case "NOTE":
                                        r || (t.state = "ID");
                                        continue;
                                    case "ID":
                                        if (/^NOTE($|[ \t])/.test(r)) {
                                            t.state = "NOTE";
                                            break
                                        }
                                        if (!r) continue;
                                        if (t.cue = new(t.vttjs.VTTCue || t.window.VTTCue)(0, 0, ""), t.state = "CUE", -1 === r.indexOf("-->")) {
                                            t.cue.id = r;
                                            continue
                                        }
                                    case "CUE":
                                        try {
                                            $i(r, t.cue, t.regionList)
                                        } catch (l) {
                                            t.reportOrThrowError(l), t.cue = null, t.state = "BADCUE";
                                            continue
                                        }
                                        t.state = "CUETEXT";
                                        continue;
                                    case "CUETEXT":
                                        var o = -1 !== r.indexOf("-->");
                                        if (!r || o && (a = !0)) {
                                            t.oncue && t.oncue(t.cue), t.cue = null, t.state = "ID";
                                            continue
                                        }
                                        t.cue.text && (t.cue.text += "\n"), t.cue.text += r;
                                        continue;
                                    case "BADCUE":
                                        r || (t.state = "ID");
                                        continue
                                }
                            }
                        } catch (l) {
                            t.reportOrThrowError(l), "CUETEXT" === t.state && t.cue && t.oncue && t.oncue(t.cue), t.cue = null, t.state = "INITIAL" === t.state ? "BADWEBVTT" : "BADCUE"
                        }
                        return this
                    },
                    flush: function() {
                        var e = this;
                        try {
                            if (e.buffer += e.decoder.decode(), (e.cue || "HEADER" === e.state) && (e.buffer += "\n\n", e.parse()), "INITIAL" === e.state) throw new Ki(Ki.Errors.BadSignature)
                        } catch (t) {
                            e.reportOrThrowError(t)
                        }
                        return e.onflush && e.onflush(), this
                    }
                };
                var fn = pn,
                    mn = {
                        "": 1,
                        lr: 1,
                        rl: 1
                    }, vn = {
                        start: 1,
                        middle: 1,
                        end: 1,
                        left: 1,
                        right: 1
                    };

                function gn(e) {
                    return "string" == typeof e && ( !! vn[e.toLowerCase()] && e.toLowerCase())
                }
                function yn(e, t, i) {
                    this.hasBeenReset = !1;
                    var n = "",
                        r = !1,
                        s = e,
                        a = t,
                        o = i,
                        l = null,
                        u = "",
                        c = !0,
                        d = "auto",
                        h = "start",
                        p = 50,
                        f = "middle",
                        m = 50,
                        v = "middle";
                    Object.defineProperties(this, {
                        id: {
                            enumerable: !0,
                            get: function() {
                                return n
                            },
                            set: function(e) {
                                n = "" + e
                            }
                        },
                        pauseOnExit: {
                            enumerable: !0,
                            get: function() {
                                return r
                            },
                            set: function(e) {
                                r = !! e
                            }
                        },
                        startTime: {
                            enumerable: !0,
                            get: function() {
                                return s
                            },
                            set: function(e) {
                                if ("number" != typeof e) throw new TypeError("Start time must be set to a number.");
                                s = e, this.hasBeenReset = !0
                            }
                        },
                        endTime: {
                            enumerable: !0,
                            get: function() {
                                return a
                            },
                            set: function(e) {
                                if ("number" != typeof e) throw new TypeError("End time must be set to a number.");
                                a = e, this.hasBeenReset = !0
                            }
                        },
                        text: {
                            enumerable: !0,
                            get: function() {
                                return o
                            },
                            set: function(e) {
                                o = "" + e, this.hasBeenReset = !0
                            }
                        },
                        region: {
                            enumerable: !0,
                            get: function() {
                                return l
                            },
                            set: function(e) {
                                l = e, this.hasBeenReset = !0
                            }
                        },
                        vertical: {
                            enumerable: !0,
                            get: function() {
                                return u
                            },
                            set: function(e) {
                                var t = function(e) {
                                    return "string" == typeof e && !! mn[e.toLowerCase()] && e.toLowerCase()
                                }(e);
                                if (!1 === t) throw new SyntaxError("An invalid or illegal string was specified.");
                                u = t, this.hasBeenReset = !0
                            }
                        },
                        snapToLines: {
                            enumerable: !0,
                            get: function() {
                                return c
                            },
                            set: function(e) {
                                c = !! e, this.hasBeenReset = !0
                            }
                        },
                        line: {
                            enumerable: !0,
                            get: function() {
                                return d
                            },
                            set: function(e) {
                                if ("number" != typeof e && "auto" !== e) throw new SyntaxError("An invalid number or illegal string was specified.");
                                d = e, this.hasBeenReset = !0
                            }
                        },
                        lineAlign: {
                            enumerable: !0,
                            get: function() {
                                return h
                            },
                            set: function(e) {
                                var t = gn(e);
                                if (!t) throw new SyntaxError("An invalid or illegal string was specified.");
                                h = t, this.hasBeenReset = !0
                            }
                        },
                        position: {
                            enumerable: !0,
                            get: function() {
                                return p
                            },
                            set: function(e) {
                                if (e < 0 || e > 100) throw new Error("Position must be between 0 and 100.");
                                p = e, this.hasBeenReset = !0
                            }
                        },
                        positionAlign: {
                            enumerable: !0,
                            get: function() {
                                return f
                            },
                            set: function(e) {
                                var t = gn(e);
                                if (!t) throw new SyntaxError("An invalid or illegal string was specified.");
                                f = t, this.hasBeenReset = !0
                            }
                        },
                        size: {
                            enumerable: !0,
                            get: function() {
                                return m
                            },
                            set: function(e) {
                                if (e < 0 || e > 100) throw new Error("Size must be between 0 and 100.");
                                m = e, this.hasBeenReset = !0
                            }
                        },
                        align: {
                            enumerable: !0,
                            get: function() {
                                return v
                            },
                            set: function(e) {
                                var t = gn(e);
                                if (!t) throw new SyntaxError("An invalid or illegal string was specified.");
                                v = t, this.hasBeenReset = !0
                            }
                        }
                    }), this.displayState = void 0
                }
                yn.prototype.getCueAsHTML = function() {
                    return WebVTT.convertCueToDOMTree(window, this.text)
                };
                var _n = yn,
                    bn = {
                        "": !0,
                        up: !0
                    };

                function Tn(e) {
                    return "number" == typeof e && e >= 0 && e <= 100
                }
                var kn = function() {
                    var e = 100,
                        t = 3,
                        i = 0,
                        n = 100,
                        r = 0,
                        s = 100,
                        a = "";
                    Object.defineProperties(this, {
                        width: {
                            enumerable: !0,
                            get: function() {
                                return e
                            },
                            set: function(t) {
                                if (!Tn(t)) throw new Error("Width must be between 0 and 100.");
                                e = t
                            }
                        },
                        lines: {
                            enumerable: !0,
                            get: function() {
                                return t
                            },
                            set: function(e) {
                                if ("number" != typeof e) throw new TypeError("Lines must be set to a number.");
                                t = e
                            }
                        },
                        regionAnchorY: {
                            enumerable: !0,
                            get: function() {
                                return n
                            },
                            set: function(e) {
                                if (!Tn(e)) throw new Error("RegionAnchorX must be between 0 and 100.");
                                n = e
                            }
                        },
                        regionAnchorX: {
                            enumerable: !0,
                            get: function() {
                                return i
                            },
                            set: function(e) {
                                if (!Tn(e)) throw new Error("RegionAnchorY must be between 0 and 100.");
                                i = e
                            }
                        },
                        viewportAnchorY: {
                            enumerable: !0,
                            get: function() {
                                return s
                            },
                            set: function(e) {
                                if (!Tn(e)) throw new Error("ViewportAnchorY must be between 0 and 100.");
                                s = e
                            }
                        },
                        viewportAnchorX: {
                            enumerable: !0,
                            get: function() {
                                return r
                            },
                            set: function(e) {
                                if (!Tn(e)) throw new Error("ViewportAnchorX must be between 0 and 100.");
                                r = e
                            }
                        },
                        scroll: {
                            enumerable: !0,
                            get: function() {
                                return a
                            },
                            set: function(e) {
                                var t = function(e) {
                                    return "string" == typeof e && !! bn[e.toLowerCase()] && e.toLowerCase()
                                }(e);
                                if (!1 === t) throw new SyntaxError("An invalid or illegal string was specified.");
                                a = t
                            }
                        }
                    })
                }, Sn = Ci,
                    jn = Yi.exports = {
                        WebVTT: fn,
                        VTTCue: _n,
                        VTTRegion: kn
                    };
                Sn.vttjs = jn, Sn.WebVTT = jn.WebVTT;
                var wn = jn.VTTCue,
                    An = jn.VTTRegion,
                    Cn = Sn.VTTCue,
                    En = Sn.VTTRegion;
                jn.shim = function() {
                    Sn.VTTCue = wn, Sn.VTTRegion = An
                }, jn.restore = function() {
                    Sn.VTTCue = Cn, Sn.VTTRegion = En
                }, Sn.VTTCue || jn.shim();
                var xn, In = Yi.exports,
                    Ln = {
                        exports: {}
                    };
                xn = Ln,
                function(e) {
                    var t = /^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,
                        i = /^(?=([^\/?#]*))\1([^]*)$/,
                        n = /(?:\/|^)\.(?=\/)/g,
                        r = /(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,
                        s = {
                            buildAbsoluteURL: function(e, t, n) {
                                if (n = n || {}, e = e.trim(), !(t = t.trim())) {
                                    if (!n.alwaysNormalize) return e;
                                    var r = s.parseURL(e);
                                    if (!r) throw new Error("Error trying to parse base URL.");
                                    return r.path = s.normalizePath(r.path), s.buildURLFromParts(r)
                                }
                                var a = s.parseURL(t);
                                if (!a) throw new Error("Error trying to parse relative URL.");
                                if (a.scheme) return n.alwaysNormalize ? (a.path = s.normalizePath(a.path), s.buildURLFromParts(a)) : t;
                                var o = s.parseURL(e);
                                if (!o) throw new Error("Error trying to parse base URL.");
                                if (!o.netLoc && o.path && "/" !== o.path[0]) {
                                    var l = i.exec(o.path);
                                    o.netLoc = l[1], o.path = l[2]
                                }
                                o.netLoc && !o.path && (o.path = "/");
                                var u = {
                                    scheme: o.scheme,
                                    netLoc: a.netLoc,
                                    path: null,
                                    params: a.params,
                                    query: a.query,
                                    fragment: a.fragment
                                };
                                if (!a.netLoc && (u.netLoc = o.netLoc, "/" !== a.path[0])) if (a.path) {
                                    var c = o.path,
                                        d = c.substring(0, c.lastIndexOf("/") + 1) + a.path;
                                    u.path = s.normalizePath(d)
                                } else u.path = o.path, a.params || (u.params = o.params, a.query || (u.query = o.query));
                                return null === u.path && (u.path = n.alwaysNormalize ? s.normalizePath(a.path) : a.path), s.buildURLFromParts(u)
                            },
                            parseURL: function(e) {
                                var i = t.exec(e);
                                return i ? {
                                    scheme: i[1] || "",
                                    netLoc: i[2] || "",
                                    path: i[3] || "",
                                    params: i[4] || "",
                                    query: i[5] || "",
                                    fragment: i[6] || ""
                                } : null
                            },
                            normalizePath: function(e) {
                                for (e = e.split("")
                                    .reverse()
                                    .join("")
                                    .replace(n, ""); e.length !== (e = e.replace(r, ""))
                                    .length;);
                                return e.split("")
                                    .reverse()
                                    .join("")
                            },
                            buildURLFromParts: function(e) {
                                return e.scheme + e.netLoc + e.path + e.params + e.query + e.fragment
                            }
                        };
                    xn.exports = s
                }();
                var Pn = Ln.exports; /*! @name m3u8-parser @version 4.4.0 @license Apache-2.0 */

                function On() {
                    return On = Object.assign || function(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var i = arguments[t];
                            for (var n in i) Object.prototype.hasOwnProperty.call(i, n) && (e[n] = i[n])
                        }
                        return e
                    }, On.apply(this, arguments)
                }
                function Dn(e, t) {
                    e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e.__proto__ = t
                }
                var Un = function() {
                    function e() {
                        this.listeners = {}
                    }
                    var t = e.prototype;
                    return t.on = function(e, t) {
                        this.listeners[e] || (this.listeners[e] = []), this.listeners[e].push(t)
                    }, t.off = function(e, t) {
                        if (!this.listeners[e]) return !1;
                        var i = this.listeners[e].indexOf(t);
                        return this.listeners[e].splice(i, 1), i > -1
                    }, t.trigger = function(e) {
                        var t, i, n, r = this.listeners[e];
                        if (r) if (2 === arguments.length) for (i = r.length, t = 0; t < i; ++t) r[t].call(this, arguments[1]);
                        else for (n = Array.prototype.slice.call(arguments, 1), i = r.length, t = 0; t < i; ++t) r[t].apply(this, n)
                    }, t.dispose = function() {
                        this.listeners = {}
                    }, t.pipe = function(e) {
                        this.on("data", (function(t) {
                            e.push(t)
                        }))
                    }, e
                }(),
                    Rn = function(e) {
                        function t() {
                            var t;
                            return (t = e.call(this) || this)
                                .buffer = "", t
                        }
                        return Dn(t, e), t.prototype.push = function(e) {
                            var t;
                            for (this.buffer += e, t = this.buffer.indexOf("\n"); t > -1; t = this.buffer.indexOf("\n")) this.trigger("data", this.buffer.substring(0, t)), this.buffer = this.buffer.substring(t + 1)
                        }, t
                    }(Un),
                    Mn = function(e) {
                        for (var t, i = e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')), n = {}, r = i.length; r--;) "" !== i[r] && ((t = /([^=]*)=(.*)/.exec(i[r])
                            .slice(1))[0] = t[0].replace(/^\s+|\s+$/g, ""), t[1] = t[1].replace(/^\s+|\s+$/g, ""), t[1] = t[1].replace(/^['"](.*)['"]$/g, "$1"), n[t[0]] = t[1]);
                        return n
                    }, Bn = function(e) {
                        function t() {
                            var t;
                            return (t = e.call(this) || this)
                                .customParsers = [], t.tagMappers = [], t
                        }
                        Dn(t, e);
                        var i = t.prototype;
                        return i.push = function(e) {
                            var t, i, n = this;
                            0 !== (e = e.trim())
                                .length && ("#" === e[0] ? this.tagMappers.reduce((function(t, i) {
                                var n = i(e);
                                return n === e ? t : t.concat([n])
                            }), [e])
                                .forEach((function(e) {
                                for (var r = 0; r < n.customParsers.length; r++) if (n.customParsers[r].call(n, e)) return;
                                if (0 === e.indexOf("#EXT")) if (e = e.replace("\r", ""), t = /^#EXTM3U/.exec(e)) n.trigger("data", {
                                    type: "tag",
                                    tagType: "m3u"
                                });
                                else {
                                    if (t = /^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "inf"
                                    }, t[1] && (i.duration = parseFloat(t[1])), t[2] && (i.title = t[2]), void n.trigger("data", i);
                                    if (t = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "targetduration"
                                    }, t[1] && (i.duration = parseInt(t[1], 10)), void n.trigger("data", i);
                                    if (t = /^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "totalduration"
                                    }, t[1] && (i.duration = parseInt(t[1], 10)), void n.trigger("data", i);
                                    if (t = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "version"
                                    }, t[1] && (i.version = parseInt(t[1], 10)), void n.trigger("data", i);
                                    if (t = /^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "media-sequence"
                                    }, t[1] && (i.number = parseInt(t[1], 10)), void n.trigger("data", i);
                                    if (t = /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "discontinuity-sequence"
                                    }, t[1] && (i.number = parseInt(t[1], 10)), void n.trigger("data", i);
                                    if (t = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "playlist-type"
                                    }, t[1] && (i.playlistType = t[1]), void n.trigger("data", i);
                                    if (t = /^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "byterange"
                                    }, t[1] && (i.length = parseInt(t[1], 10)), t[2] && (i.offset = parseInt(t[2], 10)), void n.trigger("data", i);
                                    if (t = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e)) return i = {
                                        type: "tag",
                                        tagType: "allow-cache"
                                    }, t[1] && (i.allowed = !/NO/.test(t[1])), void n.trigger("data", i);
                                    if (t = /^#EXT-X-MAP:?(.*)$/.exec(e)) {
                                        if (i = {
                                            type: "tag",
                                            tagType: "map"
                                        }, t[1]) {
                                            var s = Mn(t[1]);
                                            if (s.URI && (i.uri = s.URI), s.BYTERANGE) {
                                                var a = s.BYTERANGE.split("@"),
                                                    o = a[0],
                                                    l = a[1];
                                                i.byterange = {}, o && (i.byterange.length = parseInt(o, 10)), l && (i.byterange.offset = parseInt(l, 10))
                                            }
                                        }
                                        n.trigger("data", i)
                                    } else if (t = /^#EXT-X-STREAM-INF:?(.*)$/.exec(e)) {
                                        if (i = {
                                            type: "tag",
                                            tagType: "stream-inf"
                                        }, t[1]) {
                                            if (i.attributes = Mn(t[1]), i.attributes.RESOLUTION) {
                                                var u = i.attributes.RESOLUTION.split("x"),
                                                    c = {};
                                                u[0] && (c.width = parseInt(u[0], 10)), u[1] && (c.height = parseInt(u[1], 10)), i.attributes.RESOLUTION = c
                                            }
                                            i.attributes.BANDWIDTH && (i.attributes.BANDWIDTH = parseInt(i.attributes.BANDWIDTH, 10)), i.attributes["PROGRAM-ID"] && (i.attributes["PROGRAM-ID"] = parseInt(i.attributes["PROGRAM-ID"], 10))
                                        }
                                        n.trigger("data", i)
                                    } else {
                                        if (t = /^#EXT-X-MEDIA:?(.*)$/.exec(e)) return i = {
                                            type: "tag",
                                            tagType: "media"
                                        }, t[1] && (i.attributes = Mn(t[1])), void n.trigger("data", i);
                                        if (t = /^#EXT-X-ENDLIST/.exec(e)) n.trigger("data", {
                                            type: "tag",
                                            tagType: "endlist"
                                        });
                                        else if (t = /^#EXT-X-DISCONTINUITY/.exec(e)) n.trigger("data", {
                                            type: "tag",
                                            tagType: "discontinuity"
                                        });
                                        else {
                                            if (t = /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e)) return i = {
                                                type: "tag",
                                                tagType: "program-date-time"
                                            }, t[1] && (i.dateTimeString = t[1], i.dateTimeObject = new Date(t[1])), void n.trigger("data", i);
                                            if (t = /^#EXT-X-KEY:?(.*)$/.exec(e)) return i = {
                                                type: "tag",
                                                tagType: "key"
                                            }, t[1] && (i.attributes = Mn(t[1]), i.attributes.IV && ("0x" === i.attributes.IV.substring(0, 2)
                                                .toLowerCase() && (i.attributes.IV = i.attributes.IV.substring(2)), i.attributes.IV = i.attributes.IV.match(/.{8}/g), i.attributes.IV[0] = parseInt(i.attributes.IV[0], 16), i.attributes.IV[1] = parseInt(i.attributes.IV[1], 16), i.attributes.IV[2] = parseInt(i.attributes.IV[2], 16), i.attributes.IV[3] = parseInt(i.attributes.IV[3], 16), i.attributes.IV = new Uint32Array(i.attributes.IV))), void n.trigger("data", i);
                                            if (t = /^#EXT-X-START:?(.*)$/.exec(e)) return i = {
                                                type: "tag",
                                                tagType: "start"
                                            }, t[1] && (i.attributes = Mn(t[1]), i.attributes["TIME-OFFSET"] = parseFloat(i.attributes["TIME-OFFSET"]), i.attributes.PRECISE = /YES/.test(i.attributes.PRECISE)), void n.trigger("data", i);
                                            if (t = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e)) return i = {
                                                type: "tag",
                                                tagType: "cue-out-cont"
                                            }, t[1] ? i.data = t[1] : i.data = "", void n.trigger("data", i);
                                            if (t = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(e)) return i = {
                                                type: "tag",
                                                tagType: "cue-out"
                                            }, t[1] ? i.data = t[1] : i.data = "", void n.trigger("data", i);
                                            if (t = /^#EXT-X-CUE-IN:?(.*)?$/.exec(e)) return i = {
                                                type: "tag",
                                                tagType: "cue-in"
                                            }, t[1] ? i.data = t[1] : i.data = "", void n.trigger("data", i);
                                            n.trigger("data", {
                                                type: "tag",
                                                data: e.slice(4)
                                            })
                                        }
                                    }
                                } else n.trigger("data", {
                                    type: "comment",
                                    text: e.slice(1)
                                })
                            })) : this.trigger("data", {
                                type: "uri",
                                uri: e
                            }))
                        }, i.addParser = function(e) {
                            var t = this,
                                i = e.expression,
                                n = e.customType,
                                r = e.dataParser,
                                s = e.segment;
                            "function" != typeof r && (r = function(e) {
                                return e
                            }), this.customParsers.push((function(e) {
                                if (i.exec(e)) return t.trigger("data", {
                                    type: "custom",
                                    data: r(e),
                                    customType: n,
                                    segment: s
                                }), !0
                            }))
                        }, i.addTagMapper = function(e) {
                            var t = e.expression,
                                i = e.map;
                            this.tagMappers.push((function(e) {
                                return t.test(e) ? i(e) : e
                            }))
                        }, t
                    }(Un);

                function Nn(e) {
                    for (var t = Ci.atob(e || ""), i = new Uint8Array(t.length), n = 0; n < t.length; n++) i[n] = t.charCodeAt(n);
                    return i
                }
                var Fn = function(e) {
                    function t() {
                        var t;
                        (t = e.call(this) || this)
                            .lineStream = new Rn, t.parseStream = new Bn, t.lineStream.pipe(t.parseStream);
                        var i, n, r = function(e) {
                            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return e
                        }(t),
                            s = [],
                            a = {}, o = function() {}, l = {
                                AUDIO: {},
                                VIDEO: {},
                                "CLOSED-CAPTIONS": {},
                                SUBTITLES: {}
                            }, u = 0;
                        return t.manifest = {
                            allowCache: !0,
                            discontinuityStarts: [],
                            segments: []
                        }, t.parseStream.on("data", (function(e) {
                            var t, c;
                            ({
                                tag: function() {
                                    ({
                                        "allow-cache": function() {
                                            this.manifest.allowCache = e.allowed, "allowed" in e || (this.trigger("info", {
                                                message: "defaulting allowCache to YES"
                                            }), this.manifest.allowCache = !0)
                                        },
                                        byterange: function() {
                                            var t = {};
                                            "length" in e && (a.byterange = t, t.length = e.length, "offset" in e || (this.trigger("info", {
                                                message: "defaulting offset to zero"
                                            }), e.offset = 0)), "offset" in e && (a.byterange = t, t.offset = e.offset)
                                        },
                                        endlist: function() {
                                            this.manifest.endList = !0
                                        },
                                        inf: function() {
                                            "mediaSequence" in this.manifest || (this.manifest.mediaSequence = 0, this.trigger("info", {
                                                message: "defaulting media sequence to zero"
                                            })), "discontinuitySequence" in this.manifest || (this.manifest.discontinuitySequence = 0, this.trigger("info", {
                                                message: "defaulting discontinuity sequence to zero"
                                            })), e.duration > 0 && (a.duration = e.duration), 0 === e.duration && (a.duration = .01, this.trigger("info", {
                                                message: "updating zero segment duration to a small value"
                                            })), this.manifest.segments = s
                                        },
                                        key: function() {
                                            if (e.attributes) if ("NONE" !== e.attributes.METHOD) if (e.attributes.URI) {
                                                if ("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed" === e.attributes.KEYFORMAT) {
                                                    return -1 === ["SAMPLE-AES", "SAMPLE-AES-CTR", "SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD) ? void this.trigger("warn", {
                                                        message: "invalid key method provided for Widevine"
                                                    }) : ("SAMPLE-AES-CENC" === e.attributes.METHOD && this.trigger("warn", {
                                                        message: "SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"
                                                    }), "data:text/plain;base64," !== e.attributes.URI.substring(0, 23) ? void this.trigger("warn", {
                                                        message: "invalid key URI provided for Widevine"
                                                    }) : e.attributes.KEYID && "0x" === e.attributes.KEYID.substring(0, 2) ? void(this.manifest.contentProtection = {
                                                        "com.widevine.alpha": {
                                                            attributes: {
                                                                schemeIdUri: e.attributes.KEYFORMAT,
                                                                keyId: e.attributes.KEYID.substring(2)
                                                            },
                                                            pssh: Nn(e.attributes.URI.split(",")[1])
                                                        }
                                                    }) : void this.trigger("warn", {
                                                        message: "invalid key ID provided for Widevine"
                                                    }))
                                                }
                                                e.attributes.METHOD || this.trigger("warn", {
                                                    message: "defaulting key method to AES-128"
                                                }), n = {
                                                    method: e.attributes.METHOD || "AES-128",
                                                    uri: e.attributes.URI
                                                }, void 0 !== e.attributes.IV && (n.iv = e.attributes.IV)
                                            } else this.trigger("warn", {
                                                message: "ignoring key declaration without URI"
                                            });
                                            else n = null;
                                            else this.trigger("warn", {
                                                message: "ignoring key declaration without attribute list"
                                            })
                                        },
                                        "media-sequence": function() {
                                            isFinite(e.number) ? this.manifest.mediaSequence = e.number : this.trigger("warn", {
                                                message: "ignoring invalid media sequence: " + e.number
                                            })
                                        },
                                        "discontinuity-sequence": function() {
                                            isFinite(e.number) ? (this.manifest.discontinuitySequence = e.number, u = e.number) : this.trigger("warn", {
                                                message: "ignoring invalid discontinuity sequence: " + e.number
                                            })
                                        },
                                        "playlist-type": function() {
                                            /VOD|EVENT/.test(e.playlistType) ? this.manifest.playlistType = e.playlistType : this.trigger("warn", {
                                                message: "ignoring unknown playlist type: " + e.playlist
                                            })
                                        },
                                        map: function() {
                                            i = {}, e.uri && (i.uri = e.uri), e.byterange && (i.byterange = e.byterange)
                                        },
                                        "stream-inf": function() {
                                            this.manifest.playlists = s, this.manifest.mediaGroups = this.manifest.mediaGroups || l, e.attributes ? (a.attributes || (a.attributes = {}), On(a.attributes, e.attributes)) : this.trigger("warn", {
                                                message: "ignoring empty stream-inf attributes"
                                            })
                                        },
                                        media: function() {
                                            if (this.manifest.mediaGroups = this.manifest.mediaGroups || l, e.attributes && e.attributes.TYPE && e.attributes["GROUP-ID"] && e.attributes.NAME) {
                                                var i = this.manifest.mediaGroups[e.attributes.TYPE];
                                                i[e.attributes["GROUP-ID"]] = i[e.attributes["GROUP-ID"]] || {}, t = i[e.attributes["GROUP-ID"]], (c = {
                                                    default: /yes/i.test(e.attributes.DEFAULT)
                                                })
                                                    .
                                                default ? c.autoselect = !0 : c.autoselect = /yes/i.test(e.attributes.AUTOSELECT), e.attributes.LANGUAGE && (c.language = e.attributes.LANGUAGE), e.attributes.URI && (c.uri = e.attributes.URI), e.attributes["INSTREAM-ID"] && (c.instreamId = e.attributes["INSTREAM-ID"]), e.attributes.CHARACTERISTICS && (c.characteristics = e.attributes.CHARACTERISTICS), e.attributes.FORCED && (c.forced = /yes/i.test(e.attributes.FORCED)), t[e.attributes.NAME] = c
                                            } else this.trigger("warn", {
                                                message: "ignoring incomplete or missing media group"
                                            })
                                        },
                                        discontinuity: function() {
                                            u += 1, a.discontinuity = !0, this.manifest.discontinuityStarts.push(s.length)
                                        },
                                        "program-date-time": function() {
                                            void 0 === this.manifest.dateTimeString && (this.manifest.dateTimeString = e.dateTimeString, this.manifest.dateTimeObject = e.dateTimeObject), a.dateTimeString = e.dateTimeString, a.dateTimeObject = e.dateTimeObject
                                        },
                                        targetduration: function() {
                                            !isFinite(e.duration) || e.duration < 0 ? this.trigger("warn", {
                                                message: "ignoring invalid target duration: " + e.duration
                                            }) : this.manifest.targetDuration = e.duration
                                        },
                                        totalduration: function() {
                                            !isFinite(e.duration) || e.duration < 0 ? this.trigger("warn", {
                                                message: "ignoring invalid total duration: " + e.duration
                                            }) : this.manifest.totalDuration = e.duration
                                        },
                                        start: function() {
                                            e.attributes && !isNaN(e.attributes["TIME-OFFSET"]) ? this.manifest.start = {
                                                timeOffset: e.attributes["TIME-OFFSET"],
                                                precise: e.attributes.PRECISE
                                            } : this.trigger("warn", {
                                                message: "ignoring start declaration without appropriate attribute list"
                                            })
                                        },
                                        "cue-out": function() {
                                            a.cueOut = e.data
                                        },
                                        "cue-out-cont": function() {
                                            a.cueOutCont = e.data
                                        },
                                        "cue-in": function() {
                                            a.cueIn = e.data
                                        }
                                    }[e.tagType] || o)
                                        .call(r)
                                },
                                uri: function() {
                                    a.uri = e.uri, s.push(a), this.manifest.targetDuration && !("duration" in a) && (this.trigger("warn", {
                                        message: "defaulting segment duration to the target duration"
                                    }), a.duration = this.manifest.targetDuration), n && (a.key = n), a.timeline = u, i && (a.map = i), a = {}
                                },
                                comment: function() {},
                                custom: function() {
                                    e.segment ? (a.custom = a.custom || {}, a.custom[e.customType] = e.data) : (this.manifest.custom = this.manifest.custom || {}, this.manifest.custom[e.customType] = e.data)
                                }
                            })[e.type].call(r)
                        })), t
                    }
                    Dn(t, e);
                    var i = t.prototype;
                    return i.push = function(e) {
                        this.lineStream.push(e)
                    }, i.end = function() {
                        this.lineStream.push("\n")
                    }, i.addParser = function(e) {
                        this.parseStream.addParser(e)
                    }, i.addTagMapper = function(e) {
                        this.parseStream.addTagMapper(e)
                    }, t
                }(Un),
                    Vn = function(e) {
                        return !!e && "object" == typeof e
                    }, Hn = function e() {
                        for (var t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
                        return i.reduce((function(t, i) {
                            return Object.keys(i)
                                .forEach((function(n) {
                                Array.isArray(t[n]) && Array.isArray(i[n]) ? t[n] = t[n].concat(i[n]) : Vn(t[n]) && Vn(i[n]) ? t[n] = e(t[n], i[n]) : t[n] = i[n]
                            })), t
                        }), {})
                    }, qn = function(e) {
                        return e.reduce((function(e, t) {
                            return e.concat(t)
                        }), [])
                    }, zn = function(e) {
                        if (!e.length) return [];
                        for (var t = [], i = 0; i < e.length; i++) t.push(e[i]);
                        return t
                    }, Wn = "INVALID_NUMBER_OF_PERIOD",
                    Gn = "DASH_EMPTY_MANIFEST",
                    Yn = "DASH_INVALID_XML",
                    Xn = "NO_BASE_URL",
                    Kn = "SEGMENT_TIME_UNSPECIFIED",
                    Qn = "UNSUPPORTED_UTC_TIMING_SCHEME"; /*! @name mpd-parser @version 0.8.1 @license Apache-2.0 */
                var Jn = function(e, t) {
                    return e(t = {
                        exports: {}
                    }, t.exports), t.exports
                }((function(e, t) {
                    ! function(t) {
                        var i = /^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,
                            n = /^([^\/?#]*)(.*)$/,
                            r = /(?:\/|^)\.(?=\/)/g,
                            s = /(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,
                            a = {
                                buildAbsoluteURL: function(e, t, i) {
                                    if (i = i || {}, e = e.trim(), !(t = t.trim())) {
                                        if (!i.alwaysNormalize) return e;
                                        var r = a.parseURL(e);
                                        if (!r) throw new Error("Error trying to parse base URL.");
                                        return r.path = a.normalizePath(r.path), a.buildURLFromParts(r)
                                    }
                                    var s = a.parseURL(t);
                                    if (!s) throw new Error("Error trying to parse relative URL.");
                                    if (s.scheme) return i.alwaysNormalize ? (s.path = a.normalizePath(s.path), a.buildURLFromParts(s)) : t;
                                    var o = a.parseURL(e);
                                    if (!o) throw new Error("Error trying to parse base URL.");
                                    if (!o.netLoc && o.path && "/" !== o.path[0]) {
                                        var l = n.exec(o.path);
                                        o.netLoc = l[1], o.path = l[2]
                                    }
                                    o.netLoc && !o.path && (o.path = "/");
                                    var u = {
                                        scheme: o.scheme,
                                        netLoc: s.netLoc,
                                        path: null,
                                        params: s.params,
                                        query: s.query,
                                        fragment: s.fragment
                                    };
                                    if (!s.netLoc && (u.netLoc = o.netLoc, "/" !== s.path[0])) if (s.path) {
                                        var c = o.path,
                                            d = c.substring(0, c.lastIndexOf("/") + 1) + s.path;
                                        u.path = a.normalizePath(d)
                                    } else u.path = o.path, s.params || (u.params = o.params, s.query || (u.query = o.query));
                                    return null === u.path && (u.path = i.alwaysNormalize ? a.normalizePath(s.path) : s.path), a.buildURLFromParts(u)
                                },
                                parseURL: function(e) {
                                    var t = i.exec(e);
                                    return t ? {
                                        scheme: t[1] || "",
                                        netLoc: t[2] || "",
                                        path: t[3] || "",
                                        params: t[4] || "",
                                        query: t[5] || "",
                                        fragment: t[6] || ""
                                    } : null
                                },
                                normalizePath: function(e) {
                                    for (e = e.split("")
                                        .reverse()
                                        .join("")
                                        .replace(r, ""); e.length !== (e = e.replace(s, ""))
                                        .length;);
                                    return e.split("")
                                        .reverse()
                                        .join("")
                                },
                                buildURLFromParts: function(e) {
                                    return e.scheme + e.netLoc + e.path + e.params + e.query + e.fragment
                                }
                            };
                        e.exports = a
                    }()
                })),
                    Zn = function(e, t) {
                        return /^[a-z]+:/i.test(t) ? t : (/\/\//i.test(e) || (e = Jn.buildAbsoluteURL(Ci.location.href, e)), Jn.buildAbsoluteURL(e, t))
                    }, $n = function(e) {
                        var t = e.baseUrl,
                            i = void 0 === t ? "" : t,
                            n = e.source,
                            r = void 0 === n ? "" : n,
                            s = e.range,
                            a = void 0 === s ? "" : s,
                            o = e.indexRange,
                            l = void 0 === o ? "" : o,
                            u = {
                                uri: r,
                                resolvedUri: Zn(i || "", r)
                            };
                        if (a || l) {
                            var c = (a || l)
                                .split("-"),
                                d = parseInt(c[0], 10),
                                h = parseInt(c[1], 10);
                            u.byterange = {
                                length: h - d + 1,
                                offset: d
                            }
                        }
                        return u
                    }, er = {
                        static: function(e) {
                            var t = e.duration,
                                i = e.timescale,
                                n = void 0 === i ? 1 : i,
                                r = e.sourceDuration;
                            return {
                                start: 0,
                                end: Math.ceil(r / (t / n))
                            }
                        },
                        dynamic: function(e) {
                            var t = e.NOW,
                                i = e.clientOffset,
                                n = e.availabilityStartTime,
                                r = e.timescale,
                                s = void 0 === r ? 1 : r,
                                a = e.duration,
                                o = e.start,
                                l = void 0 === o ? 0 : o,
                                u = e.minimumUpdatePeriod,
                                c = void 0 === u ? 0 : u,
                                d = e.timeShiftBufferDepth,
                                h = void 0 === d ? 1 / 0 : d,
                                p = (t + i) / 1e3,
                                f = n + l,
                                m = p + c - f,
                                v = Math.ceil(m * s / a),
                                g = Math.floor((p - f - h) * s / a),
                                y = Math.floor((p - f) * s / a);
                            return {
                                start: Math.max(0, g),
                                end: Math.min(v, y)
                            }
                        }
                    }, tr = function(e) {
                        var t = e.type,
                            i = void 0 === t ? "static" : t,
                            n = e.duration,
                            r = e.timescale,
                            s = void 0 === r ? 1 : r,
                            a = e.sourceDuration,
                            o = er[i](e),
                            l = function(e, t) {
                                for (var i = [], n = e; n < t; n++) i.push(n);
                                return i
                            }(o.start, o.end)
                                .map(function(e) {
                                return function(t, i) {
                                    var n = e.duration,
                                        r = e.timescale,
                                        s = void 0 === r ? 1 : r,
                                        a = e.periodIndex,
                                        o = e.startNumber;
                                    return {
                                        number: (void 0 === o ? 1 : o) + t,
                                        duration: n / s,
                                        timeline: a,
                                        time: i * n
                                    }
                                }
                            }(e));
                        if ("static" === i) {
                            var u = l.length - 1;
                            l[u].duration = a - n / s * u
                        }
                        return l
                    }, ir = function(e) {
                        var t = e.baseUrl,
                            i = e.initialization,
                            n = void 0 === i ? {} : i,
                            r = e.sourceDuration,
                            s = e.timescale,
                            a = void 0 === s ? 1 : s,
                            o = e.indexRange,
                            l = void 0 === o ? "" : o,
                            u = e.duration;
                        if (!t) throw new Error(Xn);
                        var c = $n({
                            baseUrl: t,
                            source: n.sourceURL,
                            range: n.range
                        }),
                            d = $n({
                                baseUrl: t,
                                source: t,
                                indexRange: l
                            });
                        if (d.map = c, u) {
                            var h = tr(e);
                            h.length && (d.duration = h[0].duration, d.timeline = h[0].timeline)
                        } else r && (d.duration = r / a, d.timeline = 0);
                        return d.number = 0, [d]
                    }, nr = function(e, t, i) {
                        for (var n = e.sidx.map ? e.sidx.map : null, r = e.sidx.duration, s = e.timeline || 0, a = e.sidx.byterange, o = a.offset + a.length, l = t.timescale, u = t.references.filter((function(e) {
                            return 1 !== e.referenceType
                        })), c = [], d = o + t.firstOffset, h = 0; h < u.length; h++) {
                            var p = t.references[h],
                                f = p.referencedSize,
                                m = p.subsegmentDuration,
                                v = ir({
                                    baseUrl: i,
                                    timescale: l,
                                    timeline: s,
                                    periodIndex: s,
                                    duration: m,
                                    sourceDuration: r,
                                    indexRange: d + "-" + (d + f - 1)
                                })[0];
                            n && (v.map = n), c.push(v), d += f
                        }
                        return e.segments = c, e
                    }, rr = function(e) {
                        var t, i = (t = e.reduce((function(e, t) {
                            var i, n = t.attributes.id + (t.attributes.lang || "");
                            return e[n] ? (t.segments[0] && (t.segments[0].discontinuity = !0), (i = e[n].segments)
                                .push.apply(i, t.segments), t.attributes.contentProtection && (e[n].attributes.contentProtection = t.attributes.contentProtection)) : e[n] = t, e
                        }), {}), Object.keys(t)
                            .map((function(e) {
                            return t[e]
                        })));
                        return i.map((function(e) {
                            var t, i;
                            return e.discontinuityStarts = (t = e.segments, i = "discontinuity", t.reduce((function(e, t, n) {
                                return t[i] && e.push(n), e
                            }), [])), e
                        }))
                    }, sr = function(e, t) {
                        if (void 0 === t && (t = {}), !Object.keys(t)
                            .length) return e;
                        for (var i in e) {
                            var n = e[i];
                            if (n.sidx) {
                                var r = n.sidx.uri + "-" + (a = n.sidx.byterange, o = void 0, o = a.offset + a.length - 1, a.offset + "-" + o),
                                    s = t[r] && t[r].sidx;
                                n.sidx && s && nr(n, s, n.sidx.resolvedUri)
                            }
                        }
                        var a, o;
                        return e
                    }, ar = function(e) {
                        var t, i = e.attributes,
                            n = e.segments,
                            r = e.sidx,
                            s = {
                                attributes: (t = {
                                    NAME: i.id,
                                    BANDWIDTH: i.bandwidth,
                                    CODECS: i.codecs
                                }, t["PROGRAM-ID"] = 1, t),
                                uri: "",
                                endList: "static" === (i.type || "static"),
                                timeline: i.periodIndex,
                                resolvedUri: "",
                                targetDuration: i.duration,
                                segments: n,
                                mediaSequence: n.length ? n[0].number : 1
                            };
                        return i.contentProtection && (s.contentProtection = i.contentProtection), r && (s.sidx = r), s
                    }, or = function(e) {
                        var t, i = e.attributes,
                            n = e.segments,
                            r = e.sidx,
                            s = {
                                attributes: (t = {
                                    NAME: i.id,
                                    AUDIO: "audio",
                                    SUBTITLES: "subs",
                                    RESOLUTION: {
                                        width: i.width,
                                        height: i.height
                                    },
                                    CODECS: i.codecs,
                                    BANDWIDTH: i.bandwidth
                                }, t["PROGRAM-ID"] = 1, t),
                                uri: "",
                                endList: "static" === (i.type || "static"),
                                timeline: i.periodIndex,
                                resolvedUri: "",
                                targetDuration: i.duration,
                                segments: n,
                                mediaSequence: n.length ? n[0].number : 1
                            };
                        return i.contentProtection && (s.contentProtection = i.contentProtection), r && (s.sidx = r), s
                    }, lr = function(e, t) {
                        var i;
                        if (void 0 === t && (t = {}), !e.length) return {};
                        var n = e[0].attributes,
                            r = n.sourceDuration,
                            s = n.minimumUpdatePeriod,
                            a = void 0 === s ? 0 : s,
                            o = rr(e.filter((function(e) {
                                var t = e.attributes;
                                return "video/mp4" === t.mimeType || "video" === t.contentType
                            })))
                                .map(or),
                            l = rr(e.filter((function(e) {
                                var t = e.attributes;
                                return "audio/mp4" === t.mimeType || "audio" === t.contentType
                            }))),
                            u = e.filter((function(e) {
                                var t = e.attributes;
                                return "text/vtt" === t.mimeType || "text" === t.contentType
                            })),
                            c = {
                                allowCache: !0,
                                discontinuityStarts: [],
                                segments: [],
                                endList: !0,
                                mediaGroups: (i = {
                                    AUDIO: {},
                                    VIDEO: {}
                                }, i["CLOSED-CAPTIONS"] = {}, i.SUBTITLES = {}, i),
                                uri: "",
                                duration: r,
                                playlists: sr(o, t),
                                minimumUpdatePeriod: 1e3 * a
                            };
                        return l.length && (c.mediaGroups.AUDIO.audio = function(e, t) {
                            var i;
                            void 0 === t && (t = {});
                            var n = e.reduce((function(e, n) {
                                var r = n.attributes.role && n.attributes.role.value || "",
                                    s = n.attributes.lang || "",
                                    a = "main";
                                if (s) {
                                    var o = r ? " (" + r + ")" : "";
                                    a = "" + n.attributes.lang + o
                                }
                                return e[a] && e[a].playlists[0].attributes.BANDWIDTH > n.attributes.bandwidth || (e[a] = {
                                    language: s,
                                    autoselect: !0,
                                    default: "main" === r,
                                    playlists: sr([ar(n)], t),
                                    uri: ""
                                }, void 0 === i && "main" === r && ((i = n)
                                    .
                                default = !0)), e
                            }), {});
                            return i || (n[Object.keys(n)[0]].
                            default = !0), n
                        }(l, t)), u.length && (c.mediaGroups.SUBTITLES.subs = function(e, t) {
                            return void 0 === t && (t = {}), e.reduce((function(e, i) {
                                var n, r, s, a, o = i.attributes.lang || "text";
                                return e[o] || (e[o] = {
                                    language: o,
                                    default: !1,
                                    autoselect: !1,
                                    playlists: sr([(n = i, s = n.attributes, a = n.segments, void 0 === a && (a = [{
                                        uri: s.baseUrl,
                                        timeline: s.periodIndex,
                                        resolvedUri: s.baseUrl || "",
                                        duration: s.sourceDuration,
                                        number: 0
                                    }], s.duration = s.sourceDuration), {
                                        attributes: (r = {
                                            NAME: s.id,
                                            BANDWIDTH: s.bandwidth
                                        }, r["PROGRAM-ID"] = 1, r),
                                        uri: "",
                                        endList: "static" === (s.type || "static"),
                                        timeline: s.periodIndex,
                                        resolvedUri: s.baseUrl || "",
                                        targetDuration: s.duration,
                                        segments: a,
                                        mediaSequence: a.length ? a[0].number : 1
                                    })], t),
                                    uri: ""
                                }), e
                            }), {})
                        }(u, t)), c
                    }, ur = function(e, t, i) {
                        var n = e.NOW,
                            r = e.clientOffset,
                            s = e.availabilityStartTime,
                            a = e.timescale,
                            o = void 0 === a ? 1 : a,
                            l = e.start,
                            u = void 0 === l ? 0 : l,
                            c = e.minimumUpdatePeriod,
                            d = (n + r) / 1e3 + (void 0 === c ? 0 : c) - (s + u);
                        return Math.ceil((d * o - t) / i)
                    }, cr = function(e, t) {
                        for (var i = e.type, n = void 0 === i ? "static" : i, r = e.minimumUpdatePeriod, s = void 0 === r ? 0 : r, a = e.media, o = void 0 === a ? "" : a, l = e.sourceDuration, u = e.timescale, c = void 0 === u ? 1 : u, d = e.startNumber, h = void 0 === d ? 1 : d, p = e.periodIndex, f = [], m = -1, v = 0; v < t.length; v++) {
                            var g = t[v],
                                y = g.d,
                                _ = g.r || 0,
                                b = g.t || 0;
                            m < 0 && (m = b), b && b > m && (m = b);
                            var T = void 0;
                            if (_ < 0) {
                                var k = v + 1;
                                T = k === t.length ? "dynamic" === n && s > 0 && o.indexOf("$Number$") > 0 ? ur(e, m, y) : (l * c - m) / y : (t[k].t - m) / y
                            } else T = _ + 1;
                            for (var S = h + f.length + T, j = h + f.length; j < S;) f.push({
                                number: j,
                                duration: y / c,
                                time: m,
                                timeline: p
                            }), m += y, j++
                        }
                        return f
                    }, dr = /\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,
                    hr = function(e, t) {
                        return e.replace(dr, function(e) {
                            return function(t, i, n, r) {
                                if ("$$" === t) return "$";
                                if (void 0 === e[i]) return t;
                                var s = "" + e[i];
                                return "RepresentationID" === i ? s : (r = n ? parseInt(r, 10) : 1, s.length >= r ? s : "" + new Array(r - s.length + 1)
                                    .join("0") + s)
                            }
                        }(t))
                    }, pr = function(e, t) {
                        var i = {
                            RepresentationID: e.id,
                            Bandwidth: e.bandwidth || 0
                        }, n = e.initialization,
                            r = void 0 === n ? {
                                sourceURL: "",
                                range: ""
                            } : n,
                            s = $n({
                                baseUrl: e.baseUrl,
                                source: hr(r.sourceURL, i),
                                range: r.range
                            }),
                            a = function(e, t) {
                                return e.duration || t ? e.duration ? tr(e) : cr(e, t) : [{
                                    number: e.startNumber || 1,
                                    duration: e.sourceDuration,
                                    time: 0,
                                    timeline: e.periodIndex
                                }]
                            }(e, t);
                        return a.map((function(t) {
                            i.Number = t.number, i.Time = t.time;
                            var n = hr(e.media || "", i);
                            return {
                                uri: n,
                                timeline: t.timeline,
                                duration: t.duration,
                                resolvedUri: Zn(e.baseUrl || "", n),
                                map: s,
                                number: t.number
                            }
                        }))
                    }, fr = function(e, t) {
                        var i = e.duration,
                            n = e.segmentUrls,
                            r = void 0 === n ? [] : n;
                        if (!i && !t || i && t) throw new Error(Kn);
                        var s, a = r.map((function(t) {
                            return function(e, t) {
                                var i = e.baseUrl,
                                    n = e.initialization,
                                    r = void 0 === n ? {} : n,
                                    s = $n({
                                        baseUrl: i,
                                        source: r.sourceURL,
                                        range: r.range
                                    }),
                                    a = $n({
                                        baseUrl: i,
                                        source: t.media,
                                        range: t.mediaRange
                                    });
                                return a.map = s, a
                            }(e, t)
                        }));
                        i && (s = tr(e)), t && (s = cr(e, t));
                        var o = s.map((function(e, t) {
                            if (a[t]) {
                                var i = a[t];
                                return i.timeline = e.timeline, i.duration = e.duration, i.number = e.number, i
                            }
                        }))
                            .filter((function(e) {
                            return e
                        }));
                        return o
                    }, mr = function(e) {
                        var t, i, n = e.attributes,
                            r = e.segmentInfo;
                        r.template ? (i = pr, t = Hn(n, r.template)) : r.base ? (i = ir, t = Hn(n, r.base)) : r.list && (i = fr, t = Hn(n, r.list));
                        var s = {
                            attributes: n
                        };
                        if (!i) return s;
                        var a = i(t, r.timeline);
                        if (t.duration) {
                            var o = t,
                                l = o.duration,
                                u = o.timescale,
                                c = void 0 === u ? 1 : u;
                            t.duration = l / c
                        } else a.length ? t.duration = a.reduce((function(e, t) {
                            return Math.max(e, Math.ceil(t.duration))
                        }), 0) : t.duration = 0;
                        return s.attributes = t, s.segments = a, r.base && t.indexRange && (s.sidx = a[0], s.segments = []), s
                    }, vr = function(e, t) {
                        return zn(e.childNodes)
                            .filter((function(e) {
                            return e.tagName === t
                        }))
                    }, gr = function(e) {
                        return e.textContent.trim()
                    }, yr = function(e) {
                        var t = /P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);
                        if (!t) return 0;
                        var i = t.slice(1),
                            n = i[0],
                            r = i[1],
                            s = i[2],
                            a = i[3],
                            o = i[4],
                            l = i[5];
                        return 31536e3 * parseFloat(n || 0) + 2592e3 * parseFloat(r || 0) + 86400 * parseFloat(s || 0) + 3600 * parseFloat(a || 0) + 60 * parseFloat(o || 0) + parseFloat(l || 0)
                    }, _r = {
                        mediaPresentationDuration: function(e) {
                            return yr(e)
                        },
                        availabilityStartTime: function(e) {
                            return /^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t = e) && (t += "Z"), Date.parse(t) / 1e3;
                            var t
                        },
                        minimumUpdatePeriod: function(e) {
                            return yr(e)
                        },
                        timeShiftBufferDepth: function(e) {
                            return yr(e)
                        },
                        start: function(e) {
                            return yr(e)
                        },
                        width: function(e) {
                            return parseInt(e, 10)
                        },
                        height: function(e) {
                            return parseInt(e, 10)
                        },
                        bandwidth: function(e) {
                            return parseInt(e, 10)
                        },
                        startNumber: function(e) {
                            return parseInt(e, 10)
                        },
                        timescale: function(e) {
                            return parseInt(e, 10)
                        },
                        duration: function(e) {
                            var t = parseInt(e, 10);
                            return isNaN(t) ? yr(e) : t
                        },
                        d: function(e) {
                            return parseInt(e, 10)
                        },
                        t: function(e) {
                            return parseInt(e, 10)
                        },
                        r: function(e) {
                            return parseInt(e, 10)
                        },
                        DEFAULT: function(e) {
                            return e
                        }
                    }, br = function(e) {
                        return e && e.attributes ? zn(e.attributes)
                            .reduce((function(e, t) {
                            var i = _r[t.name] || _r.DEFAULT;
                            return e[t.name] = i(t.value), e
                        }), {}) : {}
                    };
                var Tr, kr, Sr, jr, wr, Ar, Cr = {
                    "urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b": "org.w3.clearkey",
                    "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed": "com.widevine.alpha",
                    "urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95": "com.microsoft.playready",
                    "urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb": "com.adobe.primetime"
                }, Er = function(e, t) {
                    return t.length ? qn(e.map((function(e) {
                        return t.map((function(t) {
                            return Zn(e, gr(t))
                        }))
                    }))) : e
                }, xr = function(e) {
                    var t = vr(e, "SegmentTemplate")[0],
                        i = vr(e, "SegmentList")[0],
                        n = i && vr(i, "SegmentURL")
                            .map((function(e) {
                            return Hn({
                                tag: "SegmentURL"
                            }, br(e))
                        })),
                        r = vr(e, "SegmentBase")[0],
                        s = i || t,
                        a = s && vr(s, "SegmentTimeline")[0],
                        o = i || r || t,
                        l = o && vr(o, "Initialization")[0],
                        u = t && br(t);
                    u && l ? u.initialization = l && br(l) : u && u.initialization && (u.initialization = {
                        sourceURL: u.initialization
                    });
                    var c = {
                        template: u,
                        timeline: a && vr(a, "S")
                            .map((function(e) {
                            return br(e)
                        })),
                        list: i && Hn(br(i), {
                            segmentUrls: n,
                            initialization: br(l)
                        }),
                        base: r && Hn(br(r), {
                            initialization: br(l)
                        })
                    };
                    return Object.keys(c)
                        .forEach((function(e) {
                        c[e] || delete c[e]
                    })), c
                }, Ir = function(e) {
                    return e.reduce((function(e, t) {
                        var i = br(t),
                            n = Cr[i.schemeIdUri];
                        if (n) {
                            e[n] = {
                                attributes: i
                            };
                            var r = vr(t, "cenc:pssh")[0];
                            if (r) {
                                var s = gr(r),
                                    a = s && function(e) {
                                        for (var t = Ci.atob(e), i = new Uint8Array(t.length), n = 0; n < t.length; n++) i[n] = t.charCodeAt(n);
                                        return i
                                    }(s);
                                e[n].pssh = a
                            }
                        }
                        return e
                    }), {})
                }, Lr = function(e, t, i) {
                    return function(n) {
                        var r = br(n),
                            s = Er(t, vr(n, "BaseURL")),
                            a = vr(n, "Role")[0],
                            o = {
                                role: br(a)
                            }, l = Hn(e, r, o),
                            u = Ir(vr(n, "ContentProtection"));
                        Object.keys(u)
                            .length && (l = Hn(l, {
                            contentProtection: u
                        }));
                        var c = xr(n),
                            d = vr(n, "Representation"),
                            h = Hn(i, c);
                        return qn(d.map(function(e, t, i) {
                            return function(n) {
                                var r = vr(n, "BaseURL"),
                                    s = Er(t, r),
                                    a = Hn(e, br(n)),
                                    o = xr(n);
                                return s.map((function(e) {
                                    return {
                                        segmentInfo: Hn(i, o),
                                        attributes: Hn(a, {
                                            baseUrl: e
                                        })
                                    }
                                }))
                            }
                        }(l, s, h)))
                    }
                }, Pr = function(e, t) {
                    void 0 === t && (t = {});
                    var i = t,
                        n = i.manifestUri,
                        r = void 0 === n ? "" : n,
                        s = i.NOW,
                        a = void 0 === s ? Date.now() : s,
                        o = i.clientOffset,
                        l = void 0 === o ? 0 : o,
                        u = vr(e, "Period");
                    if (!u.length) throw new Error(Wn);
                    var c = br(e),
                        d = Er([r], vr(e, "BaseURL"));
                    return c.sourceDuration = c.mediaPresentationDuration || 0, c.NOW = a, c.clientOffset = l, qn(u.map(function(e, t) {
                        return function(i, n) {
                            var r = Er(t, vr(i, "BaseURL")),
                                s = br(i),
                                a = parseInt(s.id, 10),
                                o = Ci.isNaN(a) ? n : a,
                                l = Hn(e, {
                                    periodIndex: o
                                }),
                                u = vr(i, "AdaptationSet"),
                                c = xr(i);
                            return qn(u.map(Lr(l, r, c)))
                        }
                    }(c, d)))
                }, Or = function(e) {
                    if ("" === e) throw new Error(Gn);
                    var t = (new Ci.DOMParser)
                        .parseFromString(e, "application/xml"),
                        i = t && "MPD" === t.documentElement.tagName ? t.documentElement : null;
                    if (!i || i && i.getElementsByTagName("parsererror")
                        .length > 0) throw new Error(Yn);
                    return i
                }, Dr = function(e, t) {
                    return void 0 === t && (t = {}), lr(Pr(Or(e), t)
                        .map(mr), t.sidxMapping)
                }, Ur = function(e) {
                    return function(e) {
                        var t = vr(e, "UTCTiming")[0];
                        if (!t) return null;
                        var i = br(t);
                        switch (i.schemeIdUri) {
                            case "urn:mpeg:dash:utc:http-head:2014":
                            case "urn:mpeg:dash:utc:http-head:2012":
                                i.method = "HEAD";
                                break;
                            case "urn:mpeg:dash:utc:http-xsdate:2014":
                            case "urn:mpeg:dash:utc:http-iso:2014":
                            case "urn:mpeg:dash:utc:http-xsdate:2012":
                            case "urn:mpeg:dash:utc:http-iso:2012":
                                i.method = "GET";
                                break;
                            case "urn:mpeg:dash:utc:direct:2014":
                            case "urn:mpeg:dash:utc:direct:2012":
                                i.method = "DIRECT", i.value = Date.parse(i.value);
                                break;
                            default:
                                throw new Error(Qn)
                        }
                        return i
                    }(Or(e))
                }, Rr = function(e) {
                    return e >>> 0
                }, Mr = function(e) {
                    return ("00" + e.toString(16))
                        .slice(-2)
                };
                Tr = function(e, t) {
                    var i, n, r, s, a, o = [];
                    if (!t.length) return null;
                    for (i = 0; i < e.byteLength;) n = Rr(e[i] << 24 | e[i + 1] << 16 | e[i + 2] << 8 | e[i + 3]), r = kr(e.subarray(i + 4, i + 8)), s = n > 1 ? i + n : e.byteLength, r === t[0] && (1 === t.length ? o.push(e.subarray(i + 8, s)) : (a = Tr(e.subarray(i + 8, s), t.slice(1)))
                        .length && (o = o.concat(a))), i = s;
                    return o
                }, Sr = function(e) {
                    return Tr(e, ["moov", "trak"])
                        .reduce((function(e, t) {
                        var i, n, r, s, a;
                        return (i = Tr(t, ["tkhd"])[0]) ? (n = i[0], s = Rr(i[r = 0 === n ? 12 : 20] << 24 | i[r + 1] << 16 | i[r + 2] << 8 | i[r + 3]), (a = Tr(t, ["mdia", "mdhd"])[0]) ? (r = 0 === (n = a[0]) ? 12 : 20, e[s] = Rr(a[r] << 24 | a[r + 1] << 16 | a[r + 2] << 8 | a[r + 3]), e) : null) : null
                    }), {})
                }, jr = function(e, t) {
                    var i, n, r;
                    return i = Tr(t, ["moof", "traf"]), n = [].concat.apply([], i.map((function(t) {
                        return Tr(t, ["tfhd"])
                            .map((function(i) {
                            var n, r, s;
                            return n = Rr(i[4] << 24 | i[5] << 16 | i[6] << 8 | i[7]), r = e[n] || 9e4, s = Tr(t, ["tfdt"])
                                .map((function(e) {
                                var t, i;
                                return t = e[0], i = Rr(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]), 1 === t && (i *= Math.pow(2, 32), i += Rr(e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11])), i
                            }))[0], (s = s || 1 / 0) / r
                        }))
                    }))), r = Math.min.apply(null, n), isFinite(r) ? r : 0
                }, wr = function(e) {
                    var t = Tr(e, ["moov", "trak"]),
                        i = [];
                    return t.forEach((function(e) {
                        var t = Tr(e, ["mdia", "hdlr"]),
                            n = Tr(e, ["tkhd"]);
                        t.forEach((function(e, t) {
                            var r, s, a = kr(e.subarray(8, 12)),
                                o = n[t];
                            "vide" === a && (s = 0 === (r = new DataView(o.buffer, o.byteOffset, o.byteLength))
                                .getUint8(0) ? r.getUint32(12) : r.getUint32(20), i.push(s))
                        }))
                    })), i
                }, Ar = function(e) {
                    var t = Tr(e, ["moov", "trak"]),
                        i = [];
                    return t.forEach((function(e) {
                        var t, n, r = {}, s = Tr(e, ["tkhd"])[0];
                        s && (n = (t = new DataView(s.buffer, s.byteOffset, s.byteLength))
                            .getUint8(0), r.id = 0 === n ? t.getUint32(12) : t.getUint32(20));
                        var a = Tr(e, ["mdia", "hdlr"])[0];
                        if (a) {
                            var o = kr(a.subarray(8, 12));
                            r.type = "vide" === o ? "video" : "soun" === o ? "audio" : o
                        }
                        var l = Tr(e, ["mdia", "minf", "stbl", "stsd"])[0];
                        if (l) {
                            var u = l.subarray(8);
                            r.codec = kr(u.subarray(4, 8));
                            var c, d = Tr(u, [r.codec])[0];
                            d && (/^[a-z]vc[1-9]$/i.test(r.codec) ? (c = d.subarray(78), "avcC" === kr(c.subarray(4, 8)) && c.length > 11 ? (r.codec += ".", r.codec += Mr(c[9]), r.codec += Mr(c[10]), r.codec += Mr(c[11])) : r.codec = "avc1.4d400d") : /^mp4[a,v]$/i.test(r.codec) && (c = d.subarray(28), "esds" === kr(c.subarray(4, 8)) && c.length > 20 && 0 !== c[19] ? (r.codec += "." + Mr(c[19]), r.codec += "." + Mr(c[20] >>> 2 & 63)
                                .replace(/^0/, "")) : r.codec = "mp4a.40.2"))
                        }
                        var h = Tr(e, ["mdia", "mdhd"])[0];
                        if (h && s) {
                            var p = 0 === n ? 12 : 20;
                            r.timescale = Rr(h[p] << 24 | h[p + 1] << 16 | h[p + 2] << 8 | h[p + 3])
                        }
                        i.push(r)
                    })), i
                };
                var Br, Nr, Fr = {
                    findBox: Tr,
                    parseType: kr = function(e) {
                        var t = "";
                        return t += String.fromCharCode(e[0]), t += String.fromCharCode(e[1]), t += String.fromCharCode(e[2]), t += String.fromCharCode(e[3])
                    },
                    timescale: Sr,
                    startTime: jr,
                    videoTrackIds: wr,
                    tracks: Ar
                }, Vr = Fr.parseType,
                    Hr = function(e) {
                        return new Date(1e3 * e - 20828448e5)
                    }, qr = function(e) {
                        return {
                            isLeading: (12 & e[0]) >>> 2,
                            dependsOn: 3 & e[0],
                            isDependedOn: (192 & e[1]) >>> 6,
                            hasRedundancy: (48 & e[1]) >>> 4,
                            paddingValue: (14 & e[1]) >>> 1,
                            isNonSyncSample: 1 & e[1],
                            degradationPriority: e[2] << 8 | e[3]
                        }
                    }, zr = function(e) {
                        var t, i, n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                            r = [];
                        for (t = 0; t + 4 < e.length; t += i) if (i = n.getUint32(t), t += 4, i <= 0) r.push("<span style='color:red;'>MALFORMED DATA</span>");
                        else switch (31 & e[t]) {
                            case 1:
                                r.push("slice_layer_without_partitioning_rbsp");
                                break;
                            case 5:
                                r.push("slice_layer_without_partitioning_rbsp_idr");
                                break;
                            case 6:
                                r.push("sei_rbsp");
                                break;
                            case 7:
                                r.push("seq_parameter_set_rbsp");
                                break;
                            case 8:
                                r.push("pic_parameter_set_rbsp");
                                break;
                            case 9:
                                r.push("access_unit_delimiter_rbsp");
                                break;
                            default:
                                r.push("UNKNOWN NAL - " + e[t] & 31)
                        }
                        return r
                    }, Wr = {
                        avc1: function(e) {
                            var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                            return {
                                dataReferenceIndex: t.getUint16(6),
                                width: t.getUint16(24),
                                height: t.getUint16(26),
                                horizresolution: t.getUint16(28) + t.getUint16(30) / 16,
                                vertresolution: t.getUint16(32) + t.getUint16(34) / 16,
                                frameCount: t.getUint16(40),
                                depth: t.getUint16(74),
                                config: Br(e.subarray(78, e.byteLength))
                            }
                        },
                        avcC: function(e) {
                            var t, i, n, r, s = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                a = {
                                    configurationVersion: e[0],
                                    avcProfileIndication: e[1],
                                    profileCompatibility: e[2],
                                    avcLevelIndication: e[3],
                                    lengthSizeMinusOne: 3 & e[4],
                                    sps: [],
                                    pps: []
                                }, o = 31 & e[5];
                            for (n = 6, r = 0; r < o; r++) i = s.getUint16(n), n += 2, a.sps.push(new Uint8Array(e.subarray(n, n + i))), n += i;
                            for (t = e[n], n++, r = 0; r < t; r++) i = s.getUint16(n), n += 2, a.pps.push(new Uint8Array(e.subarray(n, n + i))), n += i;
                            return a
                        },
                        btrt: function(e) {
                            var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                            return {
                                bufferSizeDB: t.getUint32(0),
                                maxBitrate: t.getUint32(4),
                                avgBitrate: t.getUint32(8)
                            }
                        },
                        esds: function(e) {
                            return {
                                version: e[0],
                                flags: new Uint8Array(e.subarray(1, 4)),
                                esId: e[6] << 8 | e[7],
                                streamPriority: 31 & e[8],
                                decoderConfig: {
                                    objectProfileIndication: e[11],
                                    streamType: e[12] >>> 2 & 63,
                                    bufferSize: e[13] << 16 | e[14] << 8 | e[15],
                                    maxBitrate: e[16] << 24 | e[17] << 16 | e[18] << 8 | e[19],
                                    avgBitrate: e[20] << 24 | e[21] << 16 | e[22] << 8 | e[23],
                                    decoderConfigDescriptor: {
                                        tag: e[24],
                                        length: e[25],
                                        audioObjectType: e[26] >>> 3 & 31,
                                        samplingFrequencyIndex: (7 & e[26]) << 1 | e[27] >>> 7 & 1,
                                        channelConfiguration: e[27] >>> 3 & 15
                                    }
                                }
                            }
                        },
                        ftyp: function(e) {
                            for (var t = new DataView(e.buffer, e.byteOffset, e.byteLength), i = {
                                majorBrand: Vr(e.subarray(0, 4)),
                                minorVersion: t.getUint32(4),
                                compatibleBrands: []
                            }, n = 8; n < e.byteLength;) i.compatibleBrands.push(Vr(e.subarray(n, n + 4))), n += 4;
                            return i
                        },
                        dinf: function(e) {
                            return {
                                boxes: Br(e)
                            }
                        },
                        dref: function(e) {
                            return {
                                version: e[0],
                                flags: new Uint8Array(e.subarray(1, 4)),
                                dataReferences: Br(e.subarray(8))
                            }
                        },
                        hdlr: function(e) {
                            var t = {
                                version: new DataView(e.buffer, e.byteOffset, e.byteLength)
                                    .getUint8(0),
                                flags: new Uint8Array(e.subarray(1, 4)),
                                handlerType: Vr(e.subarray(8, 12)),
                                name: ""
                            }, i = 8;
                            for (i = 24; i < e.byteLength; i++) {
                                if (0 === e[i]) {
                                    i++;
                                    break
                                }
                                t.name += String.fromCharCode(e[i])
                            }
                            return t.name = decodeURIComponent(escape(t.name)), t
                        },
                        mdat: function(e) {
                            return {
                                byteLength: e.byteLength,
                                nals: zr(e)
                            }
                        },
                        mdhd: function(e) {
                            var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                n = 4,
                                r = {
                                    version: i.getUint8(0),
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    language: ""
                                };
                            return 1 === r.version ? (n += 4, r.creationTime = Hr(i.getUint32(n)), n += 8, r.modificationTime = Hr(i.getUint32(n)), n += 4, r.timescale = i.getUint32(n), n += 8, r.duration = i.getUint32(n)) : (r.creationTime = Hr(i.getUint32(n)), n += 4, r.modificationTime = Hr(i.getUint32(n)), n += 4, r.timescale = i.getUint32(n), n += 4, r.duration = i.getUint32(n)), n += 4, t = i.getUint16(n), r.language += String.fromCharCode(96 + (t >> 10)), r.language += String.fromCharCode(96 + ((992 & t) >> 5)), r.language += String.fromCharCode(96 + (31 & t)), r
                        },
                        mdia: function(e) {
                            return {
                                boxes: Br(e)
                            }
                        },
                        mfhd: function(e) {
                            return {
                                version: e[0],
                                flags: new Uint8Array(e.subarray(1, 4)),
                                sequenceNumber: e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]
                            }
                        },
                        minf: function(e) {
                            return {
                                boxes: Br(e)
                            }
                        },
                        mp4a: function(e) {
                            var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                i = {
                                    dataReferenceIndex: t.getUint16(6),
                                    channelcount: t.getUint16(16),
                                    samplesize: t.getUint16(18),
                                    samplerate: t.getUint16(24) + t.getUint16(26) / 65536
                                };
                            return e.byteLength > 28 && (i.streamDescriptor = Br(e.subarray(28))[0]), i
                        },
                        moof: function(e) {
                            return {
                                boxes: Br(e)
                            }
                        },
                        moov: function(e) {
                            return {
                                boxes: Br(e)
                            }
                        },
                        mvex: function(e) {
                            return {
                                boxes: Br(e)
                            }
                        },
                        mvhd: function(e) {
                            var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                i = 4,
                                n = {
                                    version: t.getUint8(0),
                                    flags: new Uint8Array(e.subarray(1, 4))
                                };
                            return 1 === n.version ? (i += 4, n.creationTime = Hr(t.getUint32(i)), i += 8, n.modificationTime = Hr(t.getUint32(i)), i += 4, n.timescale = t.getUint32(i), i += 8, n.duration = t.getUint32(i)) : (n.creationTime = Hr(t.getUint32(i)), i += 4, n.modificationTime = Hr(t.getUint32(i)), i += 4, n.timescale = t.getUint32(i), i += 4, n.duration = t.getUint32(i)), i += 4, n.rate = t.getUint16(i) + t.getUint16(i + 2) / 16, i += 4, n.volume = t.getUint8(i) + t.getUint8(i + 1) / 8, i += 2, i += 2, i += 8, n.matrix = new Uint32Array(e.subarray(i, i + 36)), i += 36, i += 24, n.nextTrackId = t.getUint32(i), n
                        },
                        pdin: function(e) {
                            var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                            return {
                                version: t.getUint8(0),
                                flags: new Uint8Array(e.subarray(1, 4)),
                                rate: t.getUint32(4),
                                initialDelay: t.getUint32(8)
                            }
                        },
                        sdtp: function(e) {
                            var t, i = {
                                version: e[0],
                                flags: new Uint8Array(e.subarray(1, 4)),
                                samples: []
                            };
                            for (t = 4; t < e.byteLength; t++) i.samples.push({
                                dependsOn: (48 & e[t]) >> 4,
                                isDependedOn: (12 & e[t]) >> 2,
                                hasRedundancy: 3 & e[t]
                            });
                            return i
                        },
                        sidx: function(e) {
                            var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                n = {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    references: [],
                                    referenceId: i.getUint32(4),
                                    timescale: i.getUint32(8),
                                    earliestPresentationTime: i.getUint32(12),
                                    firstOffset: i.getUint32(16)
                                }, r = i.getUint16(22);
                            for (t = 24; r; t += 12, r--) n.references.push({
                                referenceType: (128 & e[t]) >>> 7,
                                referencedSize: 2147483647 & i.getUint32(t),
                                subsegmentDuration: i.getUint32(t + 4),
                                startsWithSap: !! (128 & e[t + 8]),
                                sapType: (112 & e[t + 8]) >>> 4,
                                sapDeltaTime: 268435455 & i.getUint32(t + 8)
                            });
                            return n
                        },
                        smhd: function(e) {
                            return {
                                version: e[0],
                                flags: new Uint8Array(e.subarray(1, 4)),
                                balance: e[4] + e[5] / 256
                            }
                        },
                        stbl: function(e) {
                            return {
                                boxes: Br(e)
                            }
                        },
                        stco: function(e) {
                            var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                n = {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    chunkOffsets: []
                                }, r = i.getUint32(4);
                            for (t = 8; r; t += 4, r--) n.chunkOffsets.push(i.getUint32(t));
                            return n
                        },
                        stsc: function(e) {
                            var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                n = i.getUint32(4),
                                r = {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    sampleToChunks: []
                                };
                            for (t = 8; n; t += 12, n--) r.sampleToChunks.push({
                                firstChunk: i.getUint32(t),
                                samplesPerChunk: i.getUint32(t + 4),
                                sampleDescriptionIndex: i.getUint32(t + 8)
                            });
                            return r
                        },
                        stsd: function(e) {
                            return {
                                version: e[0],
                                flags: new Uint8Array(e.subarray(1, 4)),
                                sampleDescriptions: Br(e.subarray(8))
                            }
                        },
                        stsz: function(e) {
                            var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                n = {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    sampleSize: i.getUint32(4),
                                    entries: []
                                };
                            for (t = 12; t < e.byteLength; t += 4) n.entries.push(i.getUint32(t));
                            return n
                        },
                        stts: function(e) {
                            var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                n = {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    timeToSamples: []
                                }, r = i.getUint32(4);
                            for (t = 8; r; t += 8, r--) n.timeToSamples.push({
                                sampleCount: i.getUint32(t),
                                sampleDelta: i.getUint32(t + 4)
                            });
                            return n
                        },
                        styp: function(e) {
                            return Wr.ftyp(e)
                        },
                        tfdt: function(e) {
                            var t = {
                                version: e[0],
                                flags: new Uint8Array(e.subarray(1, 4)),
                                baseMediaDecodeTime: e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]
                            };
                            return 1 === t.version && (t.baseMediaDecodeTime *= Math.pow(2, 32), t.baseMediaDecodeTime += e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11]), t
                        },
                        tfhd: function(e) {
                            var t, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                n = {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    trackId: i.getUint32(4)
                                }, r = 1 & n.flags[2],
                                s = 2 & n.flags[2],
                                a = 8 & n.flags[2],
                                o = 16 & n.flags[2],
                                l = 32 & n.flags[2],
                                u = 65536 & n.flags[0],
                                c = 131072 & n.flags[0];
                            return t = 8, r && (t += 4, n.baseDataOffset = i.getUint32(12), t += 4), s && (n.sampleDescriptionIndex = i.getUint32(t), t += 4), a && (n.defaultSampleDuration = i.getUint32(t), t += 4), o && (n.defaultSampleSize = i.getUint32(t), t += 4), l && (n.defaultSampleFlags = i.getUint32(t)), u && (n.durationIsEmpty = !0), !r && c && (n.baseDataOffsetIsMoof = !0), n
                        },
                        tkhd: function(e) {
                            var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                i = 4,
                                n = {
                                    version: t.getUint8(0),
                                    flags: new Uint8Array(e.subarray(1, 4))
                                };
                            return 1 === n.version ? (i += 4, n.creationTime = Hr(t.getUint32(i)), i += 8, n.modificationTime = Hr(t.getUint32(i)), i += 4, n.trackId = t.getUint32(i), i += 4, i += 8, n.duration = t.getUint32(i)) : (n.creationTime = Hr(t.getUint32(i)), i += 4, n.modificationTime = Hr(t.getUint32(i)), i += 4, n.trackId = t.getUint32(i), i += 4, i += 4, n.duration = t.getUint32(i)), i += 4, i += 8, n.layer = t.getUint16(i), i += 2, n.alternateGroup = t.getUint16(i), i += 2, n.volume = t.getUint8(i) + t.getUint8(i + 1) / 8, i += 2, i += 2, n.matrix = new Uint32Array(e.subarray(i, i + 36)), i += 36, n.width = t.getUint16(i) + t.getUint16(i + 2) / 16, i += 4, n.height = t.getUint16(i) + t.getUint16(i + 2) / 16, n
                        },
                        traf: function(e) {
                            return {
                                boxes: Br(e)
                            }
                        },
                        trak: function(e) {
                            return {
                                boxes: Br(e)
                            }
                        },
                        trex: function(e) {
                            var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                            return {
                                version: e[0],
                                flags: new Uint8Array(e.subarray(1, 4)),
                                trackId: t.getUint32(4),
                                defaultSampleDescriptionIndex: t.getUint32(8),
                                defaultSampleDuration: t.getUint32(12),
                                defaultSampleSize: t.getUint32(16),
                                sampleDependsOn: 3 & e[20],
                                sampleIsDependedOn: (192 & e[21]) >> 6,
                                sampleHasRedundancy: (48 & e[21]) >> 4,
                                samplePaddingValue: (14 & e[21]) >> 1,
                                sampleIsDifferenceSample: !! (1 & e[21]),
                                sampleDegradationPriority: t.getUint16(22)
                            }
                        },
                        trun: function(e) {
                            var t, i = {
                                version: e[0],
                                flags: new Uint8Array(e.subarray(1, 4)),
                                samples: []
                            }, n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                r = 1 & i.flags[2],
                                s = 4 & i.flags[2],
                                a = 1 & i.flags[1],
                                o = 2 & i.flags[1],
                                l = 4 & i.flags[1],
                                u = 8 & i.flags[1],
                                c = n.getUint32(4),
                                d = 8;
                            for (r && (i.dataOffset = n.getInt32(d), d += 4), s && c && (t = {
                                flags: qr(e.subarray(d, d + 4))
                            }, d += 4, a && (t.duration = n.getUint32(d), d += 4), o && (t.size = n.getUint32(d), d += 4), u && (t.compositionTimeOffset = n.getUint32(d), d += 4), i.samples.push(t), c--); c--;) t = {}, a && (t.duration = n.getUint32(d), d += 4), o && (t.size = n.getUint32(d), d += 4), l && (t.flags = qr(e.subarray(d, d + 4)), d += 4), u && (t.compositionTimeOffset = n.getUint32(d), d += 4), i.samples.push(t);
                            return i
                        },
                        "url ": function(e) {
                            return {
                                version: e[0],
                                flags: new Uint8Array(e.subarray(1, 4))
                            }
                        },
                        vmhd: function(e) {
                            var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                            return {
                                version: e[0],
                                flags: new Uint8Array(e.subarray(1, 4)),
                                graphicsmode: t.getUint16(4),
                                opcolor: new Uint16Array([t.getUint16(6), t.getUint16(8), t.getUint16(10)])
                            }
                        }
                    };
                Br = function(e) {
                    for (var t, i, n, r, s, a = 0, o = [], l = new ArrayBuffer(e.length), u = new Uint8Array(l), c = 0; c < e.length; ++c) u[c] = e[c];
                    for (t = new DataView(l); a < e.byteLength;) i = t.getUint32(a), n = Vr(e.subarray(a + 4, a + 8)), r = i > 1 ? a + i : e.byteLength, (s = (Wr[n] || function(e) {
                        return {
                            data: e
                        }
                    })(e.subarray(a + 8, r)))
                        .size = i, s.type = n, o.push(s), a = r;
                    return o
                }, Nr = function(e, t) {
                    var i;
                    return t = t || 0, i = new Array(2 * t + 1)
                        .join(" "), e.map((function(e, n) {
                        return i + e.type + "\n" + Object.keys(e)
                            .filter((function(e) {
                            return "type" !== e && "boxes" !== e
                        }))
                            .map((function(t) {
                            var n = i + "  " + t + ": ",
                                r = e[t];
                            if (r instanceof Uint8Array || r instanceof Uint32Array) {
                                var s = Array.prototype.slice.call(new Uint8Array(r.buffer, r.byteOffset, r.byteLength))
                                    .map((function(e) {
                                    return " " + ("00" + e.toString(16))
                                        .slice(-2)
                                }))
                                    .join("")
                                    .match(/.{1,24}/g);
                                return s ? 1 === s.length ? n + "<" + s.join("")
                                    .slice(1) + ">" : n + "<\n" + s.map((function(e) {
                                    return i + "  " + e
                                }))
                                    .join("\n") + "\n" + i + "  >" : n + "<>"
                            }
                            return n + JSON.stringify(r, null, 2)
                                .split("\n")
                                .map((function(e, t) {
                                return 0 === t ? e : i + "  " + e
                            }))
                                .join("\n")
                        }))
                            .join("\n") + (e.boxes ? "\n" + Nr(e.boxes, t + 1) : "")
                    }))
                        .join("\n")
                };
                var Gr = {
                    inspect: Br,
                    textify: Nr,
                    parseTfdt: Wr.tfdt,
                    parseHdlr: Wr.hdlr,
                    parseTfhd: Wr.tfhd,
                    parseTrun: Wr.trun,
                    parseSidx: Wr.sidx
                }, Yr = {
                    parseSei: function(e) {
                        for (var t = 0, i = {
                            payloadType: -1,
                            payloadSize: 0
                        }, n = 0, r = 0; t < e.byteLength && 128 !== e[t];) {
                            for (; 255 === e[t];) n += 255, t++;
                            for (n += e[t++]; 255 === e[t];) r += 255, t++;
                            if (r += e[t++], !i.payload && 4 === n) {
                                i.payloadType = n, i.payloadSize = r, i.payload = e.subarray(t, t + r);
                                break
                            }
                            t += r, n = 0, r = 0
                        }
                        return i
                    },
                    parseUserData: function(e) {
                        return 181 !== e.payload[0] || 49 != (e.payload[1] << 8 | e.payload[2]) || "GA94" !== String.fromCharCode(e.payload[3], e.payload[4], e.payload[5], e.payload[6]) || 3 !== e.payload[7] ? null : e.payload.subarray(8, e.payload.length - 1)
                    },
                    parseCaptionPackets: function(e, t) {
                        var i, n, r, s, a = [];
                        if (!(64 & t[0])) return a;
                        for (n = 31 & t[0], i = 0; i < n; i++) s = {
                            type: 3 & t[(r = 3 * i) + 2],
                            pts: e
                        }, 4 & t[r + 2] && (s.ccData = t[r + 3] << 8 | t[r + 4], a.push(s));
                        return a
                    },
                    discardEmulationPreventionBytes: function(e) {
                        for (var t, i, n = e.byteLength, r = [], s = 1; s < n - 2;) 0 === e[s] && 0 === e[s + 1] && 3 === e[s + 2] ? (r.push(s + 2), s += 2) : s++;
                        if (0 === r.length) return e;
                        t = n - r.length, i = new Uint8Array(t);
                        var a = 0;
                        for (s = 0; s < t; a++, s++) a === r[0] && (a++, r.shift()), i[s] = e[a];
                        return i
                    },
                    USER_DATA_REGISTERED_ITU_T_T35: 4
                }, Xr = function() {
                    this.init = function() {
                        var e = {};
                        this.on = function(t, i) {
                            e[t] || (e[t] = []), e[t] = e[t].concat(i)
                        }, this.off = function(t, i) {
                            var n;
                            return !!e[t] && (n = e[t].indexOf(i), e[t] = e[t].slice(), e[t].splice(n, 1), n > -1)
                        }, this.trigger = function(t) {
                            var i, n, r, s;
                            if (i = e[t]) if (2 === arguments.length) for (r = i.length, n = 0; n < r; ++n) i[n].call(this, arguments[1]);
                            else {
                                for (s = [], n = arguments.length, n = 1; n < arguments.length; ++n) s.push(arguments[n]);
                                for (r = i.length, n = 0; n < r; ++n) i[n].apply(this, s)
                            }
                        }, this.dispose = function() {
                            e = {}
                        }
                    }
                };
                Xr.prototype.pipe = function(e) {
                    return this.on("data", (function(t) {
                        e.push(t)
                    })), this.on("done", (function(t) {
                        e.flush(t)
                    })), this.on("partialdone", (function(t) {
                        e.partialFlush(t)
                    })), this.on("endedtimeline", (function(t) {
                        e.endTimeline(t)
                    })), this.on("reset", (function(t) {
                        e.reset(t)
                    })), e
                }, Xr.prototype.push = function(e) {
                    this.trigger("data", e)
                }, Xr.prototype.flush = function(e) {
                    this.trigger("done", e)
                }, Xr.prototype.partialFlush = function(e) {
                    this.trigger("partialdone", e)
                }, Xr.prototype.endTimeline = function(e) {
                    this.trigger("endedtimeline", e)
                }, Xr.prototype.reset = function(e) {
                    this.trigger("reset", e)
                };
                var Kr = Xr,
                    Qr = Kr,
                    Jr = Yr,
                    Zr = function() {
                        Zr.prototype.init.call(this), this.captionPackets_ = [], this.ccStreams_ = [new ns(0, 0), new ns(0, 1), new ns(1, 0), new ns(1, 1)], this.reset(), this.ccStreams_.forEach((function(e) {
                            e.on("data", this.trigger.bind(this, "data")), e.on("partialdone", this.trigger.bind(this, "partialdone")), e.on("done", this.trigger.bind(this, "done"))
                        }), this)
                    };
                Zr.prototype = new Qr, Zr.prototype.push = function(e) {
                    var t, i, n;
                    if ("sei_rbsp" === e.nalUnitType && (t = Jr.parseSei(e.escapedRBSP))
                        .payloadType === Jr.USER_DATA_REGISTERED_ITU_T_T35 && (i = Jr.parseUserData(t))) if (e.dts < this.latestDts_) this.ignoreNextEqualDts_ = !0;
                    else {
                        if (e.dts === this.latestDts_ && this.ignoreNextEqualDts_) return this.numSameDts_--, void(this.numSameDts_ || (this.ignoreNextEqualDts_ = !1));
                        n = Jr.parseCaptionPackets(e.pts, i), this.captionPackets_ = this.captionPackets_.concat(n), this.latestDts_ !== e.dts && (this.numSameDts_ = 0), this.numSameDts_++, this.latestDts_ = e.dts
                    }
                }, Zr.prototype.flushCCStreams = function(e) {
                    this.ccStreams_.forEach((function(t) {
                        return "flush" === e ? t.flush() : t.partialFlush()
                    }), this)
                }, Zr.prototype.flushStream = function(e) {
                    this.captionPackets_.length ? (this.captionPackets_.forEach((function(e, t) {
                        e.presortIndex = t
                    })), this.captionPackets_.sort((function(e, t) {
                        return e.pts === t.pts ? e.presortIndex - t.presortIndex : e.pts - t.pts
                    })), this.captionPackets_.forEach((function(e) {
                        e.type < 2 && this.dispatchCea608Packet(e)
                    }), this), this.captionPackets_.length = 0, this.flushCCStreams(e)) : this.flushCCStreams(e)
                }, Zr.prototype.flush = function() {
                    return this.flushStream("flush")
                }, Zr.prototype.partialFlush = function() {
                    return this.flushStream("partialFlush")
                }, Zr.prototype.reset = function() {
                    this.latestDts_ = null, this.ignoreNextEqualDts_ = !1, this.numSameDts_ = 0, this.activeCea608Channel_ = [null, null], this.ccStreams_.forEach((function(e) {
                        e.reset()
                    }))
                }, Zr.prototype.dispatchCea608Packet = function(e) {
                    this.setsTextOrXDSActive(e) ? this.activeCea608Channel_[e.type] = null : this.setsChannel1Active(e) ? this.activeCea608Channel_[e.type] = 0 : this.setsChannel2Active(e) && (this.activeCea608Channel_[e.type] = 1), null !== this.activeCea608Channel_[e.type] && this.ccStreams_[(e.type << 1) + this.activeCea608Channel_[e.type]].push(e)
                }, Zr.prototype.setsChannel1Active = function(e) {
                    return 4096 == (30720 & e.ccData)
                }, Zr.prototype.setsChannel2Active = function(e) {
                    return 6144 == (30720 & e.ccData)
                }, Zr.prototype.setsTextOrXDSActive = function(e) {
                    return 256 == (28928 & e.ccData) || 4138 == (30974 & e.ccData) || 6186 == (30974 & e.ccData)
                };
                var $r = {
                    42: 225,
                    92: 233,
                    94: 237,
                    95: 243,
                    96: 250,
                    123: 231,
                    124: 247,
                    125: 209,
                    126: 241,
                    127: 9608,
                    304: 174,
                    305: 176,
                    306: 189,
                    307: 191,
                    308: 8482,
                    309: 162,
                    310: 163,
                    311: 9834,
                    312: 224,
                    313: 160,
                    314: 232,
                    315: 226,
                    316: 234,
                    317: 238,
                    318: 244,
                    319: 251,
                    544: 193,
                    545: 201,
                    546: 211,
                    547: 218,
                    548: 220,
                    549: 252,
                    550: 8216,
                    551: 161,
                    552: 42,
                    553: 39,
                    554: 8212,
                    555: 169,
                    556: 8480,
                    557: 8226,
                    558: 8220,
                    559: 8221,
                    560: 192,
                    561: 194,
                    562: 199,
                    563: 200,
                    564: 202,
                    565: 203,
                    566: 235,
                    567: 206,
                    568: 207,
                    569: 239,
                    570: 212,
                    571: 217,
                    572: 249,
                    573: 219,
                    574: 171,
                    575: 187,
                    800: 195,
                    801: 227,
                    802: 205,
                    803: 204,
                    804: 236,
                    805: 210,
                    806: 242,
                    807: 213,
                    808: 245,
                    809: 123,
                    810: 125,
                    811: 92,
                    812: 94,
                    813: 95,
                    814: 124,
                    815: 126,
                    816: 196,
                    817: 228,
                    818: 214,
                    819: 246,
                    820: 223,
                    821: 165,
                    822: 164,
                    823: 9474,
                    824: 197,
                    825: 229,
                    826: 216,
                    827: 248,
                    828: 9484,
                    829: 9488,
                    830: 9492,
                    831: 9496
                }, es = function(e) {
                    return null === e ? "" : (e = $r[e] || e, String.fromCharCode(e))
                }, ts = [4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096, 4864, 4896, 5120, 5152],
                    is = function() {
                        for (var e = [], t = 15; t--;) e.push("");
                        return e
                    }, ns = function(e, t) {
                        ns.prototype.init.call(this), this.field_ = e || 0, this.dataChannel_ = t || 0, this.name_ = "CC" + (1 + (this.field_ << 1 | this.dataChannel_)), this.setConstants(), this.reset(), this.push = function(e) {
                            var t, i, n, r, s;
                            if ((t = 32639 & e.ccData) !== this.lastControlCode_) {
                                if (4096 == (61440 & t) ? this.lastControlCode_ = t : t !== this.PADDING_ && (this.lastControlCode_ = null), n = t >>> 8, r = 255 & t, t !== this.PADDING_) if (t === this.RESUME_CAPTION_LOADING_) this.mode_ = "popOn";
                                else if (t === this.END_OF_CAPTION_) this.mode_ = "popOn", this.clearFormatting(e.pts), this.flushDisplayed(e.pts), i = this.displayed_, this.displayed_ = this.nonDisplayed_, this.nonDisplayed_ = i, this.startPts_ = e.pts;
                                else if (t === this.ROLL_UP_2_ROWS_) this.rollUpRows_ = 2, this.setRollUp(e.pts);
                                else if (t === this.ROLL_UP_3_ROWS_) this.rollUpRows_ = 3, this.setRollUp(e.pts);
                                else if (t === this.ROLL_UP_4_ROWS_) this.rollUpRows_ = 4, this.setRollUp(e.pts);
                                else if (t === this.CARRIAGE_RETURN_) this.clearFormatting(e.pts), this.flushDisplayed(e.pts), this.shiftRowsUp_(), this.startPts_ = e.pts;
                                else if (t === this.BACKSPACE_) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);
                                else if (t === this.ERASE_DISPLAYED_MEMORY_) this.flushDisplayed(e.pts), this.displayed_ = is();
                                else if (t === this.ERASE_NON_DISPLAYED_MEMORY_) this.nonDisplayed_ = is();
                                else if (t === this.RESUME_DIRECT_CAPTIONING_) "paintOn" !== this.mode_ && (this.flushDisplayed(e.pts), this.displayed_ = is()), this.mode_ = "paintOn", this.startPts_ = e.pts;
                                else if (this.isSpecialCharacter(n, r)) s = es((n = (3 & n) << 8) | r), this[this.mode_](e.pts, s), this.column_++;
                                else if (this.isExtCharacter(n, r)) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1), s = es((n = (3 & n) << 8) | r), this[this.mode_](e.pts, s), this.column_++;
                                else if (this.isMidRowCode(n, r)) this.clearFormatting(e.pts), this[this.mode_](e.pts, " "), this.column_++, 14 == (14 & r) && this.addFormatting(e.pts, ["i"]), 1 == (1 & r) && this.addFormatting(e.pts, ["u"]);
                                else if (this.isOffsetControlCode(n, r)) this.column_ += 3 & r;
                                else if (this.isPAC(n, r)) {
                                    var a = ts.indexOf(7968 & t);
                                    "rollUp" === this.mode_ && (a - this.rollUpRows_ + 1 < 0 && (a = this.rollUpRows_ - 1), this.setRollUp(e.pts, a)), a !== this.row_ && (this.clearFormatting(e.pts), this.row_ = a), 1 & r && -1 === this.formatting_.indexOf("u") && this.addFormatting(e.pts, ["u"]), 16 == (16 & t) && (this.column_ = 4 * ((14 & t) >> 1)), this.isColorPAC(r) && 14 == (14 & r) && this.addFormatting(e.pts, ["i"])
                                } else this.isNormalChar(n) && (0 === r && (r = null), s = es(n), s += es(r), this[this.mode_](e.pts, s), this.column_ += s.length)
                            } else this.lastControlCode_ = null
                        }
                    };
                ns.prototype = new Qr, ns.prototype.flushDisplayed = function(e) {
                    var t = this.displayed_.map((function(e) {
                        try {
                            return e.trim()
                        } catch (t) {
                            return console.error("Skipping malformed caption."), ""
                        }
                    }))
                        .join("\n")
                        .replace(/^\n+|\n+$/g, "");
                    t.length && this.trigger("data", {
                        startPts: this.startPts_,
                        endPts: e,
                        text: t,
                        stream: this.name_
                    })
                }, ns.prototype.reset = function() {
                    this.mode_ = "popOn", this.topRow_ = 0, this.startPts_ = 0, this.displayed_ = is(), this.nonDisplayed_ = is(), this.lastControlCode_ = null, this.column_ = 0, this.row_ = 14, this.rollUpRows_ = 2, this.formatting_ = []
                }, ns.prototype.setConstants = function() {
                    0 === this.dataChannel_ ? (this.BASE_ = 16, this.EXT_ = 17, this.CONTROL_ = (20 | this.field_) << 8, this.OFFSET_ = 23) : 1 === this.dataChannel_ && (this.BASE_ = 24, this.EXT_ = 25, this.CONTROL_ = (28 | this.field_) << 8, this.OFFSET_ = 31), this.PADDING_ = 0, this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_, this.END_OF_CAPTION_ = 47 | this.CONTROL_, this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_, this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_, this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_, this.CARRIAGE_RETURN_ = 45 | this.CONTROL_, this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_, this.BACKSPACE_ = 33 | this.CONTROL_, this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_, this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_
                }, ns.prototype.isSpecialCharacter = function(e, t) {
                    return e === this.EXT_ && t >= 48 && t <= 63
                }, ns.prototype.isExtCharacter = function(e, t) {
                    return (e === this.EXT_ + 1 || e === this.EXT_ + 2) && t >= 32 && t <= 63
                }, ns.prototype.isMidRowCode = function(e, t) {
                    return e === this.EXT_ && t >= 32 && t <= 47
                }, ns.prototype.isOffsetControlCode = function(e, t) {
                    return e === this.OFFSET_ && t >= 33 && t <= 35
                }, ns.prototype.isPAC = function(e, t) {
                    return e >= this.BASE_ && e < this.BASE_ + 8 && t >= 64 && t <= 127
                }, ns.prototype.isColorPAC = function(e) {
                    return e >= 64 && e <= 79 || e >= 96 && e <= 127
                }, ns.prototype.isNormalChar = function(e) {
                    return e >= 32 && e <= 127
                }, ns.prototype.setRollUp = function(e, t) {
                    if ("rollUp" !== this.mode_ && (this.row_ = 14, this.mode_ = "rollUp", this.flushDisplayed(e), this.nonDisplayed_ = is(), this.displayed_ = is()), void 0 !== t && t !== this.row_) for (var i = 0; i < this.rollUpRows_; i++) this.displayed_[t - i] = this.displayed_[this.row_ - i], this.displayed_[this.row_ - i] = "";
                    void 0 === t && (t = this.row_), this.topRow_ = t - this.rollUpRows_ + 1
                }, ns.prototype.addFormatting = function(e, t) {
                    this.formatting_ = this.formatting_.concat(t);
                    var i = t.reduce((function(e, t) {
                        return e + "<" + t + ">"
                    }), "");
                    this[this.mode_](e, i)
                }, ns.prototype.clearFormatting = function(e) {
                    if (this.formatting_.length) {
                        var t = this.formatting_.reverse()
                            .reduce((function(e, t) {
                            return e + "</" + t + ">"
                        }), "");
                        this.formatting_ = [], this[this.mode_](e, t)
                    }
                }, ns.prototype.popOn = function(e, t) {
                    var i = this.nonDisplayed_[this.row_];
                    i += t, this.nonDisplayed_[this.row_] = i
                }, ns.prototype.rollUp = function(e, t) {
                    var i = this.displayed_[this.row_];
                    i += t, this.displayed_[this.row_] = i
                }, ns.prototype.shiftRowsUp_ = function() {
                    var e;
                    for (e = 0; e < this.topRow_; e++) this.displayed_[e] = "";
                    for (e = this.row_ + 1; e < 15; e++) this.displayed_[e] = "";
                    for (e = this.topRow_; e < this.row_; e++) this.displayed_[e] = this.displayed_[e + 1];
                    this.displayed_[this.row_] = ""
                }, ns.prototype.paintOn = function(e, t) {
                    var i = this.displayed_[this.row_];
                    i += t, this.displayed_[this.row_] = i
                };
                var rs = Yr.discardEmulationPreventionBytes,
                    ss = {
                        CaptionStream: Zr,
                        Cea608Stream: ns
                    }.CaptionStream,
                    as = Fr,
                    os = Gr,
                    ls = function(e, t) {
                        for (var i = e, n = 0; n < t.length; n++) {
                            var r = t[n];
                            if (i < r.size) return r;
                            i -= r.size
                        }
                        return null
                    }, us = function(e, t) {
                        var i = as.findBox(e, ["moof", "traf"]),
                            n = as.findBox(e, ["mdat"]),
                            r = {}, s = [];
                        return n.forEach((function(e, t) {
                            var n = i[t];
                            s.push({
                                mdat: e,
                                traf: n
                            })
                        })), s.forEach((function(e) {
                            var i, n, s = e.mdat,
                                a = e.traf,
                                o = as.findBox(a, ["tfhd"]),
                                l = os.parseTfhd(o[0]),
                                u = l.trackId,
                                c = as.findBox(a, ["tfdt"]),
                                d = c.length > 0 ? os.parseTfdt(c[0])
                                    .baseMediaDecodeTime : 0,
                                h = as.findBox(a, ["trun"]);
                            t === u && h.length > 0 && (i = function(e, t, i) {
                                var n = t,
                                    r = i.defaultSampleDuration || 0,
                                    s = i.defaultSampleSize || 0,
                                    a = i.trackId,
                                    o = [];
                                return e.forEach((function(e) {
                                    var t = os.parseTrun(e)
                                        .samples;
                                    t.forEach((function(e) {
                                        void 0 === e.duration && (e.duration = r), void 0 === e.size && (e.size = s), e.trackId = a, e.dts = n, void 0 === e.compositionTimeOffset && (e.compositionTimeOffset = 0), e.pts = n + e.compositionTimeOffset, n += e.duration
                                    })), o = o.concat(t)
                                })), o
                            }(h, d, l), n = function(e, t, i) {
                                var n, r, s, a, o = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    l = [];
                                for (r = 0; r + 4 < e.length; r += s) if (s = o.getUint32(r), r += 4, !(s <= 0) && 6 == (31 & e[r])) {
                                    var u = e.subarray(r + 1, r + 1 + s),
                                        c = ls(r, t);
                                    n = {
                                        nalUnitType: "sei_rbsp",
                                        size: s,
                                        data: u,
                                        escapedRBSP: rs(u),
                                        trackId: i
                                    }, c ? (n.pts = c.pts, n.dts = c.dts, a = c) : (n.pts = a.pts, n.dts = a.dts), l.push(n)
                                }
                                return l
                            }(s, i, u), r[u] || (r[u] = []), r[u] = r[u].concat(n))
                        })), r
                    }, cs = function() {
                        var e, t, i, n, r, s, a = !1;
                        this.isInitialized = function() {
                            return a
                        }, this.init = function(t) {
                            e = new ss, a = !0, s = !! t && t.isPartial, e.on("data", (function(e) {
                                e.startTime = e.startPts / n, e.endTime = e.endPts / n, r.captions.push(e), r.captionStreams[e.stream] = !0
                            }))
                        }, this.isNewInit = function(e, t) {
                            return !(e && 0 === e.length || t && "object" == typeof t && 0 === Object.keys(t)
                                .length) && (i !== e[0] || n !== t[i])
                        }, this.parse = function(e, s, a) {
                            var o;
                            if (!this.isInitialized()) return null;
                            if (!s || !a) return null;
                            if (this.isNewInit(s, a)) i = s[0], n = a[i];
                            else if (null === i || !n) return t.push(e), null;
                            for (; t.length > 0;) {
                                var l = t.shift();
                                this.parse(l, s, a)
                            }
                            return o = function(e, t, i) {
                                return null === t ? null : {
                                    seiNals: us(e, t)[t],
                                    timescale: i
                                }
                            }(e, i, n), null !== o && o.seiNals ? (this.pushNals(o.seiNals), this.flushStream(), r) : null
                        }, this.pushNals = function(t) {
                            if (!this.isInitialized() || !t || 0 === t.length) return null;
                            t.forEach((function(t) {
                                e.push(t)
                            }))
                        }, this.flushStream = function() {
                            if (!this.isInitialized()) return null;
                            s ? e.partialFlush() : e.flush()
                        }, this.clearParsedCaptions = function() {
                            r.captions = [], r.captionStreams = {}
                        }, this.resetCaptionStream = function() {
                            if (!this.isInitialized()) return null;
                            e.reset()
                        }, this.clearAllCaptions = function() {
                            this.clearParsedCaptions(), this.resetCaptionStream()
                        }, this.reset = function() {
                            t = [], i = null, n = null, r ? this.clearParsedCaptions() : r = {
                                captions: [],
                                captionStreams: {}
                            }, this.resetCaptionStream()
                        }, this.reset()
                    }, ds = {
                        H264_STREAM_TYPE: 27,
                        ADTS_STREAM_TYPE: 15,
                        METADATA_STREAM_TYPE: 21
                    }, hs = Kr,
                    ps = "shared",
                    fs = function(e, t) {
                        var i = 1;
                        for (e > t && (i = -1); Math.abs(t - e) > 4294967296;) e += 8589934592 * i;
                        return e
                    }, ms = function(e) {
                        var t, i;
                        ms.prototype.init.call(this), this.type_ = e || ps, this.push = function(e) {
                            this.type_ !== ps && e.type !== this.type_ || (void 0 === i && (i = e.dts), e.dts = fs(e.dts, i), e.pts = fs(e.pts, i), t = e.dts, this.trigger("data", e))
                        }, this.flush = function() {
                            i = t, this.trigger("done")
                        }, this.endTimeline = function() {
                            this.flush(), this.trigger("endedtimeline")
                        }, this.discontinuity = function() {
                            i = void 0, t = void 0
                        }, this.reset = function() {
                            this.discontinuity(), this.trigger("reset")
                        }
                    };
                ms.prototype = new hs;
                var vs, gs, ys, _s, bs = ds,
                    Ts = function(e) {
                        var t = 31 & e[1];
                        return t <<= 8, t |= e[2]
                    }, ks = function(e) {
                        return !!(64 & e[1])
                    }, Ss = function(e) {
                        var t = 0;
                        return (48 & e[3]) >>> 4 > 1 && (t += e[4] + 1), t
                    }, js = function(e) {
                        switch (e) {
                            case 5:
                                return "slice_layer_without_partitioning_rbsp_idr";
                            case 6:
                                return "sei_rbsp";
                            case 7:
                                return "seq_parameter_set_rbsp";
                            case 8:
                                return "pic_parameter_set_rbsp";
                            case 9:
                                return "access_unit_delimiter_rbsp";
                            default:
                                return null
                        }
                    }, ws = {
                        parseType: function(e, t) {
                            var i = Ts(e);
                            return 0 === i ? "pat" : i === t ? "pmt" : t ? "pes" : null
                        },
                        parsePat: function(e) {
                            var t = ks(e),
                                i = 4 + Ss(e);
                            return t && (i += e[i] + 1), (31 & e[i + 10]) << 8 | e[i + 11]
                        },
                        parsePmt: function(e) {
                            var t = {}, i = ks(e),
                                n = 4 + Ss(e);
                            if (i && (n += e[n] + 1), 1 & e[n + 5]) {
                                var r;
                                r = 3 + ((15 & e[n + 1]) << 8 | e[n + 2]) - 4;
                                for (var s = 12 + ((15 & e[n + 10]) << 8 | e[n + 11]); s < r;) {
                                    var a = n + s;
                                    t[(31 & e[a + 1]) << 8 | e[a + 2]] = e[a], s += 5 + ((15 & e[a + 3]) << 8 | e[a + 4])
                                }
                                return t
                            }
                        },
                        parsePayloadUnitStartIndicator: ks,
                        parsePesType: function(e, t) {
                            switch (t[Ts(e)]) {
                                case bs.H264_STREAM_TYPE:
                                    return "video";
                                case bs.ADTS_STREAM_TYPE:
                                    return "audio";
                                case bs.METADATA_STREAM_TYPE:
                                    return "timed-metadata";
                                default:
                                    return null
                            }
                        },
                        parsePesTime: function(e) {
                            if (!ks(e)) return null;
                            var t = 4 + Ss(e);
                            if (t >= e.byteLength) return null;
                            var i, n = null;
                            return 192 & (i = e[t + 7]) && ((n = {})
                                .pts = (14 & e[t + 9]) << 27 | (255 & e[t + 10]) << 20 | (254 & e[t + 11]) << 12 | (255 & e[t + 12]) << 5 | (254 & e[t + 13]) >>> 3, n.pts *= 4, n.pts += (6 & e[t + 13]) >>> 1, n.dts = n.pts, 64 & i && (n.dts = (14 & e[t + 14]) << 27 | (255 & e[t + 15]) << 20 | (254 & e[t + 16]) << 12 | (255 & e[t + 17]) << 5 | (254 & e[t + 18]) >>> 3, n.dts *= 4, n.dts += (6 & e[t + 18]) >>> 1)), n
                        },
                        videoPacketContainsKeyFrame: function(e) {
                            for (var t = 4 + Ss(e), i = e.subarray(t), n = 0, r = 0, s = !1; r < i.byteLength - 3; r++) if (1 === i[r + 2]) {
                                n = r + 5;
                                break
                            }
                            for (; n < i.byteLength;) switch (i[n]) {
                                case 0:
                                    if (0 !== i[n - 1]) {
                                        n += 2;
                                        break
                                    }
                                    if (0 !== i[n - 2]) {
                                        n++;
                                        break
                                    }
                                    r + 3 !== n - 2 && "slice_layer_without_partitioning_rbsp_idr" === js(31 & i[r + 3]) && (s = !0);
                                    do {
                                        n++
                                    } while (1 !== i[n] && n < i.length);
                                    r = n - 2, n += 3;
                                    break;
                                case 1:
                                    if (0 !== i[n - 1] || 0 !== i[n - 2]) {
                                        n += 3;
                                        break
                                    }
                                    "slice_layer_without_partitioning_rbsp_idr" === js(31 & i[r + 3]) && (s = !0), r = n - 2, n += 3;
                                    break;
                                default:
                                    n += 3
                            }
                            return i = i.subarray(r), n -= r, r = 0, i && i.byteLength > 3 && "slice_layer_without_partitioning_rbsp_idr" === js(31 & i[r + 3]) && (s = !0), s
                        }
                    }, As = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350],
                    Cs = function(e) {
                        return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
                    }, Es = {
                        isLikelyAacData: function(e) {
                            return e[0] === "I".charCodeAt(0) && e[1] === "D".charCodeAt(0) && e[2] === "3".charCodeAt(0)
                        },
                        parseId3TagSize: function(e, t) {
                            var i = e[t + 6] << 21 | e[t + 7] << 14 | e[t + 8] << 7 | e[t + 9];
                            return (16 & e[t + 5]) >> 4 ? i + 20 : i + 10
                        },
                        parseAdtsSize: function(e, t) {
                            var i = (224 & e[t + 5]) >> 5,
                                n = e[t + 4] << 3;
                            return 6144 & e[t + 3] | n | i
                        },
                        parseType: function(e, t) {
                            return e[t] === "I".charCodeAt(0) && e[t + 1] === "D".charCodeAt(0) && e[t + 2] === "3".charCodeAt(0) ? "timed-metadata" : !0 & e[t] && 240 == (240 & e[t + 1]) ? "audio" : null
                        },
                        parseSampleRate: function(e) {
                            for (var t = 0; t + 5 < e.length;) {
                                if (255 === e[t] && 240 == (246 & e[t + 1])) return As[(60 & e[t + 2]) >>> 2];
                                t++
                            }
                            return null
                        },
                        parseAacTimestamp: function(e) {
                            var t, i, n;
                            t = 10, 64 & e[5] && (t += 4, t += Cs(e.subarray(10, 14)));
                            do {
                                if ((i = Cs(e.subarray(t + 4, t + 8))) < 1) return null;
                                if ("PRIV" === String.fromCharCode(e[t], e[t + 1], e[t + 2], e[t + 3])) {
                                    n = e.subarray(t + 10, t + i + 10);
                                    for (var r = 0; r < n.byteLength; r++) if (0 === n[r]) {
                                        var s = unescape(function(e, t, i) {
                                            var n, r = "";
                                            for (n = t; n < i; n++) r += "%" + ("00" + e[n].toString(16))
                                                .slice(-2);
                                            return r
                                        }(n, 0, r));
                                        if ("com.apple.streaming.transportStreamTimestamp" === s) {
                                            var a = n.subarray(r + 1),
                                                o = (1 & a[3]) << 30 | a[4] << 22 | a[5] << 14 | a[6] << 6 | a[7] >>> 2;
                                            return o *= 4, o += 3 & a[7]
                                        }
                                        break
                                    }
                                }
                                t += 10, t += i
                            } while (t < e.byteLength);
                            return null
                        }
                    }, xs = 9e4;
                var Is = xs,
                    Ls = (vs = function(e) {
                        return e * xs
                    }, gs = function(e, t) {
                        return e * t
                    }, ys = function(e) {
                        return e / xs
                    }, _s = function(e, t) {
                        return e / t
                    }, ds),
                    Ps = fs,
                    Os = {};
                Os.ts = ws, Os.aac = Es;
                var Ds = Is,
                    Us = 188,
                    Rs = 71,
                    Ms = function(e, t, i) {
                        for (var n, r, s, a, o = 0, l = Us, u = !1; l <= e.byteLength;) if (e[o] !== Rs || e[l] !== Rs && l !== e.byteLength) o++, l++;
                        else {
                            if (n = e.subarray(o, l), "pes" === Os.ts.parseType(n, t.pid)) r = Os.ts.parsePesType(n, t.table), s = Os.ts.parsePayloadUnitStartIndicator(n), "audio" === r && s && (a = Os.ts.parsePesTime(n)) && (a.type = "audio", i.audio.push(a), u = !0);
                            if (u) break;
                            o += Us, l += Us
                        }
                        for (o = (l = e.byteLength) - Us, u = !1; o >= 0;) if (e[o] !== Rs || e[l] !== Rs && l !== e.byteLength) o--, l--;
                        else {
                            if (n = e.subarray(o, l), "pes" === Os.ts.parseType(n, t.pid)) r = Os.ts.parsePesType(n, t.table), s = Os.ts.parsePayloadUnitStartIndicator(n), "audio" === r && s && (a = Os.ts.parsePesTime(n)) && (a.type = "audio", i.audio.push(a), u = !0);
                            if (u) break;
                            o -= Us, l -= Us
                        }
                    }, Bs = function(e, t, i) {
                        for (var n, r, s, a, o, l, u, c = 0, d = Us, h = !1, p = {
                            data: [],
                            size: 0
                        }; d < e.byteLength;) if (e[c] !== Rs || e[d] !== Rs) c++, d++;
                        else {
                            if (n = e.subarray(c, d), "pes" === Os.ts.parseType(n, t.pid)) if (r = Os.ts.parsePesType(n, t.table), s = Os.ts.parsePayloadUnitStartIndicator(n), "video" === r && (s && !h && (a = Os.ts.parsePesTime(n)) && (a.type = "video", i.video.push(a), h = !0), !i.firstKeyFrame)) {
                                if (s && 0 !== p.size) {
                                    for (o = new Uint8Array(p.size), l = 0; p.data.length;) u = p.data.shift(), o.set(u, l), l += u.byteLength;
                                    if (Os.ts.videoPacketContainsKeyFrame(o)) {
                                        var f = Os.ts.parsePesTime(o);
                                        f ? (i.firstKeyFrame = f, i.firstKeyFrame.type = "video") : console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")
                                    }
                                    p.size = 0
                                }
                                p.data.push(n), p.size += n.byteLength
                            }
                            if (h && i.firstKeyFrame) break;
                            c += Us, d += Us
                        }
                        for (c = (d = e.byteLength) - Us, h = !1; c >= 0;) if (e[c] !== Rs || e[d] !== Rs) c--, d--;
                        else {
                            if (n = e.subarray(c, d), "pes" === Os.ts.parseType(n, t.pid)) r = Os.ts.parsePesType(n, t.table), s = Os.ts.parsePayloadUnitStartIndicator(n), "video" === r && s && (a = Os.ts.parsePesTime(n)) && (a.type = "video", i.video.push(a), h = !0);
                            if (h) break;
                            c -= Us, d -= Us
                        }
                    }, Ns = function(e) {
                        var t = {
                            pid: null,
                            table: null
                        }, i = {};
                        for (var n in function(e, t) {
                                for (var i, n = 0, r = Us; r < e.byteLength;) if (e[n] !== Rs || e[r] !== Rs) n++, r++;
                                else {
                                    switch (i = e.subarray(n, r), Os.ts.parseType(i, t.pid)) {
                                        case "pat":
                                            t.pid || (t.pid = Os.ts.parsePat(i));
                                            break;
                                        case "pmt":
                                            t.table || (t.table = Os.ts.parsePmt(i))
                                    }
                                    if (t.pid && t.table) return;
                                    n += Us, r += Us
                                }
                            }(e, t), t.table) {
                            if (t.table.hasOwnProperty(n)) switch (t.table[n]) {
                                case Ls.H264_STREAM_TYPE:
                                    i.video = [], Bs(e, t, i), 0 === i.video.length && delete i.video;
                                    break;
                                case Ls.ADTS_STREAM_TYPE:
                                    i.audio = [], Ms(e, t, i), 0 === i.audio.length && delete i.audio
                            }
                        }
                        return i
                    }, Fs = function(e, t) {
                        var i;
                        return i = Os.aac.isLikelyAacData(e) ? function(e) {
                            for (var t, i = !1, n = 0, r = null, s = null, a = 0, o = 0; e.length - o >= 3;) {
                                switch (Os.aac.parseType(e, o)) {
                                    case "timed-metadata":
                                        if (e.length - o < 10) {
                                            i = !0;
                                            break
                                        }
                                        if ((a = Os.aac.parseId3TagSize(e, o)) > e.length) {
                                            i = !0;
                                            break
                                        }
                                        null === s && (t = e.subarray(o, o + a), s = Os.aac.parseAacTimestamp(t)), o += a;
                                        break;
                                    case "audio":
                                        if (e.length - o < 7) {
                                            i = !0;
                                            break
                                        }
                                        if ((a = Os.aac.parseAdtsSize(e, o)) > e.length) {
                                            i = !0;
                                            break
                                        }
                                        null === r && (t = e.subarray(o, o + a), r = Os.aac.parseSampleRate(t)), n++, o += a;
                                        break;
                                    default:
                                        o++
                                }
                                if (i) return null
                            }
                            if (null === r || null === s) return null;
                            var l = Ds / r;
                            return {
                                audio: [{
                                    type: "audio",
                                    dts: s,
                                    pts: s
                                }, {
                                    type: "audio",
                                    dts: s + 1024 * n * l,
                                    pts: s + 1024 * n * l
                                }]
                            }
                        }(e) : Ns(e), i && (i.audio || i.video) ? (function(e, t) {
                            if (e.audio && e.audio.length) {
                                var i = t;
                                void 0 === i && (i = e.audio[0].dts), e.audio.forEach((function(e) {
                                    e.dts = Ps(e.dts, i), e.pts = Ps(e.pts, i), e.dtsTime = e.dts / Ds, e.ptsTime = e.pts / Ds
                                }))
                            }
                            if (e.video && e.video.length) {
                                var n = t;
                                if (void 0 === n && (n = e.video[0].dts), e.video.forEach((function(e) {
                                    e.dts = Ps(e.dts, n), e.pts = Ps(e.pts, n), e.dtsTime = e.dts / Ds, e.ptsTime = e.pts / Ds
                                })), e.firstKeyFrame) {
                                    var r = e.firstKeyFrame;
                                    r.dts = Ps(r.dts, n), r.pts = Ps(r.pts, n), r.dtsTime = r.dts / Ds, r.ptsTime = r.dts / Ds
                                }
                            }
                        }(i, t), i) : null
                    };
                var Vs = function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }, Hs = function() {
                    function e(e, t) {
                        for (var i = 0; i < t.length; i++) {
                            var n = t[i];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
                        }
                    }
                    return function(t, i, n) {
                        return i && e(t.prototype, i), n && e(t, n), t
                    }
                }(),
                    qs = null,
                    zs = function() {
                        function e(t) {
                            Vs(this, e), qs || (qs = function() {
                                var e = [
                                    [
                                        [],
                                        [],
                                        [],
                                        [],
                                        []
                                    ],
                                    [
                                        [],
                                        [],
                                        [],
                                        [],
                                        []
                                    ]
                                ],
                                    t = e[0],
                                    i = e[1],
                                    n = t[4],
                                    r = i[4],
                                    s = void 0,
                                    a = void 0,
                                    o = void 0,
                                    l = [],
                                    u = [],
                                    c = void 0,
                                    d = void 0,
                                    h = void 0,
                                    p = void 0,
                                    f = void 0;
                                for (s = 0; s < 256; s++) u[(l[s] = s << 1 ^ 283 * (s >> 7)) ^ s] = s;
                                for (a = o = 0; !n[a]; a ^= c || 1, o = u[o] || 1) for (h = (h = o ^ o << 1 ^ o << 2 ^ o << 3 ^ o << 4) >> 8 ^ 255 & h ^ 99, n[a] = h, r[h] = a, f = 16843009 * l[d = l[c = l[a]]] ^ 65537 * d ^ 257 * c ^ 16843008 * a, p = 257 * l[h] ^ 16843008 * h, s = 0; s < 4; s++) t[s][a] = p = p << 24 ^ p >>> 8, i[s][h] = f = f << 24 ^ f >>> 8;
                                for (s = 0; s < 5; s++) t[s] = t[s].slice(0), i[s] = i[s].slice(0);
                                return e
                            }()), this._tables = [
                                [qs[0][0].slice(), qs[0][1].slice(), qs[0][2].slice(), qs[0][3].slice(), qs[0][4].slice()],
                                [qs[1][0].slice(), qs[1][1].slice(), qs[1][2].slice(), qs[1][3].slice(), qs[1][4].slice()]
                            ];
                            var i = void 0,
                                n = void 0,
                                r = void 0,
                                s = void 0,
                                a = void 0,
                                o = this._tables[0][4],
                                l = this._tables[1],
                                u = t.length,
                                c = 1;
                            if (4 !== u && 6 !== u && 8 !== u) throw new Error("Invalid aes key size");
                            for (s = t.slice(0), a = [], this._key = [s, a], i = u; i < 4 * u + 28; i++) r = s[i - 1], (i % u == 0 || 8 === u && i % u == 4) && (r = o[r >>> 24] << 24 ^ o[r >> 16 & 255] << 16 ^ o[r >> 8 & 255] << 8 ^ o[255 & r], i % u == 0 && (r = r << 8 ^ r >>> 24 ^ c << 24, c = c << 1 ^ 283 * (c >> 7))), s[i] = s[i - u] ^ r;
                            for (n = 0; i; n++, i--) r = s[3 & n ? i : i - 4], a[n] = i <= 4 || n < 4 ? r : l[0][o[r >>> 24]] ^ l[1][o[r >> 16 & 255]] ^ l[2][o[r >> 8 & 255]] ^ l[3][o[255 & r]]
                        }
                        return e.prototype.decrypt = function(e, t, i, n, r, s) {
                            var a = this._key[1],
                                o = e ^ a[0],
                                l = n ^ a[1],
                                u = i ^ a[2],
                                c = t ^ a[3],
                                d = void 0,
                                h = void 0,
                                p = void 0,
                                f = a.length / 4 - 2,
                                m = void 0,
                                v = 4,
                                g = this._tables[1],
                                y = g[0],
                                _ = g[1],
                                b = g[2],
                                T = g[3],
                                k = g[4];
                            for (m = 0; m < f; m++) d = y[o >>> 24] ^ _[l >> 16 & 255] ^ b[u >> 8 & 255] ^ T[255 & c] ^ a[v], h = y[l >>> 24] ^ _[u >> 16 & 255] ^ b[c >> 8 & 255] ^ T[255 & o] ^ a[v + 1], p = y[u >>> 24] ^ _[c >> 16 & 255] ^ b[o >> 8 & 255] ^ T[255 & l] ^ a[v + 2], c = y[c >>> 24] ^ _[o >> 16 & 255] ^ b[l >> 8 & 255] ^ T[255 & u] ^ a[v + 3], v += 4, o = d, l = h, u = p;
                            for (m = 0; m < 4; m++) r[(3 & -m) + s] = k[o >>> 24] << 24 ^ k[l >> 16 & 255] << 16 ^ k[u >> 8 & 255] << 8 ^ k[255 & c] ^ a[v++], d = o, o = l, l = u, u = c, c = d
                        }, e
                    }(),
                    Ws = function() {
                        function e() {
                            Vs(this, e), this.listeners = {}
                        }
                        return e.prototype.on = function(e, t) {
                            this.listeners[e] || (this.listeners[e] = []), this.listeners[e].push(t)
                        }, e.prototype.off = function(e, t) {
                            if (!this.listeners[e]) return !1;
                            var i = this.listeners[e].indexOf(t);
                            return this.listeners[e].splice(i, 1), i > -1
                        }, e.prototype.trigger = function(e) {
                            var t = this.listeners[e];
                            if (t) if (2 === arguments.length) for (var i = t.length, n = 0; n < i; ++n) t[n].call(this, arguments[1]);
                            else for (var r = Array.prototype.slice.call(arguments, 1), s = t.length, a = 0; a < s; ++a) t[a].apply(this, r)
                        }, e.prototype.dispose = function() {
                            this.listeners = {}
                        }, e.prototype.pipe = function(e) {
                            this.on("data", (function(t) {
                                e.push(t)
                            }))
                        }, e
                    }(),
                    Gs = function(e) {
                        function t() {
                            Vs(this, t);
                            var i = function(e, t) {
                                if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                return !t || "object" != typeof t && "function" != typeof t ? e : t
                            }(this, e.call(this, Ws));
                            return i.jobs = [], i.delay = 1, i.timeout_ = null, i
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, e), t.prototype.processJob_ = function() {
                            this.jobs.shift()(), this.jobs.length ? this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay) : this.timeout_ = null
                        }, t.prototype.push = function(e) {
                            this.jobs.push(e), this.timeout_ || (this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay))
                        }, t
                    }(Ws),
                    Ys = function(e) {
                        return e << 24 | (65280 & e) << 8 | (16711680 & e) >> 8 | e >>> 24
                    }, Xs = function(e, t, i) {
                        var n = new Int32Array(e.buffer, e.byteOffset, e.byteLength >> 2),
                            r = new zs(Array.prototype.slice.call(t)),
                            s = new Uint8Array(e.byteLength),
                            a = new Int32Array(s.buffer),
                            o = void 0,
                            l = void 0,
                            u = void 0,
                            c = void 0,
                            d = void 0,
                            h = void 0,
                            p = void 0,
                            f = void 0,
                            m = void 0;
                        for (o = i[0], l = i[1], u = i[2], c = i[3], m = 0; m < n.length; m += 4) d = Ys(n[m]), h = Ys(n[m + 1]), p = Ys(n[m + 2]), f = Ys(n[m + 3]), r.decrypt(d, h, p, f, a, m), a[m] = Ys(a[m] ^ o), a[m + 1] = Ys(a[m + 1] ^ l), a[m + 2] = Ys(a[m + 2] ^ u), a[m + 3] = Ys(a[m + 3] ^ c), o = d, l = h, u = p, c = f;
                        return s
                    }, Ks = function() {
                        function e(t, i, n, r) {
                            Vs(this, e);
                            var s = e.STEP,
                                a = new Int32Array(t.buffer),
                                o = new Uint8Array(t.byteLength),
                                l = 0;
                            for (this.asyncStream_ = new Gs, this.asyncStream_.push(this.decryptChunk_(a.subarray(l, l + s), i, n, o)), l = s; l < a.length; l += s) n = new Uint32Array([Ys(a[l - 4]), Ys(a[l - 3]), Ys(a[l - 2]), Ys(a[l - 1])]), this.asyncStream_.push(this.decryptChunk_(a.subarray(l, l + s), i, n, o));
                            this.asyncStream_.push((function() { /*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */
                                var e;
                                r(null, (e = o)
                                    .subarray(0, e.byteLength - e[e.byteLength - 1]))
                            }))
                        }
                        return e.prototype.decryptChunk_ = function(e, t, i, n) {
                            return function() {
                                var r = Xs(e, t, i);
                                n.set(r, e.byteOffset)
                            }
                        }, Hs(e, null, [{
                            key: "STEP",
                            get: function() {
                                return 32e3
                            }
                        }]), e
                    }(),
                    Qs = "7.6.5",
                    Js = [];
                var Zs = function e(t) {
                    var i, n = "info",
                        r = function() {
                            for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) t[r] = arguments[r];
                            i("log", n, t)
                        };
                    return i = function(e, t) {
                        return function(i, n, r) {
                            var s = t.levels[n],
                                a = new RegExp("^(" + s + ")$");
                            if ("log" !== i && r.unshift(i.toUpperCase() + ":"), r.unshift(e + ":"), Js && Js.push([].concat(r)), Ci.console) {
                                var o = Ci.console[i];
                                o || "debug" !== i || (o = Ci.console.info || Ci.console.log), o && s && a.test(i) && o[Array.isArray(r) ? "apply" : "call"](Ci.console, r)
                            }
                        }
                    }(t, r), r.createLogger = function(i) {
                        return e(t + ": " + i)
                    }, r.levels = {
                        all: "debug|log|warn|error",
                        off: "",
                        debug: "debug|log|warn|error",
                        info: "log|warn|error",
                        warn: "warn|error",
                        error: "error",
                        DEFAULT: n
                    }, r.level = function(e) {
                        if ("string" == typeof e) {
                            if (!r.levels.hasOwnProperty(e)) throw new Error('"' + e + '" in not a valid log level');
                            n = e
                        }
                        return n
                    }, (r.history = function() {
                        return Js ? [].concat(Js) : []
                    })
                        .filter = function(e) {
                        return (Js || [])
                            .filter((function(t) {
                            return new RegExp(".*" + e + ".*")
                                .test(t[0])
                        }))
                    }, r.history.clear = function() {
                        Js && (Js.length = 0)
                    }, r.history.disable = function() {
                        null !== Js && (Js.length = 0, Js = null)
                    }, r.history.enable = function() {
                        null === Js && (Js = [])
                    }, r.error = function() {
                        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) t[r] = arguments[r];
                        return i("error", n, t)
                    }, r.warn = function() {
                        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) t[r] = arguments[r];
                        return i("warn", n, t)
                    }, r.debug = function() {
                        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) t[r] = arguments[r];
                        return i("debug", n, t)
                    }, r
                }("VIDEOJS"),
                    $s = Zs.createLogger,
                    ea = Object.prototype.toString,
                    ta = function(e) {
                        return ra(e) ? Object.keys(e) : []
                    };

                function ia(e, t) {
                    ta(e)
                        .forEach((function(i) {
                        return t(e[i], i)
                    }))
                }
                function na(e) {
                    for (var t = arguments.length, i = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++) i[n - 1] = arguments[n];
                    return Object.assign ? Object.assign.apply(Object, [e].concat(i)) : (i.forEach((function(t) {
                        t && ia(t, (function(t, i) {
                            e[i] = t
                        }))
                    })), e)
                }
                function ra(e) {
                    return !!e && "object" == typeof e
                }
                function sa(e) {
                    return ra(e) && "[object Object]" === ea.call(e) && e.constructor === Object
                }
                function aa(e, t) {
                    if (!e || !t) return "";
                    if ("function" == typeof Ci.getComputedStyle) {
                        var i = Ci.getComputedStyle(e);
                        return i ? i.getPropertyValue(t) || i[t] : ""
                    }
                    return ""
                }
                function oa(e) {
                    return "string" == typeof e && /\S/.test(e)
                }
                function la(e) {
                    if (/\s/.test(e)) throw new Error("class has illegal whitespace characters")
                }
                function ua() {
                    return Ii === Ci.document
                }
                function ca(e) {
                    return ra(e) && 1 === e.nodeType
                }
                function da() {
                    try {
                        return Ci.parent !== Ci.self
                    } catch (e) {
                        return !0
                    }
                }
                function ha(e) {
                    return function(t, i) {
                        if (!oa(t)) return Ii[e](null);
                        oa(i) && (i = Ii.querySelector(i));
                        var n = ca(i) ? i : Ii;
                        return n[e] && n[e](t)
                    }
                }
                function pa(e, t, i, n) {
                    void 0 === e && (e = "div"), void 0 === t && (t = {}), void 0 === i && (i = {});
                    var r = Ii.createElement(e);
                    return Object.getOwnPropertyNames(t)
                        .forEach((function(e) {
                        var i = t[e]; - 1 !== e.indexOf("aria-") || "role" === e || "type" === e ? (Zs.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set " + e + " to " + i + "."), r.setAttribute(e, i)) : "textContent" === e ? fa(r, i) : r[e] = i
                    })), Object.getOwnPropertyNames(i)
                        .forEach((function(e) {
                        r.setAttribute(e, i[e])
                    })), n && Oa(r, n), r
                }
                function fa(e, t) {
                    return void 0 === e.textContent ? e.innerText = t : e.textContent = t, e
                }
                function ma(e, t) {
                    t.firstChild ? t.insertBefore(e, t.firstChild) : t.appendChild(e)
                }
                function va(e, t) {
                    return la(t), e.classList ? e.classList.contains(t) : (i = t, new RegExp("(^|\\s)" + i + "($|\\s)"))
                        .test(e.className);
                    var i
                }
                function ga(e, t) {
                    return e.classList ? e.classList.add(t) : va(e, t) || (e.className = (e.className + " " + t)
                        .trim()), e
                }
                function ya(e, t) {
                    return e.classList ? e.classList.remove(t) : (la(t), e.className = e.className.split(/\s+/)
                        .filter((function(e) {
                        return e !== t
                    }))
                        .join(" ")), e
                }
                function _a(e, t, i) {
                    var n = va(e, t);
                    if ("function" == typeof i && (i = i(e, t)), "boolean" != typeof i && (i = !n), i !== n) return i ? ga(e, t) : ya(e, t), e
                }
                function ba(e, t) {
                    Object.getOwnPropertyNames(t)
                        .forEach((function(i) {
                        var n = t[i];
                        null == n || !1 === n ? e.removeAttribute(i) : e.setAttribute(i, !0 === n ? "" : n)
                    }))
                }
                function Ta(e) {
                    var t = {}, i = ",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";
                    if (e && e.attributes && e.attributes.length > 0) for (var n = e.attributes, r = n.length - 1; r >= 0; r--) {
                        var s = n[r].name,
                            a = n[r].value;
                        "boolean" != typeof e[s] && -1 === i.indexOf("," + s + ",") || (a = null !== a), t[s] = a
                    }
                    return t
                }
                function ka(e, t) {
                    return e.getAttribute(t)
                }
                function Sa(e, t, i) {
                    e.setAttribute(t, i)
                }
                function ja(e, t) {
                    e.removeAttribute(t)
                }
                function wa() {
                    Ii.body.focus(), Ii.onselectstart = function() {
                        return !1
                    }
                }
                function Aa() {
                    Ii.onselectstart = function() {
                        return !0
                    }
                }
                function Ca(e) {
                    if (e && e.getBoundingClientRect && e.parentNode) {
                        var t = e.getBoundingClientRect(),
                            i = {};
                        return ["bottom", "height", "left", "right", "top", "width"].forEach((function(e) {
                            void 0 !== t[e] && (i[e] = t[e])
                        })), i.height || (i.height = parseFloat(aa(e, "height"))), i.width || (i.width = parseFloat(aa(e, "width"))), i
                    }
                }
                function Ea(e) {
                    var t;
                    if (e.getBoundingClientRect && e.parentNode && (t = e.getBoundingClientRect()), !t) return {
                        left: 0,
                        top: 0
                    };
                    var i = Ii.documentElement,
                        n = Ii.body,
                        r = i.clientLeft || n.clientLeft || 0,
                        s = Ci.pageXOffset || n.scrollLeft,
                        a = t.left + s - r,
                        o = i.clientTop || n.clientTop || 0,
                        l = Ci.pageYOffset || n.scrollTop,
                        u = t.top + l - o;
                    return {
                        left: Math.round(a),
                        top: Math.round(u)
                    }
                }
                function xa(e, t) {
                    var i = {}, n = Ea(e),
                        r = e.offsetWidth,
                        s = e.offsetHeight,
                        a = n.top,
                        o = n.left,
                        l = t.pageY,
                        u = t.pageX;
                    return t.changedTouches && (u = t.changedTouches[0].pageX, l = t.changedTouches[0].pageY), i.y = Math.max(0, Math.min(1, (a - l + s) / s)), i.x = Math.max(0, Math.min(1, (u - o) / r)), i
                }
                function Ia(e) {
                    return ra(e) && 3 === e.nodeType
                }
                function La(e) {
                    for (; e.firstChild;) e.removeChild(e.firstChild);
                    return e
                }
                function Pa(e) {
                    return "function" == typeof e && (e = e()), (Array.isArray(e) ? e : [e])
                        .map((function(e) {
                        return "function" == typeof e && (e = e()), ca(e) || Ia(e) ? e : "string" == typeof e && /\S/.test(e) ? Ii.createTextNode(e) : void 0
                    }))
                        .filter((function(e) {
                        return e
                    }))
                }
                function Oa(e, t) {
                    return Pa(t)
                        .forEach((function(t) {
                        return e.appendChild(t)
                    })), e
                }
                function Da(e, t) {
                    return Oa(La(e), t)
                }
                function Ua(e) {
                    return void 0 === e.button && void 0 === e.buttons || (0 === e.button && void 0 === e.buttons || ("mouseup" === e.type && 0 === e.button && 0 === e.buttons || 0 === e.button && 1 === e.buttons))
                }
                var Ra, Ma = ha("querySelector"),
                    Ba = ha("querySelectorAll"),
                    Na = Object.freeze({
                        isReal: ua,
                        isEl: ca,
                        isInFrame: da,
                        createEl: pa,
                        textContent: fa,
                        prependTo: ma,
                        hasClass: va,
                        addClass: ga,
                        removeClass: ya,
                        toggleClass: _a,
                        setAttributes: ba,
                        getAttributes: Ta,
                        getAttribute: ka,
                        setAttribute: Sa,
                        removeAttribute: ja,
                        blockTextSelection: wa,
                        unblockTextSelection: Aa,
                        getBoundingClientRect: Ca,
                        findPosition: Ea,
                        getPointerPosition: xa,
                        isTextNode: Ia,
                        emptyEl: La,
                        normalizeContent: Pa,
                        appendContent: Oa,
                        insertContent: Da,
                        isSingleLeftClick: Ua,
                        $: Ma,
                        $$: Ba
                    }),
                    Fa = !1,
                    Va = function() {
                        if (ua() && !1 !== Ra.options.autoSetup) {
                            var e = Array.prototype.slice.call(Ii.getElementsByTagName("video")),
                                t = Array.prototype.slice.call(Ii.getElementsByTagName("audio")),
                                i = Array.prototype.slice.call(Ii.getElementsByTagName("video-js")),
                                n = e.concat(t, i);
                            if (n && n.length > 0) for (var r = 0, s = n.length; r < s; r++) {
                                var a = n[r];
                                if (!a || !a.getAttribute) {
                                    Ha(1);
                                    break
                                }
                                void 0 === a.player && null !== a.getAttribute("data-setup") && Ra(a)
                            } else Fa || Ha(1)
                        }
                    };

                function Ha(e, t) {
                    t && (Ra = t), Ci.setTimeout(Va, e)
                }
                function qa() {
                    Fa = !0, Ci.removeEventListener("load", qa)
                }
                ua() && ("complete" === Ii.readyState ? qa() : Ci.addEventListener("load", qa));
                var za = function(e) {
                    var t = Ii.createElement("style");
                    return t.className = e, t
                }, Wa = function(e, t) {
                    e.styleSheet ? e.styleSheet.cssText = t : e.textContent = t
                }, Ga = new WeakMap,
                    Ya = 3;

                function Xa() {
                    return Ya++
                }
                function Ka(e, t) {
                    if (Ga.has(e)) {
                        var i = Ga.get(e);
                        0 === i.handlers[t].length && (delete i.handlers[t], e.removeEventListener ? e.removeEventListener(t, i.dispatcher, !1) : e.detachEvent && e.detachEvent("on" + t, i.dispatcher)), Object.getOwnPropertyNames(i.handlers)
                            .length <= 0 && (delete i.handlers, delete i.dispatcher, delete i.disabled), 0 === Object.getOwnPropertyNames(i)
                            .length && Ga.delete(e)
                    }
                }
                function Qa(e, t, i, n) {
                    i.forEach((function(i) {
                        e(t, i, n)
                    }))
                }
                function Ja(e) {
                    function t() {
                        return !0
                    }
                    function i() {
                        return !1
                    }
                    if (!e || !e.isPropagationStopped) {
                        var n = e || Ci.event;
                        for (var r in e = {}, n) "layerX" !== r && "layerY" !== r && "keyLocation" !== r && "webkitMovementX" !== r && "webkitMovementY" !== r && ("returnValue" === r && n.preventDefault || (e[r] = n[r]));
                        if (e.target || (e.target = e.srcElement || Ii), e.relatedTarget || (e.relatedTarget = e.fromElement === e.target ? e.toElement : e.fromElement), e.preventDefault = function() {
                            n.preventDefault && n.preventDefault(), e.returnValue = !1, n.returnValue = !1, e.defaultPrevented = !0
                        }, e.defaultPrevented = !1, e.stopPropagation = function() {
                            n.stopPropagation && n.stopPropagation(), e.cancelBubble = !0, n.cancelBubble = !0, e.isPropagationStopped = t
                        }, e.isPropagationStopped = i, e.stopImmediatePropagation = function() {
                            n.stopImmediatePropagation && n.stopImmediatePropagation(), e.isImmediatePropagationStopped = t, e.stopPropagation()
                        }, e.isImmediatePropagationStopped = i, null !== e.clientX && void 0 !== e.clientX) {
                            var s = Ii.documentElement,
                                a = Ii.body;
                            e.pageX = e.clientX + (s && s.scrollLeft || a && a.scrollLeft || 0) - (s && s.clientLeft || a && a.clientLeft || 0), e.pageY = e.clientY + (s && s.scrollTop || a && a.scrollTop || 0) - (s && s.clientTop || a && a.clientTop || 0)
                        }
                        e.which = e.charCode || e.keyCode, null !== e.button && void 0 !== e.button && (e.button = 1 & e.button ? 0 : 4 & e.button ? 1 : 2 & e.button ? 2 : 0)
                    }
                    return e
                }
                var Za = !1;
                ! function() {
                    try {
                        var e = Object.defineProperty({}, "passive", {
                            get: function() {
                                Za = !0
                            }
                        });
                        Ci.addEventListener("test", null, e), Ci.removeEventListener("test", null, e)
                    } catch (t) {}
                }();
                var $a = ["touchstart", "touchmove"];

                function eo(e, t, i) {
                    if (Array.isArray(t)) return Qa(eo, e, t, i);
                    Ga.has(e) || Ga.set(e, {});
                    var n = Ga.get(e);
                    if (n.handlers || (n.handlers = {}), n.handlers[t] || (n.handlers[t] = []), i.guid || (i.guid = Xa()), n.handlers[t].push(i), n.dispatcher || (n.disabled = !1, n.dispatcher = function(t, i) {
                        if (!n.disabled) {
                            t = Ja(t);
                            var r = n.handlers[t.type];
                            if (r) for (var s = r.slice(0), a = 0, o = s.length; a < o && !t.isImmediatePropagationStopped(); a++) try {
                                s[a].call(e, t, i)
                            } catch (l) {
                                Zs.error(l)
                            }
                        }
                    }), 1 === n.handlers[t].length) if (e.addEventListener) {
                        var r = !1;
                        Za && $a.indexOf(t) > -1 && (r = {
                            passive: !0
                        }), e.addEventListener(t, n.dispatcher, r)
                    } else e.attachEvent && e.attachEvent("on" + t, n.dispatcher)
                }
                function to(e, t, i) {
                    if (Ga.has(e)) {
                        var n = Ga.get(e);
                        if (n.handlers) {
                            if (Array.isArray(t)) return Qa(to, e, t, i);
                            var r = function(e, t) {
                                n.handlers[t] = [], Ka(e, t)
                            };
                            if (void 0 !== t) {
                                var s = n.handlers[t];
                                if (s) if (i) {
                                    if (i.guid) for (var a = 0; a < s.length; a++) s[a].guid === i.guid && s.splice(a--, 1);
                                    Ka(e, t)
                                } else r(e, t)
                            } else for (var o in n.handlers) Object.prototype.hasOwnProperty.call(n.handlers || {}, o) && r(e, o)
                        }
                    }
                }
                function io(e, t, i) {
                    var n = Ga.has(e) ? Ga.get(e) : {}, r = e.parentNode || e.ownerDocument;
                    if ("string" == typeof t ? t = {
                        type: t,
                        target: e
                    } : t.target || (t.target = e), t = Ja(t), n.dispatcher && n.dispatcher.call(e, t, i), r && !t.isPropagationStopped() && !0 === t.bubbles) io.call(null, r, t, i);
                    else if (!r && !t.defaultPrevented && t.target && t.target[t.type]) {
                        Ga.has(t.target) || Ga.set(t.target, {});
                        var s = Ga.get(t.target);
                        t.target[t.type] && (s.disabled = !0, "function" == typeof t.target[t.type] && t.target[t.type](), s.disabled = !1)
                    }
                    return !t.defaultPrevented
                }
                function no(e, t, i) {
                    if (Array.isArray(t)) return Qa(no, e, t, i);
                    var n = function n() {
                        to(e, t, n), i.apply(this, arguments)
                    };
                    n.guid = i.guid = i.guid || Xa(), eo(e, t, n)
                }
                function ro(e, t, i) {
                    var n = function n() {
                        to(e, t, n), i.apply(this, arguments)
                    };
                    n.guid = i.guid = i.guid || Xa(), eo(e, t, n)
                }
                var so, ao = Object.freeze({
                    fixEvent: Ja,
                    on: eo,
                    off: to,
                    trigger: io,
                    one: no,
                    any: ro
                }),
                    oo = 30,
                    lo = function(e, t, i) {
                        t.guid || (t.guid = Xa());
                        var n = t.bind(e);
                        return n.guid = i ? i + "_" + t.guid : t.guid, n
                    }, uo = function(e, t) {
                        var i = Ci.performance.now();
                        return function() {
                            var n = Ci.performance.now();
                            n - i >= t && (e.apply(void 0, arguments), i = n)
                        }
                    }, co = function() {};
                co.prototype.allowedEvents_ = {}, co.prototype.on = function(e, t) {
                    var i = this.addEventListener;
                    this.addEventListener = function() {}, eo(this, e, t), this.addEventListener = i
                }, co.prototype.addEventListener = co.prototype.on, co.prototype.off = function(e, t) {
                    to(this, e, t)
                }, co.prototype.removeEventListener = co.prototype.off, co.prototype.one = function(e, t) {
                    var i = this.addEventListener;
                    this.addEventListener = function() {}, no(this, e, t), this.addEventListener = i
                }, co.prototype.any = function(e, t) {
                    var i = this.addEventListener;
                    this.addEventListener = function() {}, ro(this, e, t), this.addEventListener = i
                }, co.prototype.trigger = function(e) {
                    var t = e.type || e;
                    "string" == typeof e && (e = {
                        type: t
                    }), e = Ja(e), this.allowedEvents_[t] && this["on" + t] && this["on" + t](e), io(this, e)
                }, co.prototype.dispatchEvent = co.prototype.trigger, co.prototype.queueTrigger = function(e) {
                    var t = this;
                    so || (so = new Map);
                    var i = e.type || e,
                        n = so.get(this);
                    n || (n = new Map, so.set(this, n));
                    var r = n.get(i);
                    n.delete(i), Ci.clearTimeout(r);
                    var s = Ci.setTimeout((function() {
                        0 === n.size && (n = null, so.delete(t)), t.trigger(e)
                    }), 0);
                    n.set(i, s)
                };
                var ho = function(e) {
                    return e instanceof co || !! e.eventBusEl_ && ["on", "one", "off", "trigger"].every((function(t) {
                        return "function" == typeof e[t]
                    }))
                }, po = function(e) {
                    return "string" == typeof e && /\S/.test(e) || Array.isArray(e) && !! e.length
                }, fo = function(e) {
                    if (!e.nodeName && !ho(e)) throw new Error("Invalid target; must be a DOM node or evented object.")
                }, mo = function(e) {
                    if (!po(e)) throw new Error("Invalid event type; must be a non-empty string or array.")
                }, vo = function(e) {
                    if ("function" != typeof e) throw new Error("Invalid listener; must be a function.")
                }, go = function(e, t) {
                    var i, n, r, s = t.length < 3 || t[0] === e || t[0] === e.eventBusEl_;
                    return s ? (i = e.eventBusEl_, t.length >= 3 && t.shift(), n = t[0], r = t[1]) : (i = t[0], n = t[1], r = t[2]), fo(i), mo(n), vo(r), {
                        isTargetingSelf: s,
                        target: i,
                        type: n,
                        listener: r = lo(e, r)
                    }
                }, yo = function(e, t, i, n) {
                    fo(e), e.nodeName ? ao[t](e, i, n) : e[t](i, n)
                }, _o = {
                    on: function() {
                        for (var e = this, t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
                        var r = go(this, i),
                            s = r.isTargetingSelf,
                            a = r.target,
                            o = r.type,
                            l = r.listener;
                        if (yo(a, "on", o, l), !s) {
                            var u = function() {
                                return e.off(a, o, l)
                            };
                            u.guid = l.guid;
                            var c = function() {
                                return e.off("dispose", u)
                            };
                            c.guid = l.guid, yo(this, "on", "dispose", u), yo(a, "on", "dispose", c)
                        }
                    },
                    one: function() {
                        for (var e = this, t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
                        var r = go(this, i),
                            s = r.isTargetingSelf,
                            a = r.target,
                            o = r.type,
                            l = r.listener;
                        if (s) yo(a, "one", o, l);
                        else {
                            var u = function t() {
                                e.off(a, o, t);
                                for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
                                l.apply(null, n)
                            };
                            u.guid = l.guid, yo(a, "one", o, u)
                        }
                    },
                    any: function() {
                        for (var e = this, t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
                        var r = go(this, i),
                            s = r.isTargetingSelf,
                            a = r.target,
                            o = r.type,
                            l = r.listener;
                        if (s) yo(a, "any", o, l);
                        else {
                            var u = function t() {
                                e.off(a, o, t);
                                for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
                                l.apply(null, n)
                            };
                            u.guid = l.guid, yo(a, "any", o, u)
                        }
                    },
                    off: function(e, t, i) {
                        if (!e || po(e)) to(this.eventBusEl_, e, t);
                        else {
                            var n = e,
                                r = t;
                            fo(n), mo(r), vo(i), i = lo(this, i), this.off("dispose", i), n.nodeName ? (to(n, r, i), to(n, "dispose", i)) : ho(n) && (n.off(r, i), n.off("dispose", i))
                        }
                    },
                    trigger: function(e, t) {
                        return io(this.eventBusEl_, e, t)
                    }
                };

                function bo(e, t) {
                    void 0 === t && (t = {});
                    var i = t.eventBusKey;
                    if (i) {
                        if (!e[i].nodeName) throw new Error('The eventBusKey "' + i + '" does not refer to an element.');
                        e.eventBusEl_ = e[i]
                    } else e.eventBusEl_ = pa("span", {
                        className: "vjs-event-bus"
                    });
                    return na(e, _o), e.eventedCallbacks && e.eventedCallbacks.forEach((function(e) {
                        e()
                    })), e.on("dispose", (function() {
                        e.off(), Ci.setTimeout((function() {
                            e.eventBusEl_ = null
                        }), 0)
                    })), e
                }
                var To = {
                    state: {},
                    setState: function(e) {
                        var t, i = this;
                        return "function" == typeof e && (e = e()), ia(e, (function(e, n) {
                            i.state[n] !== e && ((t = t || {})[n] = {
                                from: i.state[n],
                                to: e
                            }), i.state[n] = e
                        })), t && ho(this) && this.trigger({
                            changes: t,
                            type: "statechanged"
                        }), t
                    }
                };

                function ko(e, t) {
                    return na(e, To), e.state = na({}, e.state, t), "function" == typeof e.handleStateChanged && ho(e) && e.on("statechanged", e.handleStateChanged), e
                }
                var So = function(e) {
                    return "string" != typeof e ? e : e.replace(/./, (function(e) {
                        return e.toLowerCase()
                    }))
                }, jo = function(e) {
                    return "string" != typeof e ? e : e.replace(/./, (function(e) {
                        return e.toUpperCase()
                    }))
                };

                function wo() {
                    for (var e = {}, t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
                    return i.forEach((function(t) {
                        t && ia(t, (function(t, i) {
                            sa(t) ? (sa(e[i]) || (e[i] = {}), e[i] = wo(e[i], t)) : e[i] = t
                        }))
                    })), e
                }
                var Ao = function() {
                    function e(e, t, i) {
                        if (!e && this.play ? this.player_ = e = this : this.player_ = e, this.parentComponent_ = null, this.options_ = wo({}, this.options_), t = this.options_ = wo(this.options_, t), this.id_ = t.id || t.el && t.el.id, !this.id_) {
                            var n = e && e.id && e.id() || "no_player";
                            this.id_ = n + "_component_" + Xa()
                        }
                        this.name_ = t.name || null, t.el ? this.el_ = t.el : !1 !== t.createEl && (this.el_ = this.createEl()), !1 !== t.evented && bo(this, {
                            eventBusKey: this.el_ ? "el_" : null
                        }), ko(this, this.constructor.defaultState), this.children_ = [], this.childIndex_ = {}, this.childNameIndex_ = {}, this.setTimeoutIds_ = new Set, this.setIntervalIds_ = new Set, this.rafIds_ = new Set, this.clearingTimersOnDispose_ = !1, !1 !== t.initChildren && this.initChildren(), this.ready(i), !1 !== t.reportTouchActivity && this.enableTouchActivity()
                    }
                    var t = e.prototype;
                    return t.dispose = function() {
                        if (this.trigger({
                            type: "dispose",
                            bubbles: !1
                        }), this.children_) for (var e = this.children_.length - 1; e >= 0; e--) this.children_[e].dispose && this.children_[e].dispose();
                        this.children_ = null, this.childIndex_ = null, this.childNameIndex_ = null, this.parentComponent_ = null, this.el_ && (this.el_.parentNode && this.el_.parentNode.removeChild(this.el_), Ga.has(this.el_) && Ga.delete(this.el_), this.el_ = null), this.player_ = null
                    }, t.player = function() {
                        return this.player_
                    }, t.options = function(e) {
                        return e ? (this.options_ = wo(this.options_, e), this.options_) : this.options_
                    }, t.el = function() {
                        return this.el_
                    }, t.createEl = function(e, t, i) {
                        return pa(e, t, i)
                    }, t.localize = function(e, t, i) {
                        void 0 === i && (i = e);
                        var n = this.player_.language && this.player_.language(),
                            r = this.player_.languages && this.player_.languages(),
                            s = r && r[n],
                            a = n && n.split("-")[0],
                            o = r && r[a],
                            l = i;
                        return s && s[e] ? l = s[e] : o && o[e] && (l = o[e]), t && (l = l.replace(/\{(\d+)\}/g, (function(e, i) {
                            var n = t[i - 1],
                                r = n;
                            return void 0 === n && (r = e), r
                        }))), l
                    }, t.contentEl = function() {
                        return this.contentEl_ || this.el_
                    }, t.id = function() {
                        return this.id_
                    }, t.name = function() {
                        return this.name_
                    }, t.children = function() {
                        return this.children_
                    }, t.getChildById = function(e) {
                        return this.childIndex_[e]
                    }, t.getChild = function(e) {
                        if (e) return this.childNameIndex_[e]
                    }, t.addChild = function(t, i, n) {
                        var r, s;
                        if (void 0 === i && (i = {}), void 0 === n && (n = this.children_.length), "string" == typeof t) {
                            s = jo(t);
                            var a = i.componentClass || s;
                            i.name = s;
                            var o = e.getComponent(a);
                            if (!o) throw new Error("Component " + a + " does not exist");
                            if ("function" != typeof o) return null;
                            r = new o(this.player_ || this, i)
                        } else r = t;
                        if (r.parentComponent_ && r.parentComponent_.removeChild(r), this.children_.splice(n, 0, r), r.parentComponent_ = this, "function" == typeof r.id && (this.childIndex_[r.id()] = r), (s = s || r.name && jo(r.name())) && (this.childNameIndex_[s] = r, this.childNameIndex_[So(s)] = r), "function" == typeof r.el && r.el()) {
                            var l = this.contentEl()
                                .children[n] || null;
                            this.contentEl()
                                .insertBefore(r.el(), l)
                        }
                        return r
                    }, t.removeChild = function(e) {
                        if ("string" == typeof e && (e = this.getChild(e)), e && this.children_) {
                            for (var t = !1, i = this.children_.length - 1; i >= 0; i--) if (this.children_[i] === e) {
                                t = !0, this.children_.splice(i, 1);
                                break
                            }
                            if (t) {
                                e.parentComponent_ = null, this.childIndex_[e.id()] = null, this.childNameIndex_[jo(e.name())] = null, this.childNameIndex_[So(e.name())] = null;
                                var n = e.el();
                                n && n.parentNode === this.contentEl() && this.contentEl()
                                    .removeChild(e.el())
                            }
                        }
                    }, t.initChildren = function() {
                        var t = this,
                            i = this.options_.children;
                        if (i) {
                            var n, r = this.options_,
                                s = e.getComponent("Tech");
                            (n = Array.isArray(i) ? i : Object.keys(i))
                                .concat(Object.keys(this.options_)
                                .filter((function(e) {
                                return !n.some((function(t) {
                                    return "string" == typeof t ? e === t : e === t.name
                                }))
                            })))
                                .map((function(e) {
                                var n, r;
                                return "string" == typeof e ? r = i[n = e] || t.options_[n] || {} : (n = e.name, r = e), {
                                    name: n,
                                    opts: r
                                }
                            }))
                                .filter((function(t) {
                                var i = e.getComponent(t.opts.componentClass || jo(t.name));
                                return i && !s.isTech(i)
                            }))
                                .forEach((function(e) {
                                var i = e.name,
                                    n = e.opts;
                                if (void 0 !== r[i] && (n = r[i]), !1 !== n) {
                                    !0 === n && (n = {}), n.playerOptions = t.options_.playerOptions;
                                    var s = t.addChild(i, n);
                                    s && (t[i] = s)
                                }
                            }))
                        }
                    }, t.buildCSSClass = function() {
                        return ""
                    }, t.ready = function(e, t) {
                        if (void 0 === t && (t = !1), e) return this.isReady_ ? void(t ? e.call(this) : this.setTimeout(e, 1)) : (this.readyQueue_ = this.readyQueue_ || [], void this.readyQueue_.push(e))
                    }, t.triggerReady = function() {
                        this.isReady_ = !0, this.setTimeout((function() {
                            var e = this.readyQueue_;
                            this.readyQueue_ = [], e && e.length > 0 && e.forEach((function(e) {
                                e.call(this)
                            }), this), this.trigger("ready")
                        }), 1)
                    }, t.$ = function(e, t) {
                        return Ma(e, t || this.contentEl())
                    }, t.$$ = function(e, t) {
                        return Ba(e, t || this.contentEl())
                    }, t.hasClass = function(e) {
                        return va(this.el_, e)
                    }, t.addClass = function(e) {
                        ga(this.el_, e)
                    }, t.removeClass = function(e) {
                        ya(this.el_, e)
                    }, t.toggleClass = function(e, t) {
                        _a(this.el_, e, t)
                    }, t.show = function() {
                        this.removeClass("vjs-hidden")
                    }, t.hide = function() {
                        this.addClass("vjs-hidden")
                    }, t.lockShowing = function() {
                        this.addClass("vjs-lock-showing")
                    }, t.unlockShowing = function() {
                        this.removeClass("vjs-lock-showing")
                    }, t.getAttribute = function(e) {
                        return ka(this.el_, e)
                    }, t.setAttribute = function(e, t) {
                        Sa(this.el_, e, t)
                    }, t.removeAttribute = function(e) {
                        ja(this.el_, e)
                    }, t.width = function(e, t) {
                        return this.dimension("width", e, t)
                    }, t.height = function(e, t) {
                        return this.dimension("height", e, t)
                    }, t.dimensions = function(e, t) {
                        this.width(e, !0), this.height(t)
                    }, t.dimension = function(e, t, i) {
                        if (void 0 !== t) return null !== t && t == t || (t = 0), -1 !== ("" + t)
                            .indexOf("%") || -1 !== ("" + t)
                            .indexOf("px") ? this.el_.style[e] = t : this.el_.style[e] = "auto" === t ? "" : t + "px", void(i || this.trigger("componentresize"));
                        if (!this.el_) return 0;
                        var n = this.el_.style[e],
                            r = n.indexOf("px");
                        return -1 !== r ? parseInt(n.slice(0, r), 10) : parseInt(this.el_["offset" + jo(e)], 10)
                    }, t.currentDimension = function(e) {
                        var t = 0;
                        if ("width" !== e && "height" !== e) throw new Error("currentDimension only accepts width or height value");
                        if (t = aa(this.el_, e), 0 === (t = parseFloat(t)) || isNaN(t)) {
                            var i = "offset" + jo(e);
                            t = this.el_[i]
                        }
                        return t
                    }, t.currentDimensions = function() {
                        return {
                            width: this.currentDimension("width"),
                            height: this.currentDimension("height")
                        }
                    }, t.currentWidth = function() {
                        return this.currentDimension("width")
                    }, t.currentHeight = function() {
                        return this.currentDimension("height")
                    }, t.focus = function() {
                        this.el_.focus()
                    }, t.blur = function() {
                        this.el_.blur()
                    }, t.handleKeyDown = function(e) {
                        this.player_ && (e.stopPropagation(), this.player_.handleKeyDown(e))
                    }, t.handleKeyPress = function(e) {
                        this.handleKeyDown(e)
                    }, t.emitTapEvents = function() {
                        var e, t = 0,
                            i = null;
                        this.on("touchstart", (function(n) {
                            1 === n.touches.length && (i = {
                                pageX: n.touches[0].pageX,
                                pageY: n.touches[0].pageY
                            }, t = Ci.performance.now(), e = !0)
                        })), this.on("touchmove", (function(t) {
                            if (t.touches.length > 1) e = !1;
                            else if (i) {
                                var n = t.touches[0].pageX - i.pageX,
                                    r = t.touches[0].pageY - i.pageY;
                                Math.sqrt(n * n + r * r) > 10 && (e = !1)
                            }
                        }));
                        var n = function() {
                            e = !1
                        };
                        this.on("touchleave", n), this.on("touchcancel", n), this.on("touchend", (function(n) {
                            (i = null, !0 === e) && (Ci.performance.now() - t < 200 && (n.preventDefault(), this.trigger("tap")))
                        }))
                    }, t.enableTouchActivity = function() {
                        if (this.player() && this.player()
                            .reportUserActivity) {
                            var e, t = lo(this.player(), this.player()
                                .reportUserActivity);
                            this.on("touchstart", (function() {
                                t(), this.clearInterval(e), e = this.setInterval(t, 250)
                            }));
                            var i = function(i) {
                                t(), this.clearInterval(e)
                            };
                            this.on("touchmove", t), this.on("touchend", i), this.on("touchcancel", i)
                        }
                    }, t.setTimeout = function(e, t) {
                        var i, n = this;
                        return e = lo(this, e), this.clearTimersOnDispose_(), i = Ci.setTimeout((function() {
                            n.setTimeoutIds_.has(i) && n.setTimeoutIds_.delete(i), e()
                        }), t), this.setTimeoutIds_.add(i), i
                    }, t.clearTimeout = function(e) {
                        return this.setTimeoutIds_.has(e) && (this.setTimeoutIds_.delete(e), Ci.clearTimeout(e)), e
                    }, t.setInterval = function(e, t) {
                        e = lo(this, e), this.clearTimersOnDispose_();
                        var i = Ci.setInterval(e, t);
                        return this.setIntervalIds_.add(i), i
                    }, t.clearInterval = function(e) {
                        return this.setIntervalIds_.has(e) && (this.setIntervalIds_.delete(e), Ci.clearInterval(e)), e
                    }, t.requestAnimationFrame = function(e) {
                        var t, i = this;
                        return this.supportsRaf_ ? (this.clearTimersOnDispose_(), e = lo(this, e), t = Ci.requestAnimationFrame((function() {
                            i.rafIds_.has(t) && i.rafIds_.delete(t), e()
                        })), this.rafIds_.add(t), t) : this.setTimeout(e, 1e3 / 60)
                    }, t.cancelAnimationFrame = function(e) {
                        return this.supportsRaf_ ? (this.rafIds_.has(e) && (this.rafIds_.delete(e), Ci.cancelAnimationFrame(e)), e) : this.clearTimeout(e)
                    }, t.clearTimersOnDispose_ = function() {
                        var e = this;
                        this.clearingTimersOnDispose_ || (this.clearingTimersOnDispose_ = !0, this.one("dispose", (function() {
                            [
                                ["rafIds_", "cancelAnimationFrame"],
                                ["setTimeoutIds_", "clearTimeout"],
                                ["setIntervalIds_", "clearInterval"]
                            ].forEach((function(t) {
                                var i = t[0],
                                    n = t[1];
                                e[i].forEach(e[n], e)
                            })), e.clearingTimersOnDispose_ = !1
                        })))
                    }, e.registerComponent = function(t, i) {
                        if ("string" != typeof t || !t) throw new Error('Illegal component name, "' + t + '"; must be a non-empty string.');
                        var n, r = e.getComponent("Tech"),
                            s = r && r.isTech(i),
                            a = e === i || e.prototype.isPrototypeOf(i.prototype);
                        if (s || !a) throw n = s ? "techs must be registered using Tech.registerTech()" : "must be a Component subclass", new Error('Illegal component, "' + t + '"; ' + n + ".");
                        t = jo(t), e.components_ || (e.components_ = {});
                        var o = e.getComponent("Player");
                        if ("Player" === t && o && o.players) {
                            var l = o.players,
                                u = Object.keys(l);
                            if (l && u.length > 0 && u.map((function(e) {
                                return l[e]
                            }))
                                .every(Boolean)) throw new Error("Can not register Player component after player has been created.")
                        }
                        return e.components_[t] = i, e.components_[So(t)] = i, i
                    }, e.getComponent = function(t) {
                        if (t && e.components_) return e.components_[t]
                    }, e
                }();

                function Co(e, t) {
                    e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e.__proto__ = t
                }
                function Eo(e, t) {
                    return Eo = Object.setPrototypeOf || function(e, t) {
                        return e.__proto__ = t, e
                    }, Eo(e, t)
                }
                function xo() {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}))), !0
                    } catch (e) {
                        return !1
                    }
                }
                function Io(e, t, i) {
                    return Io = xo() ? Reflect.construct : function(e, t, i) {
                        var n = [null];
                        n.push.apply(n, t);
                        var r = new(Function.bind.apply(e, n));
                        return i && Eo(r, i.prototype), r
                    }, Io.apply(null, arguments)
                }
                function Lo(e) {
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }
                Ao.prototype.supportsRaf_ = "function" == typeof Ci.requestAnimationFrame && "function" == typeof Ci.cancelAnimationFrame, Ao.registerComponent("Component", Ao);
                var Po, Oo = Ci.navigator && Ci.navigator.userAgent || "",
                    Do = /AppleWebKit\/([\d.]+)/i.exec(Oo),
                    Uo = Do ? parseFloat(Do.pop()) : null,
                    Ro = /iPad/i.test(Oo),
                    Mo = /iPhone/i.test(Oo) && !Ro,
                    Bo = /iPod/i.test(Oo),
                    No = Mo || Ro || Bo,
                    Fo = (Po = Oo.match(/OS (\d+)_/i)) && Po[1] ? Po[1] : null,
                    Vo = /Android/i.test(Oo),
                    Ho = function() {
                        var e = Oo.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);
                        if (!e) return null;
                        var t = e[1] && parseFloat(e[1]),
                            i = e[2] && parseFloat(e[2]);
                        return t && i ? parseFloat(e[1] + "." + e[2]) : t || null
                    }(),
                    qo = Vo && Ho < 5 && Uo < 537,
                    zo = /Firefox/i.test(Oo),
                    Wo = /Edge/i.test(Oo),
                    Go = !Wo && (/Chrome/i.test(Oo) || /CriOS/i.test(Oo)),
                    Yo = function() {
                        var e = Oo.match(/(Chrome|CriOS)\/(\d+)/);
                        return e && e[2] ? parseFloat(e[2]) : null
                    }(),
                    Xo = function() {
                        var e = /MSIE\s(\d+)\.\d/.exec(Oo),
                            t = e && parseFloat(e[1]);
                        return !t && /Trident\/7.0/i.test(Oo) && /rv:11.0/.test(Oo) && (t = 11), t
                    }(),
                    Ko = /Safari/i.test(Oo) && !Go && !Vo && !Wo,
                    Qo = (Ko || No) && !Go,
                    Jo = /Windows/i.test(Oo),
                    Zo = ua() && ("ontouchstart" in Ci || Ci.navigator.maxTouchPoints || Ci.DocumentTouch && Ci.document instanceof Ci.DocumentTouch),
                    $o = Object.freeze({
                        IS_IPAD: Ro,
                        IS_IPHONE: Mo,
                        IS_IPOD: Bo,
                        IS_IOS: No,
                        IOS_VERSION: Fo,
                        IS_ANDROID: Vo,
                        ANDROID_VERSION: Ho,
                        IS_NATIVE_ANDROID: qo,
                        IS_FIREFOX: zo,
                        IS_EDGE: Wo,
                        IS_CHROME: Go,
                        CHROME_VERSION: Yo,
                        IE_VERSION: Xo,
                        IS_SAFARI: Ko,
                        IS_ANY_SAFARI: Qo,
                        IS_WINDOWS: Jo,
                        TOUCH_ENABLED: Zo
                    });

                function el(e, t, i, n) {
                    return function(e, t, i) {
                        if ("number" != typeof t || t < 0 || t > i) throw new Error("Failed to execute '" + e + "' on 'TimeRanges': The index provided (" + t + ") is non-numeric or out of bounds (0-" + i + ").")
                    }(e, n, i.length - 1), i[n][t]
                }
                function tl(e) {
                    return void 0 === e || 0 === e.length ? {
                        length: 0,
                        start: function() {
                            throw new Error("This TimeRanges object is empty")
                        },
                        end: function() {
                            throw new Error("This TimeRanges object is empty")
                        }
                    } : {
                        length: e.length,
                        start: el.bind(null, "start", 0, e),
                        end: el.bind(null, "end", 1, e)
                    }
                }
                function il(e, t) {
                    return Array.isArray(e) ? tl(e) : void 0 === e || void 0 === t ? tl() : tl([
                        [e, t]
                    ])
                }
                function nl(e, t) {
                    var i, n, r = 0;
                    if (!t) return 0;
                    e && e.length || (e = il(0, 0));
                    for (var s = 0; s < e.length; s++) i = e.start(s), (n = e.end(s)) > t && (n = t), r += n - i;
                    return r / t
                }
                for (var rl, sl = {
                    prefixed: !0
                }, al = [
                    ["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror", "fullscreen"],
                    ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror", "-webkit-full-screen"],
                    ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror", "-moz-full-screen"],
                    ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError", "-ms-fullscreen"]
                ], ol = al[0], ll = 0; ll < al.length; ll++) if (al[ll][1] in Ii) {
                    rl = al[ll];
                    break
                }
                if (rl) {
                    for (var ul = 0; ul < rl.length; ul++) sl[ol[ul]] = rl[ul];
                    sl.prefixed = rl[0] !== ol[0]
                }
                function cl(e) {
                    if (e instanceof cl) return e;
                    "number" == typeof e ? this.code = e : "string" == typeof e ? this.message = e : ra(e) && ("number" == typeof e.code && (this.code = e.code), na(this, e)), this.message || (this.message = cl.defaultMessages[this.code] || "")
                }
                cl.prototype.code = 0, cl.prototype.message = "", cl.prototype.status = null, cl.errorTypes = ["MEDIA_ERR_CUSTOM", "MEDIA_ERR_ABORTED", "MEDIA_ERR_NETWORK", "MEDIA_ERR_DECODE", "MEDIA_ERR_SRC_NOT_SUPPORTED", "MEDIA_ERR_ENCRYPTED"], cl.defaultMessages = {
                    1: "You aborted the media playback",
                    2: "A network error caused the media download to fail part-way.",
                    3: "The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",
                    4: "The media could not be loaded, either because the server or network failed or because the format is not supported.",
                    5: "The media is encrypted and we do not have the keys to decrypt it."
                };
                for (var dl = 0; dl < cl.errorTypes.length; dl++) cl[cl.errorTypes[dl]] = dl, cl.prototype[cl.errorTypes[dl]] = dl;

                function hl(e) {
                    return null != e && "function" == typeof e.then
                }
                function pl(e) {
                    hl(e) && e.then(null, (function(e) {}))
                }
                var fl = function(e) {
                    return ["kind", "label", "language", "id", "inBandMetadataTrackDispatchType", "mode", "src"].reduce((function(t, i, n) {
                        return e[i] && (t[i] = e[i]), t
                    }), {
                        cues: e.cues && Array.prototype.map.call(e.cues, (function(e) {
                            return {
                                startTime: e.startTime,
                                endTime: e.endTime,
                                text: e.text,
                                id: e.id
                            }
                        }))
                    })
                }, ml = function(e) {
                    var t = e.$$("track"),
                        i = Array.prototype.map.call(t, (function(e) {
                            return e.track
                        }));
                    return Array.prototype.map.call(t, (function(e) {
                        var t = fl(e.track);
                        return e.src && (t.src = e.src), t
                    }))
                        .concat(Array.prototype.filter.call(e.textTracks(), (function(e) {
                        return -1 === i.indexOf(e)
                    }))
                        .map(fl))
                }, vl = function(e, t) {
                    return e.forEach((function(e) {
                        var i = t.addRemoteTextTrack(e)
                            .track;
                        !e.src && e.cues && e.cues.forEach((function(e) {
                            return i.addCue(e)
                        }))
                    })), t.textTracks()
                }, gl = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .opened_ = n.hasBeenOpened_ = n.hasBeenFilled_ = !1, n.closeable(!n.options_.uncloseable), n.content(n.options_.content), n.contentEl_ = pa("div", {
                            className: "vjs-modal-dialog-content"
                        }, {
                            role: "document"
                        }), n.descEl_ = pa("p", {
                            className: "vjs-modal-dialog-description vjs-control-text",
                            id: n.el()
                                .getAttribute("aria-describedby")
                        }), fa(n.descEl_, n.description()), n.el_.appendChild(n.descEl_), n.el_.appendChild(n.contentEl_), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function() {
                        return e.prototype.createEl.call(this, "div", {
                            className: this.buildCSSClass(),
                            tabIndex: -1
                        }, {
                            "aria-describedby": this.id() + "_description",
                            "aria-hidden": "true",
                            "aria-label": this.label(),
                            role: "dialog"
                        })
                    }, i.dispose = function() {
                        this.contentEl_ = null, this.descEl_ = null, this.previouslyActiveEl_ = null, e.prototype.dispose.call(this)
                    }, i.buildCSSClass = function() {
                        return "vjs-modal-dialog vjs-hidden " + e.prototype.buildCSSClass.call(this)
                    }, i.label = function() {
                        return this.localize(this.options_.label || "Modal Window")
                    }, i.description = function() {
                        var e = this.options_.description || this.localize("This is a modal window.");
                        return this.closeable() && (e += " " + this.localize("This modal can be closed by pressing the Escape key or activating the close button.")), e
                    }, i.open = function() {
                        if (!this.opened_) {
                            var e = this.player();
                            this.trigger("beforemodalopen"), this.opened_ = !0, (this.options_.fillAlways || !this.hasBeenOpened_ && !this.hasBeenFilled_) && this.fill(), this.wasPlaying_ = !e.paused(), this.options_.pauseOnOpen && this.wasPlaying_ && e.pause(), this.on("keydown", this.handleKeyDown), this.hadControls_ = e.controls(), e.controls(!1), this.show(), this.conditionalFocus_(), this.el()
                                .setAttribute("aria-hidden", "false"), this.trigger("modalopen"), this.hasBeenOpened_ = !0
                        }
                    }, i.opened = function(e) {
                        return "boolean" == typeof e && this[e ? "open" : "close"](), this.opened_
                    }, i.close = function() {
                        if (this.opened_) {
                            var e = this.player();
                            this.trigger("beforemodalclose"), this.opened_ = !1, this.wasPlaying_ && this.options_.pauseOnOpen && e.play(), this.off("keydown", this.handleKeyDown), this.hadControls_ && e.controls(!0), this.hide(), this.el()
                                .setAttribute("aria-hidden", "true"), this.trigger("modalclose"), this.conditionalBlur_(), this.options_.temporary && this.dispose()
                        }
                    }, i.closeable = function(e) {
                        if ("boolean" == typeof e) {
                            var t = this.closeable_ = !! e,
                                i = this.getChild("closeButton");
                            if (t && !i) {
                                var n = this.contentEl_;
                                this.contentEl_ = this.el_, i = this.addChild("closeButton", {
                                    controlText: "Close Modal Dialog"
                                }), this.contentEl_ = n, this.on(i, "close", this.close)
                            }!t && i && (this.off(i, "close", this.close), this.removeChild(i), i.dispose())
                        }
                        return this.closeable_
                    }, i.fill = function() {
                        this.fillWith(this.content())
                    }, i.fillWith = function(e) {
                        var t = this.contentEl(),
                            i = t.parentNode,
                            n = t.nextSibling;
                        this.trigger("beforemodalfill"), this.hasBeenFilled_ = !0, i.removeChild(t), this.empty(), Da(t, e), this.trigger("modalfill"), n ? i.insertBefore(t, n) : i.appendChild(t);
                        var r = this.getChild("closeButton");
                        r && i.appendChild(r.el_)
                    }, i.empty = function() {
                        this.trigger("beforemodalempty"), La(this.contentEl()), this.trigger("modalempty")
                    }, i.content = function(e) {
                        return void 0 !== e && (this.content_ = e), this.content_
                    }, i.conditionalFocus_ = function() {
                        var e = Ii.activeElement,
                            t = this.player_.el_;
                        this.previouslyActiveEl_ = null, (t.contains(e) || t === e) && (this.previouslyActiveEl_ = e, this.focus())
                    }, i.conditionalBlur_ = function() {
                        this.previouslyActiveEl_ && (this.previouslyActiveEl_.focus(), this.previouslyActiveEl_ = null)
                    }, i.handleKeyDown = function(e) {
                        if (e.stopPropagation(), Oi.isEventKey(e, "Escape") && this.closeable()) return e.preventDefault(), void this.close();
                        if (Oi.isEventKey(e, "Tab")) {
                            for (var t, i = this.focusableEls_(), n = this.el_.querySelector(":focus"), r = 0; r < i.length; r++) if (n === i[r]) {
                                t = r;
                                break
                            }
                            Ii.activeElement === this.el_ && (t = 0), e.shiftKey && 0 === t ? (i[i.length - 1].focus(), e.preventDefault()) : e.shiftKey || t !== i.length - 1 || (i[0].focus(), e.preventDefault())
                        }
                    }, i.focusableEls_ = function() {
                        var e = this.el_.querySelectorAll("*");
                        return Array.prototype.filter.call(e, (function(e) {
                            return (e instanceof Ci.HTMLAnchorElement || e instanceof Ci.HTMLAreaElement) && e.hasAttribute("href") || (e instanceof Ci.HTMLInputElement || e instanceof Ci.HTMLSelectElement || e instanceof Ci.HTMLTextAreaElement || e instanceof Ci.HTMLButtonElement) && !e.hasAttribute("disabled") || e instanceof Ci.HTMLIFrameElement || e instanceof Ci.HTMLObjectElement || e instanceof Ci.HTMLEmbedElement || e.hasAttribute("tabindex") && -1 !== e.getAttribute("tabindex") || e.hasAttribute("contenteditable")
                        }))
                    }, t
                }(Ao);
                gl.prototype.options_ = {
                    pauseOnOpen: !0,
                    temporary: !0
                }, Ao.registerComponent("ModalDialog", gl);
                var yl = function(e) {
                    function t(t) {
                        var i;
                        void 0 === t && (t = []), (i = e.call(this) || this)
                            .tracks_ = [], Object.defineProperty(Lo(i), "length", {
                            get: function() {
                                return this.tracks_.length
                            }
                        });
                        for (var n = 0; n < t.length; n++) i.addTrack(t[n]);
                        return i
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.addTrack = function(e) {
                        var t = this.tracks_.length;
                        "" + t in this || Object.defineProperty(this, t, {
                            get: function() {
                                return this.tracks_[t]
                            }
                        }), -1 === this.tracks_.indexOf(e) && (this.tracks_.push(e), this.trigger({
                            track: e,
                            type: "addtrack",
                            target: this
                        }))
                    }, i.removeTrack = function(e) {
                        for (var t, i = 0, n = this.length; i < n; i++) if (this[i] === e) {
                            (t = this[i])
                                .off && t.off(), this.tracks_.splice(i, 1);
                            break
                        }
                        t && this.trigger({
                            track: t,
                            type: "removetrack",
                            target: this
                        })
                    }, i.getTrackById = function(e) {
                        for (var t = null, i = 0, n = this.length; i < n; i++) {
                            var r = this[i];
                            if (r.id === e) {
                                t = r;
                                break
                            }
                        }
                        return t
                    }, t
                }(co);
                for (var _l in yl.prototype.allowedEvents_ = {
                    change: "change",
                    addtrack: "addtrack",
                    removetrack: "removetrack"
                }, yl.prototype.allowedEvents_) yl.prototype["on" + _l] = null;
                var bl = function(e, t) {
                    for (var i = 0; i < e.length; i++) Object.keys(e[i])
                        .length && t.id !== e[i].id && (e[i].enabled = !1)
                }, Tl = function(e) {
                    function t(t) {
                        var i;
                        void 0 === t && (t = []);
                        for (var n = t.length - 1; n >= 0; n--) if (t[n].enabled) {
                            bl(t, t[n]);
                            break
                        }
                        return (i = e.call(this, t) || this)
                            .changing_ = !1, i
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.addTrack = function(t) {
                        var i = this;
                        t.enabled && bl(this, t), e.prototype.addTrack.call(this, t), t.addEventListener && (t.enabledChange_ = function() {
                            i.changing_ || (i.changing_ = !0, bl(i, t), i.changing_ = !1, i.trigger("change"))
                        }, t.addEventListener("enabledchange", t.enabledChange_))
                    }, i.removeTrack = function(t) {
                        e.prototype.removeTrack.call(this, t), t.removeEventListener && t.enabledChange_ && (t.removeEventListener("enabledchange", t.enabledChange_), t.enabledChange_ = null)
                    }, t
                }(yl),
                    kl = function(e, t) {
                        for (var i = 0; i < e.length; i++) Object.keys(e[i])
                            .length && t.id !== e[i].id && (e[i].selected = !1)
                    }, Sl = function(e) {
                        function t(t) {
                            var i;
                            void 0 === t && (t = []);
                            for (var n = t.length - 1; n >= 0; n--) if (t[n].selected) {
                                kl(t, t[n]);
                                break
                            }
                            return (i = e.call(this, t) || this)
                                .changing_ = !1, Object.defineProperty(Lo(i), "selectedIndex", {
                                get: function() {
                                    for (var e = 0; e < this.length; e++) if (this[e].selected) return e;
                                    return -1
                                },
                                set: function() {}
                            }), i
                        }
                        Co(t, e);
                        var i = t.prototype;
                        return i.addTrack = function(t) {
                            var i = this;
                            t.selected && kl(this, t), e.prototype.addTrack.call(this, t), t.addEventListener && (t.selectedChange_ = function() {
                                i.changing_ || (i.changing_ = !0, kl(i, t), i.changing_ = !1, i.trigger("change"))
                            }, t.addEventListener("selectedchange", t.selectedChange_))
                        }, i.removeTrack = function(t) {
                            e.prototype.removeTrack.call(this, t), t.removeEventListener && t.selectedChange_ && (t.removeEventListener("selectedchange", t.selectedChange_), t.selectedChange_ = null)
                        }, t
                    }(yl),
                    jl = function(e) {
                        function t() {
                            return e.apply(this, arguments) || this
                        }
                        Co(t, e);
                        var i = t.prototype;
                        return i.addTrack = function(t) {
                            var i = this;
                            e.prototype.addTrack.call(this, t), this.queueChange_ || (this.queueChange_ = function() {
                                return i.queueTrigger("change")
                            }), this.triggerSelectedlanguagechange || (this.triggerSelectedlanguagechange_ = function() {
                                return i.trigger("selectedlanguagechange")
                            }), t.addEventListener("modechange", this.queueChange_); - 1 === ["metadata", "chapters"].indexOf(t.kind) && t.addEventListener("modechange", this.triggerSelectedlanguagechange_)
                        }, i.removeTrack = function(t) {
                            e.prototype.removeTrack.call(this, t), t.removeEventListener && (this.queueChange_ && t.removeEventListener("modechange", this.queueChange_), this.selectedlanguagechange_ && t.removeEventListener("modechange", this.triggerSelectedlanguagechange_))
                        }, t
                    }(yl),
                    wl = function() {
                        function e(e) {
                            void 0 === e && (e = []), this.trackElements_ = [], Object.defineProperty(this, "length", {
                                get: function() {
                                    return this.trackElements_.length
                                }
                            });
                            for (var t = 0, i = e.length; t < i; t++) this.addTrackElement_(e[t])
                        }
                        var t = e.prototype;
                        return t.addTrackElement_ = function(e) {
                            var t = this.trackElements_.length;
                            "" + t in this || Object.defineProperty(this, t, {
                                get: function() {
                                    return this.trackElements_[t]
                                }
                            }), -1 === this.trackElements_.indexOf(e) && this.trackElements_.push(e)
                        }, t.getTrackElementByTrack_ = function(e) {
                            for (var t, i = 0, n = this.trackElements_.length; i < n; i++) if (e === this.trackElements_[i].track) {
                                t = this.trackElements_[i];
                                break
                            }
                            return t
                        }, t.removeTrackElement_ = function(e) {
                            for (var t = 0, i = this.trackElements_.length; t < i; t++) if (e === this.trackElements_[t]) {
                                this.trackElements_[t].track && "function" == typeof this.trackElements_[t].track.off && this.trackElements_[t].track.off(), "function" == typeof this.trackElements_[t].off && this.trackElements_[t].off(), this.trackElements_.splice(t, 1);
                                break
                            }
                        }, e
                    }(),
                    Al = function() {
                        function e(t) {
                            e.prototype.setCues_.call(this, t), Object.defineProperty(this, "length", {
                                get: function() {
                                    return this.length_
                                }
                            })
                        }
                        var t = e.prototype;
                        return t.setCues_ = function(e) {
                            var t = this.length || 0,
                                i = 0,
                                n = e.length;
                            this.cues_ = e, this.length_ = e.length;
                            var r = function(e) {
                                "" + e in this || Object.defineProperty(this, "" + e, {
                                    get: function() {
                                        return this.cues_[e]
                                    }
                                })
                            };
                            if (t < n) for (i = t; i < n; i++) r.call(this, i)
                        }, t.getCueById = function(e) {
                            for (var t = null, i = 0, n = this.length; i < n; i++) {
                                var r = this[i];
                                if (r.id === e) {
                                    t = r;
                                    break
                                }
                            }
                            return t
                        }, e
                    }(),
                    Cl = {
                        alternative: "alternative",
                        captions: "captions",
                        main: "main",
                        sign: "sign",
                        subtitles: "subtitles",
                        commentary: "commentary"
                    }, El = {
                        alternative: "alternative",
                        descriptions: "descriptions",
                        main: "main",
                        "main-desc": "main-desc",
                        translation: "translation",
                        commentary: "commentary"
                    }, xl = {
                        subtitles: "subtitles",
                        captions: "captions",
                        descriptions: "descriptions",
                        chapters: "chapters",
                        metadata: "metadata"
                    }, Il = {
                        disabled: "disabled",
                        hidden: "hidden",
                        showing: "showing"
                    }, Ll = function(e) {
                        function t(t) {
                            var i;
                            void 0 === t && (t = {}), i = e.call(this) || this;
                            var n = {
                                id: t.id || "vjs_track_" + Xa(),
                                kind: t.kind || "",
                                label: t.label || "",
                                language: t.language || ""
                            }, r = function(e) {
                                Object.defineProperty(Lo(i), e, {
                                    get: function() {
                                        return n[e]
                                    },
                                    set: function() {}
                                })
                            };
                            for (var s in n) r(s);
                            return i
                        }
                        return Co(t, e), t
                    }(co),
                    Pl = function(e) {
                        var t = ["protocol", "hostname", "port", "pathname", "search", "hash", "host"],
                            i = Ii.createElement("a");
                        i.href = e;
                        var n, r = "" === i.host && "file:" !== i.protocol;
                        r && ((n = Ii.createElement("div"))
                            .innerHTML = '<a href="' + e + '"></a>', i = n.firstChild, n.setAttribute("style", "display:none; position:absolute;"), Ii.body.appendChild(n));
                        for (var s = {}, a = 0; a < t.length; a++) s[t[a]] = i[t[a]];
                        return "http:" === s.protocol && (s.host = s.host.replace(/:80$/, "")), "https:" === s.protocol && (s.host = s.host.replace(/:443$/, "")), s.protocol || (s.protocol = Ci.location.protocol), r && Ii.body.removeChild(n), s
                    }, Ol = function(e) {
                        if (!e.match(/^https?:\/\//)) {
                            var t = Ii.createElement("div");
                            t.innerHTML = '<a href="' + e + '">x</a>', e = t.firstChild.href
                        }
                        return e
                    }, Dl = function(e) {
                        if ("string" == typeof e) {
                            var t = /^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);
                            if (t) return t.pop()
                                .toLowerCase()
                        }
                        return ""
                    }, Ul = function(e) {
                        var t = Ci.location,
                            i = Pl(e);
                        return (":" === i.protocol ? t.protocol : i.protocol) + i.host !== t.protocol + t.host
                    }, Rl = Object.freeze({
                        parseUrl: Pl,
                        getAbsoluteURL: Ol,
                        getFileExtension: Dl,
                        isCrossOrigin: Ul
                    }),
                    Ml = function(e, t) {
                        var i = new Ci.WebVTT.Parser(Ci, Ci.vttjs, Ci.WebVTT.StringDecoder()),
                            n = [];
                        i.oncue = function(e) {
                            t.addCue(e)
                        }, i.onparsingerror = function(e) {
                            n.push(e)
                        }, i.onflush = function() {
                            t.trigger({
                                type: "loadeddata",
                                target: t
                            })
                        }, i.parse(e), n.length > 0 && (Ci.console && Ci.console.groupCollapsed && Ci.console.groupCollapsed("Text Track parsing errors for " + t.src), n.forEach((function(e) {
                            return Zs.error(e)
                        })), Ci.console && Ci.console.groupEnd && Ci.console.groupEnd()), i.flush()
                    }, Bl = function(e) {
                        function t(t) {
                            var i;
                            if (void 0 === t && (t = {}), !t.tech) throw new Error("A tech was not provided.");
                            var n = wo(t, {
                                kind: xl[t.kind] || "subtitles",
                                language: t.language || t.srclang || ""
                            }),
                                r = Il[n.mode] || "disabled",
                                s = n.
                            default;
                            "metadata" !== n.kind && "chapters" !== n.kind || (r = "hidden"), (i = e.call(this, n) || this)
                                .tech_ = n.tech, i.cues_ = [], i.activeCues_ = [];
                            var a = new Al(i.cues_),
                                o = new Al(i.activeCues_),
                                l = !1,
                                u = lo(Lo(i), (function() {
                                    this.activeCues = this.activeCues, l && (this.trigger("cuechange"), l = !1)
                                }));
                            return "disabled" !== r && i.tech_.ready((function() {
                                i.tech_.on("timeupdate", u)
                            }), !0), Object.defineProperties(Lo(i), {
                                default: {
                                    get: function() {
                                        return s
                                    },
                                    set: function() {}
                                },
                                mode: {
                                    get: function() {
                                        return r
                                    },
                                    set: function(e) {
                                        var t = this;
                                        Il[e] && ("disabled" !== (r = e) ? this.tech_.ready((function() {
                                            t.tech_.on("timeupdate", u)
                                        }), !0) : this.tech_.off("timeupdate", u), this.trigger("modechange"))
                                    }
                                },
                                cues: {
                                    get: function() {
                                        return this.loaded_ ? a : null
                                    },
                                    set: function() {}
                                },
                                activeCues: {
                                    get: function() {
                                        if (!this.loaded_) return null;
                                        if (0 === this.cues.length) return o;
                                        for (var e = this.tech_.currentTime(), t = [], i = 0, n = this.cues.length; i < n; i++) {
                                            var r = this.cues[i];
                                            (r.startTime <= e && r.endTime >= e || r.startTime === r.endTime && r.startTime <= e && r.startTime + .5 >= e) && t.push(r)
                                        }
                                        if (l = !1, t.length !== this.activeCues_.length) l = !0;
                                        else for (var s = 0; s < t.length; s++) - 1 === this.activeCues_.indexOf(t[s]) && (l = !0);
                                        return this.activeCues_ = t, o.setCues_(this.activeCues_), o
                                    },
                                    set: function() {}
                                }
                            }), n.src ? (i.src = n.src, function(e, t) {
                                var i = {
                                    uri: e
                                }, n = Ul(e);
                                n && (i.cors = n), qi(i, lo(this, (function(e, i, n) {
                                    if (e) return Zs.error(e, i);
                                    t.loaded_ = !0, "function" != typeof Ci.WebVTT ? t.tech_ && t.tech_.any(["vttjsloaded", "vttjserror"], (function(e) {
                                        if ("vttjserror" !== e.type) return Ml(n, t);
                                        Zs.error("vttjs failed to load, stopping trying to process " + t.src)
                                    })) : Ml(n, t)
                                })))
                            }(n.src, Lo(i))) : i.loaded_ = !0, i
                        }
                        Co(t, e);
                        var i = t.prototype;
                        return i.addCue = function(e) {
                            var t = e;
                            if (Ci.vttjs && !(e instanceof Ci.vttjs.VTTCue)) {
                                for (var i in t = new Ci.vttjs.VTTCue(e.startTime, e.endTime, e.text), e) i in t || (t[i] = e[i]);
                                t.id = e.id, t.originalCue_ = e
                            }
                            for (var n = this.tech_.textTracks(), r = 0; r < n.length; r++) n[r] !== this && n[r].removeCue(t);
                            this.cues_.push(t), this.cues.setCues_(this.cues_)
                        }, i.removeCue = function(e) {
                            for (var t = this.cues_.length; t--;) {
                                var i = this.cues_[t];
                                if (i === e || i.originalCue_ && i.originalCue_ === e) {
                                    this.cues_.splice(t, 1), this.cues.setCues_(this.cues_);
                                    break
                                }
                            }
                        }, t
                    }(Ll);
                Bl.prototype.allowedEvents_ = {
                    cuechange: "cuechange"
                };
                var Nl = function(e) {
                    function t(t) {
                        var i;
                        void 0 === t && (t = {});
                        var n = wo(t, {
                            kind: El[t.kind] || ""
                        });
                        i = e.call(this, n) || this;
                        var r = !1;
                        return Object.defineProperty(Lo(i), "enabled", {
                            get: function() {
                                return r
                            },
                            set: function(e) {
                                "boolean" == typeof e && e !== r && (r = e, this.trigger("enabledchange"))
                            }
                        }), n.enabled && (i.enabled = n.enabled), i.loaded_ = !0, i
                    }
                    return Co(t, e), t
                }(Ll),
                    Fl = function(e) {
                        function t(t) {
                            var i;
                            void 0 === t && (t = {});
                            var n = wo(t, {
                                kind: Cl[t.kind] || ""
                            });
                            i = e.call(this, n) || this;
                            var r = !1;
                            return Object.defineProperty(Lo(i), "selected", {
                                get: function() {
                                    return r
                                },
                                set: function(e) {
                                    "boolean" == typeof e && e !== r && (r = e, this.trigger("selectedchange"))
                                }
                            }), n.selected && (i.selected = n.selected), i
                        }
                        return Co(t, e), t
                    }(Ll),
                    Vl = function(e) {
                        function t(t) {
                            var i, n;
                            void 0 === t && (t = {}), i = e.call(this) || this;
                            var r = new Bl(t);
                            return i.kind = r.kind, i.src = r.src, i.srclang = r.language, i.label = r.label, i.
                            default = r.
                            default, Object.defineProperties(Lo(i), {
                                readyState: {
                                    get: function() {
                                        return n
                                    }
                                },
                                track: {
                                    get: function() {
                                        return r
                                    }
                                }
                            }), n = 0, r.addEventListener("loadeddata", (function() {
                                n = 2, i.trigger({
                                    type: "load",
                                    target: Lo(i)
                                })
                            })), i
                        }
                        return Co(t, e), t
                    }(co);
                Vl.prototype.allowedEvents_ = {
                    load: "load"
                }, Vl.NONE = 0, Vl.LOADING = 1, Vl.LOADED = 2, Vl.ERROR = 3;
                var Hl = {
                    audio: {
                        ListClass: Tl,
                        TrackClass: Nl,
                        capitalName: "Audio"
                    },
                    video: {
                        ListClass: Sl,
                        TrackClass: Fl,
                        capitalName: "Video"
                    },
                    text: {
                        ListClass: jl,
                        TrackClass: Bl,
                        capitalName: "Text"
                    }
                };
                Object.keys(Hl)
                    .forEach((function(e) {
                    Hl[e].getterName = e + "Tracks", Hl[e].privateName = e + "Tracks_"
                }));
                var ql = {
                    remoteText: {
                        ListClass: jl,
                        TrackClass: Bl,
                        capitalName: "RemoteText",
                        getterName: "remoteTextTracks",
                        privateName: "remoteTextTracks_"
                    },
                    remoteTextEl: {
                        ListClass: wl,
                        TrackClass: Vl,
                        capitalName: "RemoteTextTrackEls",
                        getterName: "remoteTextTrackEls",
                        privateName: "remoteTextTrackEls_"
                    }
                }, zl = wo(Hl, ql);
                ql.names = Object.keys(ql), Hl.names = Object.keys(Hl), zl.names = [].concat(ql.names)
                    .concat(Hl.names);
                var Wl = function(e) {
                    function t(t, i) {
                        var n;
                        return void 0 === t && (t = {}), void 0 === i && (i = function() {}), t.reportTouchActivity = !1, (n = e.call(this, null, t, i) || this)
                            .hasStarted_ = !1, n.on("playing", (function() {
                            this.hasStarted_ = !0
                        })), n.on("loadstart", (function() {
                            this.hasStarted_ = !1
                        })), zl.names.forEach((function(e) {
                            var i = zl[e];
                            t && t[i.getterName] && (n[i.privateName] = t[i.getterName])
                        })), n.featuresProgressEvents || n.manualProgressOn(), n.featuresTimeupdateEvents || n.manualTimeUpdatesOn(), ["Text", "Audio", "Video"].forEach((function(e) {
                            !1 === t["native" + e + "Tracks"] && (n["featuresNative" + e + "Tracks"] = !1)
                        })), !1 === t.nativeCaptions || !1 === t.nativeTextTracks ? n.featuresNativeTextTracks = !1 : !0 !== t.nativeCaptions && !0 !== t.nativeTextTracks || (n.featuresNativeTextTracks = !0), n.featuresNativeTextTracks || n.emulateTextTracks(), n.autoRemoteTextTracks_ = new zl.text.ListClass, n.initTrackListeners(), t.nativeControlsForTouch || n.emitTapEvents(), n.constructor && (n.name_ = n.constructor.name || "Unknown Tech"), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.triggerSourceset = function(e) {
                        var t = this;
                        this.isReady_ || this.one("ready", (function() {
                            return t.setTimeout((function() {
                                return t.triggerSourceset(e)
                            }), 1)
                        })), this.trigger({
                            src: e,
                            type: "sourceset"
                        })
                    }, i.manualProgressOn = function() {
                        this.on("durationchange", this.onDurationChange), this.manualProgress = !0, this.one("ready", this.trackProgress)
                    }, i.manualProgressOff = function() {
                        this.manualProgress = !1, this.stopTrackingProgress(), this.off("durationchange", this.onDurationChange)
                    }, i.trackProgress = function(e) {
                        this.stopTrackingProgress(), this.progressInterval = this.setInterval(lo(this, (function() {
                            var e = this.bufferedPercent();
                            this.bufferedPercent_ !== e && this.trigger("progress"), this.bufferedPercent_ = e, 1 === e && this.stopTrackingProgress()
                        })), 500)
                    }, i.onDurationChange = function(e) {
                        this.duration_ = this.duration()
                    }, i.buffered = function() {
                        return il(0, 0)
                    }, i.bufferedPercent = function() {
                        return nl(this.buffered(), this.duration_)
                    }, i.stopTrackingProgress = function() {
                        this.clearInterval(this.progressInterval)
                    }, i.manualTimeUpdatesOn = function() {
                        this.manualTimeUpdates = !0, this.on("play", this.trackCurrentTime), this.on("pause", this.stopTrackingCurrentTime)
                    }, i.manualTimeUpdatesOff = function() {
                        this.manualTimeUpdates = !1, this.stopTrackingCurrentTime(), this.off("play", this.trackCurrentTime), this.off("pause", this.stopTrackingCurrentTime)
                    }, i.trackCurrentTime = function() {
                        this.currentTimeInterval && this.stopTrackingCurrentTime(), this.currentTimeInterval = this.setInterval((function() {
                            this.trigger({
                                type: "timeupdate",
                                target: this,
                                manuallyTriggered: !0
                            })
                        }), 250)
                    }, i.stopTrackingCurrentTime = function() {
                        this.clearInterval(this.currentTimeInterval), this.trigger({
                            type: "timeupdate",
                            target: this,
                            manuallyTriggered: !0
                        })
                    }, i.dispose = function() {
                        this.clearTracks(Hl.names), this.manualProgress && this.manualProgressOff(), this.manualTimeUpdates && this.manualTimeUpdatesOff(), e.prototype.dispose.call(this)
                    }, i.clearTracks = function(e) {
                        var t = this;
                        (e = [].concat(e))
                            .forEach((function(e) {
                            for (var i = t[e + "Tracks"]() || [], n = i.length; n--;) {
                                var r = i[n];
                                "text" === e && t.removeRemoteTextTrack(r), i.removeTrack(r)
                            }
                        }))
                    }, i.cleanupAutoTextTracks = function() {
                        for (var e = this.autoRemoteTextTracks_ || [], t = e.length; t--;) {
                            var i = e[t];
                            this.removeRemoteTextTrack(i)
                        }
                    }, i.reset = function() {}, i.error = function(e) {
                        return void 0 !== e && (this.error_ = new cl(e), this.trigger("error")), this.error_
                    }, i.played = function() {
                        return this.hasStarted_ ? il(0, 0) : il()
                    }, i.setCurrentTime = function() {
                        this.manualTimeUpdates && this.trigger({
                            type: "timeupdate",
                            target: this,
                            manuallyTriggered: !0
                        })
                    }, i.initTrackListeners = function() {
                        var e = this;
                        Hl.names.forEach((function(t) {
                            var i = Hl[t],
                                n = function() {
                                    e.trigger(t + "trackchange")
                                }, r = e[i.getterName]();
                            r.addEventListener("removetrack", n), r.addEventListener("addtrack", n), e.on("dispose", (function() {
                                r.removeEventListener("removetrack", n), r.removeEventListener("addtrack", n)
                            }))
                        }))
                    }, i.addWebVttScript_ = function() {
                        var e = this;
                        if (!Ci.WebVTT) if (Ii.body.contains(this.el())) {
                            if (!this.options_["vtt.js"] && sa(In) && Object.keys(In)
                                .length > 0) return void this.trigger("vttjsloaded");
                            var t = Ii.createElement("script");
                            t.src = this.options_["vtt.js"] || "https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js", t.onload = function() {
                                e.trigger("vttjsloaded")
                            }, t.onerror = function() {
                                e.trigger("vttjserror")
                            }, this.on("dispose", (function() {
                                t.onload = null, t.onerror = null
                            })), Ci.WebVTT = !0, this.el()
                                .parentNode.appendChild(t)
                        } else this.ready(this.addWebVttScript_)
                    }, i.emulateTextTracks = function() {
                        var e = this,
                            t = this.textTracks(),
                            i = this.remoteTextTracks(),
                            n = function(e) {
                                return t.addTrack(e.track)
                            }, r = function(e) {
                                return t.removeTrack(e.track)
                            };
                        i.on("addtrack", n), i.on("removetrack", r), this.addWebVttScript_();
                        var s = function() {
                            return e.trigger("texttrackchange")
                        }, a = function() {
                            s();
                            for (var e = 0; e < t.length; e++) {
                                var i = t[e];
                                i.removeEventListener("cuechange", s), "showing" === i.mode && i.addEventListener("cuechange", s)
                            }
                        };
                        a(), t.addEventListener("change", a), t.addEventListener("addtrack", a), t.addEventListener("removetrack", a), this.on("dispose", (function() {
                            i.off("addtrack", n), i.off("removetrack", r), t.removeEventListener("change", a), t.removeEventListener("addtrack", a), t.removeEventListener("removetrack", a);
                            for (var e = 0; e < t.length; e++) {
                                t[e].removeEventListener("cuechange", s)
                            }
                        }))
                    }, i.addTextTrack = function(e, t, i) {
                        if (!e) throw new Error("TextTrack kind is required but was not provided");
                        return function(e, t, i, n, r) {
                            void 0 === r && (r = {});
                            var s = e.textTracks();
                            r.kind = t, i && (r.label = i), n && (r.language = n), r.tech = e;
                            var a = new zl.text.TrackClass(r);
                            return s.addTrack(a), a
                        }(this, e, t, i)
                    }, i.createRemoteTextTrack = function(e) {
                        var t = wo(e, {
                            tech: this
                        });
                        return new ql.remoteTextEl.TrackClass(t)
                    }, i.addRemoteTextTrack = function(e, t) {
                        var i = this;
                        void 0 === e && (e = {});
                        var n = this.createRemoteTextTrack(e);
                        return !0 !== t && !1 !== t && (Zs.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'), t = !0), this.remoteTextTrackEls()
                            .addTrackElement_(n), this.remoteTextTracks()
                            .addTrack(n.track), !0 !== t && this.ready((function() {
                            return i.autoRemoteTextTracks_.addTrack(n.track)
                        })), n
                    }, i.removeRemoteTextTrack = function(e) {
                        var t = this.remoteTextTrackEls()
                            .getTrackElementByTrack_(e);
                        this.remoteTextTrackEls()
                            .removeTrackElement_(t), this.remoteTextTracks()
                            .removeTrack(e), this.autoRemoteTextTracks_.removeTrack(e)
                    }, i.getVideoPlaybackQuality = function() {
                        return {}
                    }, i.requestPictureInPicture = function() {
                        var e = this.options_.Promise || Ci.Promise;
                        if (e) return e.reject()
                    }, i.setPoster = function() {}, i.playsinline = function() {}, i.setPlaysinline = function() {}, i.overrideNativeAudioTracks = function() {}, i.overrideNativeVideoTracks = function() {}, i.canPlayType = function() {
                        return ""
                    }, t.canPlayType = function() {
                        return ""
                    }, t.canPlaySource = function(e, i) {
                        return t.canPlayType(e.type)
                    }, t.isTech = function(e) {
                        return e.prototype instanceof t || e instanceof t || e === t
                    }, t.registerTech = function(e, i) {
                        if (t.techs_ || (t.techs_ = {}), !t.isTech(i)) throw new Error("Tech " + e + " must be a Tech");
                        if (!t.canPlayType) throw new Error("Techs must have a static canPlayType method on them");
                        if (!t.canPlaySource) throw new Error("Techs must have a static canPlaySource method on them");
                        return e = jo(e), t.techs_[e] = i, t.techs_[So(e)] = i, "Tech" !== e && t.defaultTechOrder_.push(e), i
                    }, t.getTech = function(e) {
                        if (e) return t.techs_ && t.techs_[e] ? t.techs_[e] : (e = jo(e), Ci && Ci.videojs && Ci.videojs[e] ? (Zs.warn("The " + e + " tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"), Ci.videojs[e]) : void 0)
                    }, t
                }(Ao);
                zl.names.forEach((function(e) {
                    var t = zl[e];
                    Wl.prototype[t.getterName] = function() {
                        return this[t.privateName] = this[t.privateName] || new t.ListClass, this[t.privateName]
                    }
                })), Wl.prototype.featuresVolumeControl = !0, Wl.prototype.featuresMuteControl = !0, Wl.prototype.featuresFullscreenResize = !1, Wl.prototype.featuresPlaybackRate = !1, Wl.prototype.featuresProgressEvents = !1, Wl.prototype.featuresSourceset = !1, Wl.prototype.featuresTimeupdateEvents = !1, Wl.prototype.featuresNativeTextTracks = !1, Wl.withSourceHandlers = function(e) {
                    e.registerSourceHandler = function(t, i) {
                        var n = e.sourceHandlers;
                        n || (n = e.sourceHandlers = []), void 0 === i && (i = n.length), n.splice(i, 0, t)
                    }, e.canPlayType = function(t) {
                        for (var i, n = e.sourceHandlers || [], r = 0; r < n.length; r++) if (i = n[r].canPlayType(t)) return i;
                        return ""
                    }, e.selectSourceHandler = function(t, i) {
                        for (var n = e.sourceHandlers || [], r = 0; r < n.length; r++) if (n[r].canHandleSource(t, i)) return n[r];
                        return null
                    }, e.canPlaySource = function(t, i) {
                        var n = e.selectSourceHandler(t, i);
                        return n ? n.canHandleSource(t, i) : ""
                    };
                    ["seekable", "seeking", "duration"].forEach((function(e) {
                        var t = this[e];
                        "function" == typeof t && (this[e] = function() {
                            return this.sourceHandler_ && this.sourceHandler_[e] ? this.sourceHandler_[e].apply(this.sourceHandler_, arguments) : t.apply(this, arguments)
                        })
                    }), e.prototype), e.prototype.setSource = function(t) {
                        var i = e.selectSourceHandler(t, this.options_);
                        i || (e.nativeSourceHandler ? i = e.nativeSourceHandler : Zs.error("No source handler found for the current source.")), this.disposeSourceHandler(), this.off("dispose", this.disposeSourceHandler), i !== e.nativeSourceHandler && (this.currentSource_ = t), this.sourceHandler_ = i.handleSource(t, this, this.options_), this.one("dispose", this.disposeSourceHandler)
                    }, e.prototype.disposeSourceHandler = function() {
                        this.currentSource_ && (this.clearTracks(["audio", "video"]), this.currentSource_ = null), this.cleanupAutoTextTracks(), this.sourceHandler_ && (this.sourceHandler_.dispose && this.sourceHandler_.dispose(), this.sourceHandler_ = null)
                    }
                }, Ao.registerComponent("Tech", Wl), Wl.registerTech("Tech", Wl), Wl.defaultTechOrder_ = [];
                var Gl = {}, Yl = {}, Xl = {};

                function Kl(e, t, i) {
                    e.setTimeout((function() {
                        return tu(t, Gl[t.type], i, e)
                    }), 1)
                }
                function Ql(e, t, i, n) {
                    void 0 === n && (n = null);
                    var r = "call" + jo(i),
                        s = e.reduce(eu(r), n),
                        a = s === Xl,
                        o = a ? null : t[i](s);
                    return function(e, t, i, n) {
                        for (var r = e.length - 1; r >= 0; r--) {
                            var s = e[r];
                            s[t] && s[t](n, i)
                        }
                    }(e, i, o, a), o
                }
                var Jl = {
                    buffered: 1,
                    currentTime: 1,
                    duration: 1,
                    seekable: 1,
                    played: 1,
                    paused: 1,
                    volume: 1
                }, Zl = {
                    setCurrentTime: 1,
                    setVolume: 1
                }, $l = {
                    play: 1,
                    pause: 1
                };

                function eu(e) {
                    return function(t, i) {
                        return t === Xl ? Xl : i[e] ? i[e](t) : t
                    }
                }
                function tu(e, t, i, n, r, s) {
                    void 0 === e && (e = {}), void 0 === t && (t = []), void 0 === r && (r = []), void 0 === s && (s = !1);
                    var a = t,
                        o = a[0],
                        l = a.slice(1);
                    if ("string" == typeof o) tu(e, Gl[o], i, n, r, s);
                    else if (o) {
                        var u = function(e, t) {
                            var i = Yl[e.id()],
                                n = null;
                            if (null == i) return n = t(e), Yl[e.id()] = [
                                [t, n]
                            ], n;
                            for (var r = 0; r < i.length; r++) {
                                var s = i[r],
                                    a = s[0],
                                    o = s[1];
                                a === t && (n = o)
                            }
                            return null === n && (n = t(e), i.push([t, n])), n
                        }(n, o);
                        if (!u.setSource) return r.push(u), tu(e, l, i, n, r, s);
                        u.setSource(na({}, e), (function(t, a) {
                            if (t) return tu(e, l, i, n, r, s);
                            r.push(u), tu(a, e.type === a.type ? l : Gl[a.type], i, n, r, s)
                        }))
                    } else l.length ? tu(e, l, i, n, r, s) : s ? i(e, r) : tu(e, Gl["*"], i, n, r, !0)
                }
                var iu = {
                    opus: "video/ogg",
                    ogv: "video/ogg",
                    mp4: "video/mp4",
                    mov: "video/mp4",
                    m4v: "video/mp4",
                    mkv: "video/x-matroska",
                    m4a: "audio/mp4",
                    mp3: "audio/mpeg",
                    aac: "audio/aac",
                    oga: "audio/ogg",
                    m3u8: "application/x-mpegURL",
                    jpg: "image/jpeg",
                    jpeg: "image/jpeg",
                    gif: "image/gif",
                    png: "image/png",
                    svg: "image/svg+xml",
                    webp: "image/webp"
                }, nu = function(e) {
                    void 0 === e && (e = "");
                    var t = Dl(e);
                    return iu[t.toLowerCase()] || ""
                }, ru = function e(t) {
                    if (Array.isArray(t)) {
                        var i = [];
                        t.forEach((function(t) {
                            t = e(t), Array.isArray(t) ? i = i.concat(t) : ra(t) && i.push(t)
                        })), t = i
                    } else t = "string" == typeof t && t.trim() ? [su({
                        src: t
                    })] : ra(t) && "string" == typeof t.src && t.src && t.src.trim() ? [su(t)] : [];
                    return t
                };

                function su(e) {
                    if (!e.type) {
                        var t = nu(e.src);
                        t && (e.type = t)
                    }
                    return e
                }
                var au = function(e) {
                    function t(t, i, n) {
                        var r, s = wo({
                            createEl: !1
                        }, i);
                        if (r = e.call(this, t, s, n) || this, i.playerOptions.sources && 0 !== i.playerOptions.sources.length) t.src(i.playerOptions.sources);
                        else for (var a = 0, o = i.playerOptions.techOrder; a < o.length; a++) {
                            var l = jo(o[a]),
                                u = Wl.getTech(l);
                            if (l || (u = Ao.getComponent(l)), u && u.isSupported()) {
                                t.loadTech_(l);
                                break
                            }
                        }
                        return r
                    }
                    return Co(t, e), t
                }(Ao);
                Ao.registerComponent("MediaLoader", au);
                var ou = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .emitTapEvents(), n.enable(), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function(t, i, n) {
                        void 0 === t && (t = "div"), void 0 === i && (i = {}), void 0 === n && (n = {}), i = na({
                            innerHTML: '<span aria-hidden="true" class="vjs-icon-placeholder"></span>',
                            className: this.buildCSSClass(),
                            tabIndex: 0
                        }, i), "button" === t && Zs.error("Creating a ClickableComponent with an HTML element of " + t + " is not supported; use a Button instead."), n = na({
                            role: "button"
                        }, n), this.tabIndex_ = i.tabIndex;
                        var r = e.prototype.createEl.call(this, t, i, n);
                        return this.createControlTextEl(r), r
                    }, i.dispose = function() {
                        this.controlTextEl_ = null, e.prototype.dispose.call(this)
                    }, i.createControlTextEl = function(e) {
                        return this.controlTextEl_ = pa("span", {
                            className: "vjs-control-text"
                        }, {
                            "aria-live": "polite"
                        }), e && e.appendChild(this.controlTextEl_), this.controlText(this.controlText_, e), this.controlTextEl_
                    }, i.controlText = function(e, t) {
                        if (void 0 === t && (t = this.el()), void 0 === e) return this.controlText_ || "Need Text";
                        var i = this.localize(e);
                        this.controlText_ = e, fa(this.controlTextEl_, i), this.nonIconControl || t.setAttribute("title", i)
                    }, i.buildCSSClass = function() {
                        return "vjs-control vjs-button " + e.prototype.buildCSSClass.call(this)
                    }, i.enable = function() {
                        this.enabled_ || (this.enabled_ = !0, this.removeClass("vjs-disabled"), this.el_.setAttribute("aria-disabled", "false"), void 0 !== this.tabIndex_ && this.el_.setAttribute("tabIndex", this.tabIndex_), this.on(["tap", "click"], this.handleClick), this.on("keydown", this.handleKeyDown))
                    }, i.disable = function() {
                        this.enabled_ = !1, this.addClass("vjs-disabled"), this.el_.setAttribute("aria-disabled", "true"), void 0 !== this.tabIndex_ && this.el_.removeAttribute("tabIndex"), this.off("mouseover", this.handleMouseOver), this.off("mouseout", this.handleMouseOut), this.off(["tap", "click"], this.handleClick), this.off("keydown", this.handleKeyDown)
                    }, i.handleClick = function(e) {}, i.handleKeyDown = function(t) {
                        Oi.isEventKey(t, "Space") || Oi.isEventKey(t, "Enter") ? (t.preventDefault(), t.stopPropagation(), this.trigger("click")) : e.prototype.handleKeyDown.call(this, t)
                    }, t
                }(Ao);
                Ao.registerComponent("ClickableComponent", ou);
                var lu = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .update(), t.on("posterchange", lo(Lo(n), n.update)), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.dispose = function() {
                        this.player()
                            .off("posterchange", this.update), e.prototype.dispose.call(this)
                    }, i.createEl = function() {
                        return pa("div", {
                            className: "vjs-poster",
                            tabIndex: -1
                        })
                    }, i.update = function(e) {
                        var t = this.player()
                            .poster();
                        this.setSrc(t), t ? this.show() : this.hide()
                    }, i.setSrc = function(e) {
                        var t = "";
                        e && (t = 'url("' + e + '")'), this.el_.style.backgroundImage = t
                    }, i.handleClick = function(e) {
                        this.player_.controls() && (this.player_.tech(!0) && this.player_.tech(!0)
                            .focus(), this.player_.paused() ? pl(this.player_.play()) : this.player_.pause())
                    }, t
                }(ou);
                Ao.registerComponent("PosterImage", lu);
                var uu = {
                    monospace: "monospace",
                    sansSerif: "sans-serif",
                    serif: "serif",
                    monospaceSansSerif: '"Andale Mono", "Lucida Console", monospace',
                    monospaceSerif: '"Courier New", monospace',
                    proportionalSansSerif: "sans-serif",
                    proportionalSerif: "serif",
                    casual: '"Comic Sans MS", Impact, fantasy',
                    script: '"Monotype Corsiva", cursive',
                    smallcaps: '"Andale Mono", "Lucida Console", monospace, sans-serif'
                };

                function cu(e, t) {
                    var i;
                    if (4 === e.length) i = e[1] + e[1] + e[2] + e[2] + e[3] + e[3];
                    else {
                        if (7 !== e.length) throw new Error("Invalid color code provided, " + e + "; must be formatted as e.g. #f0e or #f604e2.");
                        i = e.slice(1)
                    }
                    return "rgba(" + parseInt(i.slice(0, 2), 16) + "," + parseInt(i.slice(2, 4), 16) + "," + parseInt(i.slice(4, 6), 16) + "," + t + ")"
                }
                function du(e, t, i) {
                    try {
                        e.style[t] = i
                    } catch (n) {
                        return
                    }
                }
                var hu = function(e) {
                    function t(t, i, n) {
                        var r;
                        r = e.call(this, t, i, n) || this;
                        var s = lo(Lo(r), r.updateDisplay);
                        return t.on("loadstart", lo(Lo(r), r.toggleDisplay)), t.on("texttrackchange", s), t.on("loadedmetadata", lo(Lo(r), r.preselectTrack)), t.ready(lo(Lo(r), (function() {
                            if (t.tech_ && t.tech_.featuresNativeTextTracks) this.hide();
                            else {
                                t.on("fullscreenchange", s), t.on("playerresize", s), Ci.addEventListener("orientationchange", s), t.on("dispose", (function() {
                                    return Ci.removeEventListener("orientationchange", s)
                                }));
                                for (var e = this.options_.playerOptions.tracks || [], i = 0; i < e.length; i++) this.player_.addRemoteTextTrack(e[i], !0);
                                this.preselectTrack()
                            }
                        }))), r
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.preselectTrack = function() {
                        for (var e, t, i, n = {
                            captions: 1,
                            subtitles: 1
                        }, r = this.player_.textTracks(), s = this.player_.cache_.selectedLanguage, a = 0; a < r.length; a++) {
                            var o = r[a];
                            s && s.enabled && s.language && s.language === o.language && o.kind in n ? o.kind === s.kind ? i = o : i || (i = o) : s && !s.enabled ? (i = null, e = null, t = null) : o.
                            default && ("descriptions" !== o.kind || e ? o.kind in n && !t && (t = o) : e = o)
                        }
                        i ? i.mode = "showing" : t ? t.mode = "showing" : e && (e.mode = "showing")
                    }, i.toggleDisplay = function() {
                        this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks ? this.hide() : this.show()
                    }, i.createEl = function() {
                        return e.prototype.createEl.call(this, "div", {
                            className: "vjs-text-track-display"
                        }, {
                            "aria-live": "off",
                            "aria-atomic": "true"
                        })
                    }, i.clearDisplay = function() {
                        "function" == typeof Ci.WebVTT && Ci.WebVTT.processCues(Ci, [], this.el_)
                    }, i.updateDisplay = function() {
                        var e = this.player_.textTracks(),
                            t = this.options_.allowMultipleShowingTracks;
                        if (this.clearDisplay(), t) {
                            for (var i = [], n = 0; n < e.length; ++n) {
                                var r = e[n];
                                "showing" === r.mode && i.push(r)
                            }
                            this.updateForTrack(i)
                        } else {
                            for (var s = null, a = null, o = e.length; o--;) {
                                var l = e[o];
                                "showing" === l.mode && ("descriptions" === l.kind ? s = l : a = l)
                            }
                            a ? ("off" !== this.getAttribute("aria-live") && this.setAttribute("aria-live", "off"), this.updateForTrack(a)) : s && ("assertive" !== this.getAttribute("aria-live") && this.setAttribute("aria-live", "assertive"), this.updateForTrack(s))
                        }
                    }, i.updateDisplayState = function(e) {
                        for (var t = this.player_.textTrackSettings.getValues(), i = e.activeCues, n = i.length; n--;) {
                            var r = i[n];
                            if (r) {
                                var s = r.displayState;
                                if (t.color && (s.firstChild.style.color = t.color), t.textOpacity && du(s.firstChild, "color", cu(t.color || "#fff", t.textOpacity)), t.backgroundColor && (s.firstChild.style.backgroundColor = t.backgroundColor), t.backgroundOpacity && du(s.firstChild, "backgroundColor", cu(t.backgroundColor || "#000", t.backgroundOpacity)), t.windowColor && (t.windowOpacity ? du(s, "backgroundColor", cu(t.windowColor, t.windowOpacity)) : s.style.backgroundColor = t.windowColor), t.edgeStyle && ("dropshadow" === t.edgeStyle ? s.firstChild.style.textShadow = "2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222" : "raised" === t.edgeStyle ? s.firstChild.style.textShadow = "1px 1px #222, 2px 2px #222, 3px 3px #222" : "depressed" === t.edgeStyle ? s.firstChild.style.textShadow = "1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222" : "uniform" === t.edgeStyle && (s.firstChild.style.textShadow = "0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")), t.fontPercent && 1 !== t.fontPercent) {
                                    var a = Ci.parseFloat(s.style.fontSize);
                                    s.style.fontSize = a * t.fontPercent + "px", s.style.height = "auto", s.style.top = "auto", s.style.bottom = "2px"
                                }
                                t.fontFamily && "default" !== t.fontFamily && ("small-caps" === t.fontFamily ? s.firstChild.style.fontVariant = "small-caps" : s.firstChild.style.fontFamily = uu[t.fontFamily])
                            }
                        }
                    }, i.updateForTrack = function(e) {
                        if (Array.isArray(e) || (e = [e]), "function" == typeof Ci.WebVTT && !e.every((function(e) {
                            return !e.activeCues
                        }))) {
                            for (var t = [], i = 0; i < e.length; ++i) for (var n = e[i], r = 0; r < n.activeCues.length; ++r) t.push(n.activeCues[r]);
                            Ci.WebVTT.processCues(Ci, t, this.el_);
                            for (var s = 0; s < e.length; ++s) {
                                for (var a = e[s], o = 0; o < a.activeCues.length; ++o) {
                                    var l = a.activeCues[o].displayState;
                                    ga(l, "vjs-text-track-cue"), ga(l, "vjs-text-track-cue-" + (a.language ? a.language : s))
                                }
                                this.player_.textTrackSettings && this.updateDisplayState(a)
                            }
                        }
                    }, t
                }(Ao);
                Ao.registerComponent("TextTrackDisplay", hu);
                var pu = function(e) {
                    function t() {
                        return e.apply(this, arguments) || this
                    }
                    return Co(t, e), t.prototype.createEl = function() {
                        var t = this.player_.isAudio(),
                            i = this.localize(t ? "Audio Player" : "Video Player"),
                            n = pa("span", {
                                className: "vjs-control-text",
                                innerHTML: this.localize("{1} is loading.", [i])
                            }),
                            r = e.prototype.createEl.call(this, "div", {
                                className: "vjs-loading-spinner",
                                dir: "ltr"
                            });
                        return r.appendChild(n), r
                    }, t
                }(Ao);
                Ao.registerComponent("LoadingSpinner", pu);
                var fu = function(e) {
                    function t() {
                        return e.apply(this, arguments) || this
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function(e, t, i) {
                        void 0 === t && (t = {}), void 0 === i && (i = {}), t = na({
                            innerHTML: '<span aria-hidden="true" class="vjs-icon-placeholder"></span>',
                            className: this.buildCSSClass()
                        }, t), i = na({
                            type: "button"
                        }, i);
                        var n = Ao.prototype.createEl.call(this, "button", t, i);
                        return this.createControlTextEl(n), n
                    }, i.addChild = function(e, t) {
                        void 0 === t && (t = {});
                        var i = this.constructor.name;
                        return Zs.warn("Adding an actionable (user controllable) child to a Button (" + i + ") is not supported; use a ClickableComponent instead."), Ao.prototype.addChild.call(this, e, t)
                    }, i.enable = function() {
                        e.prototype.enable.call(this), this.el_.removeAttribute("disabled")
                    }, i.disable = function() {
                        e.prototype.disable.call(this), this.el_.setAttribute("disabled", "disabled")
                    }, i.handleKeyDown = function(t) {
                        Oi.isEventKey(t, "Space") || Oi.isEventKey(t, "Enter") ? t.stopPropagation() : e.prototype.handleKeyDown.call(this, t)
                    }, t
                }(ou);
                Ao.registerComponent("Button", fu);
                var mu = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .mouseused_ = !1, n.on("mousedown", n.handleMouseDown), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-big-play-button"
                    }, i.handleClick = function(e) {
                        var t = this.player_.play();
                        if (this.mouseused_ && e.clientX && e.clientY) return pl(t), void(this.player_.tech(!0) && this.player_.tech(!0)
                            .focus());
                        var i = this.player_.getChild("controlBar"),
                            n = i && i.getChild("playToggle");
                        if (n) {
                            var r = function() {
                                return n.focus()
                            };
                            hl(t) ? t.then(r, (function() {})) : this.setTimeout(r, 1)
                        } else this.player_.tech(!0)
                            .focus()
                    }, i.handleKeyDown = function(t) {
                        this.mouseused_ = !1, e.prototype.handleKeyDown.call(this, t)
                    }, i.handleMouseDown = function(e) {
                        this.mouseused_ = !0
                    }, t
                }(fu);
                mu.prototype.controlText_ = "Play Video", Ao.registerComponent("BigPlayButton", mu);
                var vu = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .controlText(i && i.controlText || n.localize("Close")), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-close-button " + e.prototype.buildCSSClass.call(this)
                    }, i.handleClick = function(e) {
                        this.trigger({
                            type: "close",
                            bubbles: !1
                        })
                    }, i.handleKeyDown = function(t) {
                        Oi.isEventKey(t, "Esc") ? (t.preventDefault(), t.stopPropagation(), this.trigger("click")) : e.prototype.handleKeyDown.call(this, t)
                    }, t
                }(fu);
                Ao.registerComponent("CloseButton", vu);
                var gu = function(e) {
                    function t(t, i) {
                        var n;
                        return void 0 === i && (i = {}), n = e.call(this, t, i) || this, i.replay = void 0 === i.replay || i.replay, n.on(t, "play", n.handlePlay), n.on(t, "pause", n.handlePause), i.replay && n.on(t, "ended", n.handleEnded), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-play-control " + e.prototype.buildCSSClass.call(this)
                    }, i.handleClick = function(e) {
                        this.player_.paused() ? this.player_.play() : this.player_.pause()
                    }, i.handleSeeked = function(e) {
                        this.removeClass("vjs-ended"), this.player_.paused() ? this.handlePause(e) : this.handlePlay(e)
                    }, i.handlePlay = function(e) {
                        this.removeClass("vjs-ended"), this.removeClass("vjs-paused"), this.addClass("vjs-playing"), this.controlText("Pause")
                    }, i.handlePause = function(e) {
                        this.removeClass("vjs-playing"), this.addClass("vjs-paused"), this.controlText("Play")
                    }, i.handleEnded = function(e) {
                        this.removeClass("vjs-playing"), this.addClass("vjs-ended"), this.controlText("Replay"), this.one(this.player_, "seeked", this.handleSeeked)
                    }, t
                }(fu);
                gu.prototype.controlText_ = "Play", Ao.registerComponent("PlayToggle", gu);
                var yu = function(e, t) {
                    e = e < 0 ? 0 : e;
                    var i = Math.floor(e % 60),
                        n = Math.floor(e / 60 % 60),
                        r = Math.floor(e / 3600),
                        s = Math.floor(t / 60 % 60),
                        a = Math.floor(t / 3600);
                    return (isNaN(e) || e === 1 / 0) && (r = n = i = "-"), (r = r > 0 || a > 0 ? r + ":" : "") + (n = ((r || s >= 10) && n < 10 ? "0" + n : n) + ":") + (i = i < 10 ? "0" + i : i)
                }, _u = yu;

                function bu(e, t) {
                    return void 0 === t && (t = e), _u(e, t)
                }
                var Tu = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .throttledUpdateContent = uo(lo(Lo(n), n.updateContent), oo), n.on(t, "timeupdate", n.throttledUpdateContent), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function() {
                        var t = this.buildCSSClass(),
                            i = e.prototype.createEl.call(this, "div", {
                                className: t + " vjs-time-control vjs-control",
                                innerHTML: '<span class="vjs-control-text" role="presentation">' + this.localize(this.labelText_) + " </span>"
                            });
                        return this.contentEl_ = pa("span", {
                            className: t + "-display"
                        }, {
                            "aria-live": "off",
                            role: "presentation"
                        }), this.updateTextNode_(), i.appendChild(this.contentEl_), i
                    }, i.dispose = function() {
                        this.contentEl_ = null, this.textNode_ = null, e.prototype.dispose.call(this)
                    }, i.updateTextNode_ = function() {
                        if (this.contentEl_) {
                            for (; this.contentEl_.firstChild;) this.contentEl_.removeChild(this.contentEl_.firstChild);
                            this.textNode_ = Ii.createTextNode(this.formattedTime_ || this.formatTime_(0)), this.contentEl_.appendChild(this.textNode_)
                        }
                    }, i.formatTime_ = function(e) {
                        return bu(e)
                    }, i.updateFormattedTime_ = function(e) {
                        var t = this.formatTime_(e);
                        t !== this.formattedTime_ && (this.formattedTime_ = t, this.requestAnimationFrame(this.updateTextNode_))
                    }, i.updateContent = function(e) {}, t
                }(Ao);
                Tu.prototype.labelText_ = "Time", Tu.prototype.controlText_ = "Time", Ao.registerComponent("TimeDisplay", Tu);
                var ku = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .on(t, "ended", n.handleEnded), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-current-time"
                    }, i.updateContent = function(e) {
                        var t = this.player_.scrubbing() ? this.player_.getCache()
                            .currentTime : this.player_.currentTime();
                        this.updateFormattedTime_(t)
                    }, i.handleEnded = function(e) {
                        this.player_.duration() && this.updateFormattedTime_(this.player_.duration())
                    }, t
                }(Tu);
                ku.prototype.labelText_ = "Current Time", ku.prototype.controlText_ = "Current Time", Ao.registerComponent("CurrentTimeDisplay", ku);
                var Su = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .on(t, "durationchange", n.updateContent), n.on(t, "loadstart", n.updateContent), n.on(t, "loadedmetadata", n.throttledUpdateContent), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-duration"
                    }, i.updateContent = function(e) {
                        var t = this.player_.duration();
                        this.duration_ !== t && (this.duration_ = t, this.updateFormattedTime_(t))
                    }, t
                }(Tu);
                Su.prototype.labelText_ = "Duration", Su.prototype.controlText_ = "Duration", Ao.registerComponent("DurationDisplay", Su);
                var ju = function(e) {
                    function t() {
                        return e.apply(this, arguments) || this
                    }
                    return Co(t, e), t.prototype.createEl = function() {
                        return e.prototype.createEl.call(this, "div", {
                            className: "vjs-time-control vjs-time-divider",
                            innerHTML: "<div><span>/</span></div>"
                        }, {
                            "aria-hidden": !0
                        })
                    }, t
                }(Ao);
                Ao.registerComponent("TimeDivider", ju);
                var wu = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .on(t, "durationchange", n.throttledUpdateContent), n.on(t, "ended", n.handleEnded), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-remaining-time"
                    }, i.createEl = function() {
                        var t = e.prototype.createEl.call(this);
                        return t.insertBefore(pa("span", {}, {
                            "aria-hidden": !0
                        }, "-"), this.contentEl_), t
                    }, i.updateContent = function(e) {
                        "number" == typeof this.player_.duration() && (this.player_.remainingTimeDisplay ? this.updateFormattedTime_(this.player_.remainingTimeDisplay()) : this.updateFormattedTime_(this.player_.remainingTime()))
                    }, i.handleEnded = function(e) {
                        this.player_.duration() && this.updateFormattedTime_(0)
                    }, t
                }(Tu);
                wu.prototype.labelText_ = "Remaining Time", wu.prototype.controlText_ = "Remaining Time", Ao.registerComponent("RemainingTimeDisplay", wu);
                var Au = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .updateShowing(), n.on(n.player(), "durationchange", n.updateShowing), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function() {
                        var t = e.prototype.createEl.call(this, "div", {
                            className: "vjs-live-control vjs-control"
                        });
                        return this.contentEl_ = pa("div", {
                            className: "vjs-live-display",
                            innerHTML: '<span class="vjs-control-text">' + this.localize("Stream Type") + " </span>" + this.localize("LIVE")
                        }, {
                            "aria-live": "off"
                        }), t.appendChild(this.contentEl_), t
                    }, i.dispose = function() {
                        this.contentEl_ = null, e.prototype.dispose.call(this)
                    }, i.updateShowing = function(e) {
                        this.player()
                            .duration() === 1 / 0 ? this.show() : this.hide()
                    }, t
                }(Ao);
                Ao.registerComponent("LiveDisplay", Au);
                var Cu = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .updateLiveEdgeStatus(), n.player_.liveTracker && n.on(n.player_.liveTracker, "liveedgechange", n.updateLiveEdgeStatus), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function() {
                        var t = e.prototype.createEl.call(this, "button", {
                            className: "vjs-seek-to-live-control vjs-control"
                        });
                        return this.textEl_ = pa("span", {
                            className: "vjs-seek-to-live-text",
                            innerHTML: this.localize("LIVE")
                        }, {
                            "aria-hidden": "true"
                        }), t.appendChild(this.textEl_), t
                    }, i.updateLiveEdgeStatus = function(e) {
                        !this.player_.liveTracker || this.player_.liveTracker.atLiveEdge() ? (this.setAttribute("aria-disabled", !0), this.addClass("vjs-at-live-edge"), this.controlText("Seek to live, currently playing live")) : (this.setAttribute("aria-disabled", !1), this.removeClass("vjs-at-live-edge"), this.controlText("Seek to live, currently behind live"))
                    }, i.handleClick = function() {
                        this.player_.liveTracker.seekToLiveEdge()
                    }, i.dispose = function() {
                        this.player_.liveTracker && this.off(this.player_.liveTracker, "liveedgechange", this.updateLiveEdgeStatus), this.textEl_ = null, e.prototype.dispose.call(this)
                    }, t
                }(fu);
                Cu.prototype.controlText_ = "Seek to live, currently playing live", Ao.registerComponent("SeekToLive", Cu);
                var Eu = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .bar = n.getChild(n.options_.barName), n.vertical( !! n.options_.vertical), n.enable(), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.enabled = function() {
                        return this.enabled_
                    }, i.enable = function() {
                        this.enabled() || (this.on("mousedown", this.handleMouseDown), this.on("touchstart", this.handleMouseDown), this.on("keydown", this.handleKeyDown), this.on("click", this.handleClick), this.on(this.player_, "controlsvisible", this.update), this.playerEvent && this.on(this.player_, this.playerEvent, this.update), this.removeClass("disabled"), this.setAttribute("tabindex", 0), this.enabled_ = !0)
                    }, i.disable = function() {
                        if (this.enabled()) {
                            var e = this.bar.el_.ownerDocument;
                            this.off("mousedown", this.handleMouseDown), this.off("touchstart", this.handleMouseDown), this.off("keydown", this.handleKeyDown), this.off("click", this.handleClick), this.off(this.player_, "controlsvisible", this.update), this.off(e, "mousemove", this.handleMouseMove), this.off(e, "mouseup", this.handleMouseUp), this.off(e, "touchmove", this.handleMouseMove), this.off(e, "touchend", this.handleMouseUp), this.removeAttribute("tabindex"), this.addClass("disabled"), this.playerEvent && this.off(this.player_, this.playerEvent, this.update), this.enabled_ = !1
                        }
                    }, i.createEl = function(t, i, n) {
                        return void 0 === i && (i = {}), void 0 === n && (n = {}), i.className = i.className + " vjs-slider", i = na({
                            tabIndex: 0
                        }, i), n = na({
                            role: "slider",
                            "aria-valuenow": 0,
                            "aria-valuemin": 0,
                            "aria-valuemax": 100,
                            tabIndex: 0
                        }, n), e.prototype.createEl.call(this, t, i, n)
                    }, i.handleMouseDown = function(e) {
                        var t = this.bar.el_.ownerDocument;
                        "mousedown" === e.type && e.preventDefault(), "touchstart" !== e.type || Go || e.preventDefault(), wa(), this.addClass("vjs-sliding"), this.trigger("slideractive"), this.on(t, "mousemove", this.handleMouseMove), this.on(t, "mouseup", this.handleMouseUp), this.on(t, "touchmove", this.handleMouseMove), this.on(t, "touchend", this.handleMouseUp), this.handleMouseMove(e)
                    }, i.handleMouseMove = function(e) {}, i.handleMouseUp = function() {
                        var e = this.bar.el_.ownerDocument;
                        Aa(), this.removeClass("vjs-sliding"), this.trigger("sliderinactive"), this.off(e, "mousemove", this.handleMouseMove), this.off(e, "mouseup", this.handleMouseUp), this.off(e, "touchmove", this.handleMouseMove), this.off(e, "touchend", this.handleMouseUp), this.update()
                    }, i.update = function() {
                        if (this.el_) {
                            var e = this.getPercent(),
                                t = this.bar;
                            if (t) {
                                ("number" != typeof e || e != e || e < 0 || e === 1 / 0) && (e = 0);
                                var i = (100 * e)
                                    .toFixed(2) + "%",
                                    n = t.el()
                                        .style,
                                    r = this.vertical() ? "height" : "width";
                                return n[r] !== i && (n[r] = i), e
                            }
                        }
                    }, i.calculateDistance = function(e) {
                        var t = xa(this.el_, e);
                        return this.vertical() ? t.y : t.x
                    }, i.handleKeyDown = function(t) {
                        Oi.isEventKey(t, "Left") || Oi.isEventKey(t, "Down") ? (t.preventDefault(), t.stopPropagation(), this.stepBack()) : Oi.isEventKey(t, "Right") || Oi.isEventKey(t, "Up") ? (t.preventDefault(), t.stopPropagation(), this.stepForward()) : e.prototype.handleKeyDown.call(this, t)
                    }, i.handleClick = function(e) {
                        e.stopPropagation(), e.preventDefault()
                    }, i.vertical = function(e) {
                        if (void 0 === e) return this.vertical_ || !1;
                        this.vertical_ = !! e, this.vertical_ ? this.addClass("vjs-slider-vertical") : this.addClass("vjs-slider-horizontal")
                    }, t
                }(Ao);
                Ao.registerComponent("Slider", Eu);
                var xu = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .partEls_ = [], n.on(t, "progress", n.update), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function() {
                        return e.prototype.createEl.call(this, "div", {
                            className: "vjs-load-progress",
                            innerHTML: '<span class="vjs-control-text"><span>' + this.localize("Loaded") + '</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'
                        })
                    }, i.dispose = function() {
                        this.partEls_ = null, e.prototype.dispose.call(this)
                    }, i.update = function(e) {
                        var t = this.player_.liveTracker,
                            i = this.player_.buffered(),
                            n = t && t.isLive() ? t.seekableEnd() : this.player_.duration(),
                            r = this.player_.bufferedEnd(),
                            s = this.partEls_,
                            a = this.$(".vjs-control-text-loaded-percentage"),
                            o = function(e, t, i) {
                                var n = e / t || 0;
                                return n = 100 * (n >= 1 ? 1 : n), i && (n = n.toFixed(2)), n + "%"
                            };
                        this.el_.style.width = o(r, n), fa(a, o(r, n, !0));
                        for (var l = 0; l < i.length; l++) {
                            var u = i.start(l),
                                c = i.end(l),
                                d = s[l];
                            d || (d = this.el_.appendChild(pa()), s[l] = d), d.style.left = o(u, r), d.style.width = o(c - u, r)
                        }
                        for (var h = s.length; h > i.length; h--) this.el_.removeChild(s[h - 1]);
                        s.length = i.length
                    }, t
                }(Ao);
                Ao.registerComponent("LoadProgressBar", xu);
                var Iu = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .update = uo(lo(Lo(n), n.update), oo), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function() {
                        return e.prototype.createEl.call(this, "div", {
                            className: "vjs-time-tooltip"
                        }, {
                            "aria-hidden": "true"
                        })
                    }, i.update = function(e, t, i) {
                        var n = Ca(this.el_),
                            r = Ca(this.player_.el()),
                            s = e.width * t;
                        if (r && n) {
                            var a = e.left - r.left + s,
                                o = e.width - s + (r.right - e.right),
                                l = n.width / 2;
                            a < l ? l += l - a : o < l && (l = o), l < 0 ? l = 0 : l > n.width && (l = n.width), this.el_.style.right = "-" + l + "px", this.write(i)
                        }
                    }, i.write = function(e) {
                        fa(this.el_, e)
                    }, i.updateTime = function(e, t, i, n) {
                        var r = this;
                        this.rafId_ && this.cancelAnimationFrame(this.rafId_), this.rafId_ = this.requestAnimationFrame((function() {
                            var s, a = r.player_.duration();
                            if (r.player_.liveTracker && r.player_.liveTracker.isLive()) {
                                var o = r.player_.liveTracker.liveWindow(),
                                    l = o - t * o;
                                s = (l < 1 ? "" : "-") + bu(l, o)
                            } else s = bu(i, a);
                            r.update(e, t, s), n && n()
                        }))
                    }, t
                }(Ao);
                Ao.registerComponent("TimeTooltip", Iu);
                var Lu = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .update = uo(lo(Lo(n), n.update), oo), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function() {
                        return e.prototype.createEl.call(this, "div", {
                            className: "vjs-play-progress vjs-slider-bar"
                        }, {
                            "aria-hidden": "true"
                        })
                    }, i.update = function(e, t) {
                        var i = this.getChild("timeTooltip");
                        if (i) {
                            var n = this.player_.scrubbing() ? this.player_.getCache()
                                .currentTime : this.player_.currentTime();
                            i.updateTime(e, t, n)
                        }
                    }, t
                }(Ao);
                Lu.prototype.options_ = {
                    children: []
                }, No || Vo || Lu.prototype.options_.children.push("timeTooltip"), Ao.registerComponent("PlayProgressBar", Lu);
                var Pu = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .update = uo(lo(Lo(n), n.update), oo), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function() {
                        return e.prototype.createEl.call(this, "div", {
                            className: "vjs-mouse-display"
                        })
                    }, i.update = function(e, t) {
                        var i = this,
                            n = t * this.player_.duration();
                        this.getChild("timeTooltip")
                            .updateTime(e, t, n, (function() {
                            i.el_.style.left = e.width * t + "px"
                        }))
                    }, t
                }(Ao);
                Pu.prototype.options_ = {
                    children: ["timeTooltip"]
                }, Ao.registerComponent("MouseTimeDisplay", Pu);
                var Ou = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .setEventHandlers_(), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.setEventHandlers_ = function() {
                        this.update = uo(lo(this, this.update), 30), this.on(this.player_, "timeupdate", this.update), this.on(this.player_, "ended", this.handleEnded), this.on(this.player_, "durationchange", this.update), this.player_.liveTracker && this.on(this.player_.liveTracker, "liveedgechange", this.update), this.updateInterval = null, this.on(this.player_, ["playing"], this.enableInterval_), this.on(this.player_, ["ended", "pause", "waiting"], this.disableInterval_), "hidden" in Ii && "visibilityState" in Ii && this.on(Ii, "visibilitychange", this.toggleVisibility_)
                    }, i.toggleVisibility_ = function(e) {
                        Ii.hidden ? this.disableInterval_(e) : (this.enableInterval_(), this.requestAnimationFrame(this.update))
                    }, i.enableInterval_ = function() {
                        var e = this;
                        this.clearInterval(this.updateInterval), this.updateInterval = this.setInterval((function() {
                            e.requestAnimationFrame(e.update)
                        }), 30)
                    }, i.disableInterval_ = function(e) {
                        this.player_.liveTracker && this.player_.liveTracker.isLive() && "ended" !== e.type || this.clearInterval(this.updateInterval)
                    }, i.createEl = function() {
                        return e.prototype.createEl.call(this, "div", {
                            className: "vjs-progress-holder"
                        }, {
                            "aria-label": this.localize("Progress Bar")
                        })
                    }, i.update_ = function(e, t) {
                        var i = this.player_.liveTracker,
                            n = this.player_.duration();
                        i && i.isLive() && (n = this.player_.liveTracker.liveCurrentTime()), this.el_.setAttribute("aria-valuenow", (100 * t)
                            .toFixed(2)), this.el_.setAttribute("aria-valuetext", this.localize("progress bar timing: currentTime={1} duration={2}", [bu(e, n), bu(n, n)], "{1} of {2}")), this.bar && this.bar.update(Ca(this.el_), t)
                    }, i.update = function(t) {
                        if (null !== this.el()
                            .offsetParent) {
                            var i = e.prototype.update.call(this);
                            return this.update_(this.getCurrentTime_(), i), i
                        }
                    }, i.getCurrentTime_ = function() {
                        return this.player_.scrubbing() ? this.player_.getCache()
                            .currentTime : this.player_.currentTime()
                    }, i.handleEnded = function(e) {
                        this.update_(this.player_.duration(), 1)
                    }, i.getPercent = function() {
                        var e, t = this.getCurrentTime_(),
                            i = this.player_.liveTracker;
                        return i && i.isLive() ? (e = (t - i.seekableStart()) / i.liveWindow(), i.atLiveEdge() && (e = 1)) : e = t / this.player_.duration(), e >= 1 ? 1 : e || 0
                    }, i.handleMouseDown = function(t) {
                        Ua(t) && (t.stopPropagation(), this.player_.scrubbing(!0), this.videoWasPlaying = !this.player_.paused(), this.player_.pause(), e.prototype.handleMouseDown.call(this, t))
                    }, i.handleMouseMove = function(e) {
                        if (Ua(e)) {
                            var t, i = this.calculateDistance(e),
                                n = this.player_.liveTracker;
                            if (n && n.isLive()) {
                                var r = n.seekableStart(),
                                    s = n.liveCurrentTime();
                                if ((t = r + i * n.liveWindow()) >= s && (t = s), t <= r && (t = r + .1), t === 1 / 0) return
                            } else(t = i * this.player_.duration()) === this.player_.duration() && (t -= .1);
                            this.player_.currentTime(t)
                        }
                    }, i.enable = function() {
                        e.prototype.enable.call(this);
                        var t = this.getChild("mouseTimeDisplay");
                        t && t.show()
                    }, i.disable = function() {
                        e.prototype.disable.call(this);
                        var t = this.getChild("mouseTimeDisplay");
                        t && t.hide()
                    }, i.handleMouseUp = function(t) {
                        e.prototype.handleMouseUp.call(this, t), t && t.stopPropagation(), this.player_.scrubbing(!1), this.player_.trigger({
                            type: "timeupdate",
                            target: this,
                            manuallyTriggered: !0
                        }), this.videoWasPlaying && pl(this.player_.play())
                    }, i.stepForward = function() {
                        this.player_.currentTime(this.player_.currentTime() + 5)
                    }, i.stepBack = function() {
                        this.player_.currentTime(this.player_.currentTime() - 5)
                    }, i.handleAction = function(e) {
                        this.player_.paused() ? this.player_.play() : this.player_.pause()
                    }, i.handleKeyDown = function(t) {
                        if (Oi.isEventKey(t, "Space") || Oi.isEventKey(t, "Enter")) t.preventDefault(), t.stopPropagation(), this.handleAction(t);
                        else if (Oi.isEventKey(t, "Home")) t.preventDefault(), t.stopPropagation(), this.player_.currentTime(0);
                        else if (Oi.isEventKey(t, "End")) t.preventDefault(), t.stopPropagation(), this.player_.currentTime(this.player_.duration());
                        else if (/^[0-9]$/.test(Oi(t))) {
                            t.preventDefault(), t.stopPropagation();
                            var i = 10 * (Oi.codes[Oi(t)] - Oi.codes[0]) / 100;
                            this.player_.currentTime(this.player_.duration() * i)
                        } else Oi.isEventKey(t, "PgDn") ? (t.preventDefault(), t.stopPropagation(), this.player_.currentTime(this.player_.currentTime() - 60)) : Oi.isEventKey(t, "PgUp") ? (t.preventDefault(), t.stopPropagation(), this.player_.currentTime(this.player_.currentTime() + 60)) : e.prototype.handleKeyDown.call(this, t)
                    }, t
                }(Eu);
                Ou.prototype.options_ = {
                    children: ["loadProgressBar", "playProgressBar"],
                    barName: "playProgressBar"
                }, No || Vo || Ou.prototype.options_.children.splice(1, 0, "mouseTimeDisplay"), Ao.registerComponent("SeekBar", Ou);
                var Du = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .handleMouseMove = uo(lo(Lo(n), n.handleMouseMove), oo), n.throttledHandleMouseSeek = uo(lo(Lo(n), n.handleMouseSeek), oo), n.enable(), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function() {
                        return e.prototype.createEl.call(this, "div", {
                            className: "vjs-progress-control vjs-control"
                        })
                    }, i.handleMouseMove = function(e) {
                        var t = this.getChild("seekBar");
                        if (t) {
                            var i = t.getChild("mouseTimeDisplay"),
                                n = t.el(),
                                r = Ca(n),
                                s = xa(n, e)
                                    .x;
                            s > 1 ? s = 1 : s < 0 && (s = 0), i && i.update(r, s)
                        }
                    }, i.handleMouseSeek = function(e) {
                        var t = this.getChild("seekBar");
                        t && t.handleMouseMove(e)
                    }, i.enabled = function() {
                        return this.enabled_
                    }, i.disable = function() {
                        this.children()
                            .forEach((function(e) {
                            return e.disable && e.disable()
                        })), this.enabled() && (this.off(["mousedown", "touchstart"], this.handleMouseDown), this.off(this.el_, "mousemove", this.handleMouseMove), this.handleMouseUp(), this.addClass("disabled"), this.enabled_ = !1)
                    }, i.enable = function() {
                        this.children()
                            .forEach((function(e) {
                            return e.enable && e.enable()
                        })), this.enabled() || (this.on(["mousedown", "touchstart"], this.handleMouseDown), this.on(this.el_, "mousemove", this.handleMouseMove), this.removeClass("disabled"), this.enabled_ = !0)
                    }, i.handleMouseDown = function(e) {
                        var t = this.el_.ownerDocument,
                            i = this.getChild("seekBar");
                        i && i.handleMouseDown(e), this.on(t, "mousemove", this.throttledHandleMouseSeek), this.on(t, "touchmove", this.throttledHandleMouseSeek), this.on(t, "mouseup", this.handleMouseUp), this.on(t, "touchend", this.handleMouseUp)
                    }, i.handleMouseUp = function(e) {
                        var t = this.el_.ownerDocument,
                            i = this.getChild("seekBar");
                        i && i.handleMouseUp(e), this.off(t, "mousemove", this.throttledHandleMouseSeek), this.off(t, "touchmove", this.throttledHandleMouseSeek), this.off(t, "mouseup", this.handleMouseUp), this.off(t, "touchend", this.handleMouseUp)
                    }, t
                }(Ao);
                Du.prototype.options_ = {
                    children: ["seekBar"]
                }, Ao.registerComponent("ProgressControl", Du);
                var Uu = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .on(t, ["enterpictureinpicture", "leavepictureinpicture"], n.handlePictureInPictureChange), Ii.pictureInPictureEnabled || n.disable(), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-picture-in-picture-control " + e.prototype.buildCSSClass.call(this)
                    }, i.handlePictureInPictureChange = function(e) {
                        this.player_.isInPictureInPicture() ? this.controlText("Exit Picture-in-Picture") : this.controlText("Picture-in-Picture")
                    }, i.handleClick = function(e) {
                        this.player_.isInPictureInPicture() ? this.player_.exitPictureInPicture() : this.player_.requestPictureInPicture()
                    }, t
                }(fu);
                Uu.prototype.controlText_ = "Picture-in-Picture", Ao.registerComponent("PictureInPictureToggle", Uu);
                var Ru = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .on(t, "fullscreenchange", n.handleFullscreenChange), !1 === Ii[t.fsApi_.fullscreenEnabled] && n.disable(), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-fullscreen-control " + e.prototype.buildCSSClass.call(this)
                    }, i.handleFullscreenChange = function(e) {
                        this.player_.isFullscreen() ? this.controlText("Non-Fullscreen") : this.controlText("Fullscreen")
                    }, i.handleClick = function(e) {
                        this.player_.isFullscreen() ? this.player_.exitFullscreen() : this.player_.requestFullscreen()
                    }, t
                }(fu);
                Ru.prototype.controlText_ = "Fullscreen", Ao.registerComponent("FullscreenToggle", Ru);
                var Mu = function(e) {
                    function t() {
                        return e.apply(this, arguments) || this
                    }
                    return Co(t, e), t.prototype.createEl = function() {
                        return e.prototype.createEl.call(this, "div", {
                            className: "vjs-volume-level",
                            innerHTML: '<span class="vjs-control-text"></span>'
                        })
                    }, t
                }(Ao);
                Ao.registerComponent("VolumeLevel", Mu);
                var Bu = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .on("slideractive", n.updateLastVolume_), n.on(t, "volumechange", n.updateARIAAttributes), t.ready((function() {
                            return n.updateARIAAttributes()
                        })), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function() {
                        return e.prototype.createEl.call(this, "div", {
                            className: "vjs-volume-bar vjs-slider-bar"
                        }, {
                            "aria-label": this.localize("Volume Level"),
                            "aria-live": "polite"
                        })
                    }, i.handleMouseDown = function(t) {
                        Ua(t) && e.prototype.handleMouseDown.call(this, t)
                    }, i.handleMouseMove = function(e) {
                        Ua(e) && (this.checkMuted(), this.player_.volume(this.calculateDistance(e)))
                    }, i.checkMuted = function() {
                        this.player_.muted() && this.player_.muted(!1)
                    }, i.getPercent = function() {
                        return this.player_.muted() ? 0 : this.player_.volume()
                    }, i.stepForward = function() {
                        this.checkMuted(), this.player_.volume(this.player_.volume() + .1)
                    }, i.stepBack = function() {
                        this.checkMuted(), this.player_.volume(this.player_.volume() - .1)
                    }, i.updateARIAAttributes = function(e) {
                        var t = this.player_.muted() ? 0 : this.volumeAsPercentage_();
                        this.el_.setAttribute("aria-valuenow", t), this.el_.setAttribute("aria-valuetext", t + "%")
                    }, i.volumeAsPercentage_ = function() {
                        return Math.round(100 * this.player_.volume())
                    }, i.updateLastVolume_ = function() {
                        var e = this,
                            t = this.player_.volume();
                        this.one("sliderinactive", (function() {
                            0 === e.player_.volume() && e.player_.lastVolume_(t)
                        }))
                    }, t
                }(Eu);
                Bu.prototype.options_ = {
                    children: ["volumeLevel"],
                    barName: "volumeLevel"
                }, Bu.prototype.playerEvent = "volumechange", Ao.registerComponent("VolumeBar", Bu);
                var Nu = function(e) {
                    function t(t, i) {
                        var n;
                        return void 0 === i && (i = {}), i.vertical = i.vertical || !1, (void 0 === i.volumeBar || sa(i.volumeBar)) && (i.volumeBar = i.volumeBar || {}, i.volumeBar.vertical = i.vertical),
                        function(e, t) {
                            t.tech_ && !t.tech_.featuresVolumeControl && e.addClass("vjs-hidden"), e.on(t, "loadstart", (function() {
                                t.tech_.featuresVolumeControl ? e.removeClass("vjs-hidden") : e.addClass("vjs-hidden")
                            }))
                        }(Lo(n = e.call(this, t, i) || this), t), n.throttledHandleMouseMove = uo(lo(Lo(n), n.handleMouseMove), oo), n.on("mousedown", n.handleMouseDown), n.on("touchstart", n.handleMouseDown), n.on(n.volumeBar, ["focus", "slideractive"], (function() {
                            n.volumeBar.addClass("vjs-slider-active"), n.addClass("vjs-slider-active"), n.trigger("slideractive")
                        })), n.on(n.volumeBar, ["blur", "sliderinactive"], (function() {
                            n.volumeBar.removeClass("vjs-slider-active"), n.removeClass("vjs-slider-active"), n.trigger("sliderinactive")
                        })), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function() {
                        var t = "vjs-volume-horizontal";
                        return this.options_.vertical && (t = "vjs-volume-vertical"), e.prototype.createEl.call(this, "div", {
                            className: "vjs-volume-control vjs-control " + t
                        })
                    }, i.handleMouseDown = function(e) {
                        var t = this.el_.ownerDocument;
                        this.on(t, "mousemove", this.throttledHandleMouseMove), this.on(t, "touchmove", this.throttledHandleMouseMove), this.on(t, "mouseup", this.handleMouseUp), this.on(t, "touchend", this.handleMouseUp)
                    }, i.handleMouseUp = function(e) {
                        var t = this.el_.ownerDocument;
                        this.off(t, "mousemove", this.throttledHandleMouseMove), this.off(t, "touchmove", this.throttledHandleMouseMove), this.off(t, "mouseup", this.handleMouseUp), this.off(t, "touchend", this.handleMouseUp)
                    }, i.handleMouseMove = function(e) {
                        this.volumeBar.handleMouseMove(e)
                    }, t
                }(Ao);
                Nu.prototype.options_ = {
                    children: ["volumeBar"]
                }, Ao.registerComponent("VolumeControl", Nu);
                var Fu = function(e) {
                    function t(t, i) {
                        var n;
                        return function(e, t) {
                            t.tech_ && !t.tech_.featuresMuteControl && e.addClass("vjs-hidden"), e.on(t, "loadstart", (function() {
                                t.tech_.featuresMuteControl ? e.removeClass("vjs-hidden") : e.addClass("vjs-hidden")
                            }))
                        }(Lo(n = e.call(this, t, i) || this), t), n.on(t, ["loadstart", "volumechange"], n.update), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-mute-control " + e.prototype.buildCSSClass.call(this)
                    }, i.handleClick = function(e) {
                        var t = this.player_.volume(),
                            i = this.player_.lastVolume_();
                        if (0 === t) {
                            var n = i < .1 ? .1 : i;
                            this.player_.volume(n), this.player_.muted(!1)
                        } else this.player_.muted(!this.player_.muted())
                    }, i.update = function(e) {
                        this.updateIcon_(), this.updateControlText_()
                    }, i.updateIcon_ = function() {
                        var e = this.player_.volume(),
                            t = 3;
                        No && this.player_.tech_ && this.player_.tech_.el_ && this.player_.muted(this.player_.tech_.el_.muted), 0 === e || this.player_.muted() ? t = 0 : e < .33 ? t = 1 : e < .67 && (t = 2);
                        for (var i = 0; i < 4; i++) ya(this.el_, "vjs-vol-" + i);
                        ga(this.el_, "vjs-vol-" + t)
                    }, i.updateControlText_ = function() {
                        var e = this.player_.muted() || 0 === this.player_.volume() ? "Unmute" : "Mute";
                        this.controlText() !== e && this.controlText(e)
                    }, t
                }(fu);
                Fu.prototype.controlText_ = "Mute", Ao.registerComponent("MuteToggle", Fu);
                var Vu = function(e) {
                    function t(t, i) {
                        var n;
                        return void 0 === i && (i = {}), void 0 !== i.inline ? i.inline = i.inline : i.inline = !0, (void 0 === i.volumeControl || sa(i.volumeControl)) && (i.volumeControl = i.volumeControl || {}, i.volumeControl.vertical = !i.inline), (n = e.call(this, t, i) || this)
                            .on(t, ["loadstart"], n.volumePanelState_), n.on(n.muteToggle, "keyup", n.handleKeyPress), n.on(n.volumeControl, "keyup", n.handleVolumeControlKeyUp), n.on("keydown", n.handleKeyPress), n.on("mouseover", n.handleMouseOver), n.on("mouseout", n.handleMouseOut), n.on(n.volumeControl, ["slideractive"], n.sliderActive_), n.on(n.volumeControl, ["sliderinactive"], n.sliderInactive_), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.sliderActive_ = function() {
                        this.addClass("vjs-slider-active")
                    }, i.sliderInactive_ = function() {
                        this.removeClass("vjs-slider-active")
                    }, i.volumePanelState_ = function() {
                        this.volumeControl.hasClass("vjs-hidden") && this.muteToggle.hasClass("vjs-hidden") && this.addClass("vjs-hidden"), this.volumeControl.hasClass("vjs-hidden") && !this.muteToggle.hasClass("vjs-hidden") && this.addClass("vjs-mute-toggle-only")
                    }, i.createEl = function() {
                        var t = "vjs-volume-panel-horizontal";
                        return this.options_.inline || (t = "vjs-volume-panel-vertical"), e.prototype.createEl.call(this, "div", {
                            className: "vjs-volume-panel vjs-control " + t
                        })
                    }, i.dispose = function() {
                        this.handleMouseOut(), e.prototype.dispose.call(this)
                    }, i.handleVolumeControlKeyUp = function(e) {
                        Oi.isEventKey(e, "Esc") && this.muteToggle.focus()
                    }, i.handleMouseOver = function(e) {
                        this.addClass("vjs-hover"), eo(Ii, "keyup", lo(this, this.handleKeyPress))
                    }, i.handleMouseOut = function(e) {
                        this.removeClass("vjs-hover"), to(Ii, "keyup", lo(this, this.handleKeyPress))
                    }, i.handleKeyPress = function(e) {
                        Oi.isEventKey(e, "Esc") && this.handleMouseOut()
                    }, t
                }(Ao);
                Vu.prototype.options_ = {
                    children: ["muteToggle", "volumeControl"]
                }, Ao.registerComponent("VolumePanel", Vu);
                var Hu = function(e) {
                    function t(t, i) {
                        var n;
                        return n = e.call(this, t, i) || this, i && (n.menuButton_ = i.menuButton), n.focusedChild_ = -1, n.on("keydown", n.handleKeyDown), n.boundHandleBlur_ = lo(Lo(n), n.handleBlur), n.boundHandleTapClick_ = lo(Lo(n), n.handleTapClick), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.addEventListenerForItem = function(e) {
                        e instanceof Ao && (this.on(e, "blur", this.boundHandleBlur_), this.on(e, ["tap", "click"], this.boundHandleTapClick_))
                    }, i.removeEventListenerForItem = function(e) {
                        e instanceof Ao && (this.off(e, "blur", this.boundHandleBlur_), this.off(e, ["tap", "click"], this.boundHandleTapClick_))
                    }, i.removeChild = function(t) {
                        "string" == typeof t && (t = this.getChild(t)), this.removeEventListenerForItem(t), e.prototype.removeChild.call(this, t)
                    }, i.addItem = function(e) {
                        var t = this.addChild(e);
                        t && this.addEventListenerForItem(t)
                    }, i.createEl = function() {
                        var t = this.options_.contentElType || "ul";
                        this.contentEl_ = pa(t, {
                            className: "vjs-menu-content"
                        }), this.contentEl_.setAttribute("role", "menu");
                        var i = e.prototype.createEl.call(this, "div", {
                            append: this.contentEl_,
                            className: "vjs-menu"
                        });
                        return i.appendChild(this.contentEl_), eo(i, "click", (function(e) {
                            e.preventDefault(), e.stopImmediatePropagation()
                        })), i
                    }, i.dispose = function() {
                        this.contentEl_ = null, this.boundHandleBlur_ = null, this.boundHandleTapClick_ = null, e.prototype.dispose.call(this)
                    }, i.handleBlur = function(e) {
                        var t = e.relatedTarget || Ii.activeElement;
                        if (!this.children()
                            .some((function(e) {
                            return e.el() === t
                        }))) {
                            var i = this.menuButton_;
                            i && i.buttonPressed_ && t !== i.el()
                                .firstChild && i.unpressButton()
                        }
                    }, i.handleTapClick = function(e) {
                        if (this.menuButton_) {
                            this.menuButton_.unpressButton();
                            var t = this.children();
                            if (!Array.isArray(t)) return;
                            var i = t.filter((function(t) {
                                return t.el() === e.target
                            }))[0];
                            if (!i) return;
                            "CaptionSettingsMenuItem" !== i.name() && this.menuButton_.focus()
                        }
                    }, i.handleKeyDown = function(e) {
                        Oi.isEventKey(e, "Left") || Oi.isEventKey(e, "Down") ? (e.preventDefault(), e.stopPropagation(), this.stepForward()) : (Oi.isEventKey(e, "Right") || Oi.isEventKey(e, "Up")) && (e.preventDefault(), e.stopPropagation(), this.stepBack())
                    }, i.stepForward = function() {
                        var e = 0;
                        void 0 !== this.focusedChild_ && (e = this.focusedChild_ + 1), this.focus(e)
                    }, i.stepBack = function() {
                        var e = 0;
                        void 0 !== this.focusedChild_ && (e = this.focusedChild_ - 1), this.focus(e)
                    }, i.focus = function(e) {
                        void 0 === e && (e = 0);
                        var t = this.children()
                            .slice();
                        t.length && t[0].className && /vjs-menu-title/.test(t[0].className) && t.shift(), t.length > 0 && (e < 0 ? e = 0 : e >= t.length && (e = t.length - 1), this.focusedChild_ = e, t[e].el_.focus())
                    }, t
                }(Ao);
                Ao.registerComponent("Menu", Hu);
                var qu = function(e) {
                    function t(t, i) {
                        var n;
                        void 0 === i && (i = {}), (n = e.call(this, t, i) || this)
                            .menuButton_ = new fu(t, i), n.menuButton_.controlText(n.controlText_), n.menuButton_.el_.setAttribute("aria-haspopup", "true");
                        var r = fu.prototype.buildCSSClass();
                        return n.menuButton_.el_.className = n.buildCSSClass() + " " + r, n.menuButton_.removeClass("vjs-control"), n.addChild(n.menuButton_), n.update(), n.enabled_ = !0, n.on(n.menuButton_, "tap", n.handleClick), n.on(n.menuButton_, "click", n.handleClick), n.on(n.menuButton_, "keydown", n.handleKeyDown), n.on(n.menuButton_, "mouseenter", (function() {
                            n.addClass("vjs-hover"), n.menu.show(), eo(Ii, "keyup", lo(Lo(n), n.handleMenuKeyUp))
                        })), n.on("mouseleave", n.handleMouseLeave), n.on("keydown", n.handleSubmenuKeyDown), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.update = function() {
                        var e = this.createMenu();
                        this.menu && (this.menu.dispose(), this.removeChild(this.menu)), this.menu = e, this.addChild(e), this.buttonPressed_ = !1, this.menuButton_.el_.setAttribute("aria-expanded", "false"), this.items && this.items.length <= this.hideThreshold_ ? this.hide() : this.show()
                    }, i.createMenu = function() {
                        var e = new Hu(this.player_, {
                            menuButton: this
                        });
                        if (this.hideThreshold_ = 0, this.options_.title) {
                            var t = pa("li", {
                                className: "vjs-menu-title",
                                innerHTML: jo(this.options_.title),
                                tabIndex: -1
                            });
                            this.hideThreshold_ += 1;
                            var i = new Ao(this.player_, {
                                el: t
                            });
                            e.addItem(i)
                        }
                        if (this.items = this.createItems(), this.items) for (var n = 0; n < this.items.length; n++) e.addItem(this.items[n]);
                        return e
                    }, i.createItems = function() {}, i.createEl = function() {
                        return e.prototype.createEl.call(this, "div", {
                            className: this.buildWrapperCSSClass()
                        }, {})
                    }, i.buildWrapperCSSClass = function() {
                        var t = "vjs-menu-button";
                        return !0 === this.options_.inline ? t += "-inline" : t += "-popup", "vjs-menu-button " + t + " " + fu.prototype.buildCSSClass() + " " + e.prototype.buildCSSClass.call(this)
                    }, i.buildCSSClass = function() {
                        var t = "vjs-menu-button";
                        return !0 === this.options_.inline ? t += "-inline" : t += "-popup", "vjs-menu-button " + t + " " + e.prototype.buildCSSClass.call(this)
                    }, i.controlText = function(e, t) {
                        return void 0 === t && (t = this.menuButton_.el()), this.menuButton_.controlText(e, t)
                    }, i.dispose = function() {
                        this.handleMouseLeave(), e.prototype.dispose.call(this)
                    }, i.handleClick = function(e) {
                        this.buttonPressed_ ? this.unpressButton() : this.pressButton()
                    }, i.handleMouseLeave = function(e) {
                        this.removeClass("vjs-hover"), to(Ii, "keyup", lo(this, this.handleMenuKeyUp))
                    }, i.focus = function() {
                        this.menuButton_.focus()
                    }, i.blur = function() {
                        this.menuButton_.blur()
                    }, i.handleKeyDown = function(e) {
                        Oi.isEventKey(e, "Esc") || Oi.isEventKey(e, "Tab") ? (this.buttonPressed_ && this.unpressButton(), Oi.isEventKey(e, "Tab") || (e.preventDefault(), this.menuButton_.focus())) : (Oi.isEventKey(e, "Up") || Oi.isEventKey(e, "Down")) && (this.buttonPressed_ || (e.preventDefault(), this.pressButton()))
                    }, i.handleMenuKeyUp = function(e) {
                        (Oi.isEventKey(e, "Esc") || Oi.isEventKey(e, "Tab")) && this.removeClass("vjs-hover")
                    }, i.handleSubmenuKeyPress = function(e) {
                        this.handleSubmenuKeyDown(e)
                    }, i.handleSubmenuKeyDown = function(e) {
                        (Oi.isEventKey(e, "Esc") || Oi.isEventKey(e, "Tab")) && (this.buttonPressed_ && this.unpressButton(), Oi.isEventKey(e, "Tab") || (e.preventDefault(), this.menuButton_.focus()))
                    }, i.pressButton = function() {
                        if (this.enabled_) {
                            if (this.buttonPressed_ = !0, this.menu.show(), this.menu.lockShowing(), this.menuButton_.el_.setAttribute("aria-expanded", "true"), No && da()) return;
                            this.menu.focus()
                        }
                    }, i.unpressButton = function() {
                        this.enabled_ && (this.buttonPressed_ = !1, this.menu.unlockShowing(), this.menu.hide(), this.menuButton_.el_.setAttribute("aria-expanded", "false"))
                    }, i.disable = function() {
                        this.unpressButton(), this.enabled_ = !1, this.addClass("vjs-disabled"), this.menuButton_.disable()
                    }, i.enable = function() {
                        this.enabled_ = !0, this.removeClass("vjs-disabled"), this.menuButton_.enable()
                    }, t
                }(Ao);
                Ao.registerComponent("MenuButton", qu);
                var zu = function(e) {
                    function t(t, i) {
                        var n, r = i.tracks;
                        if ((n = e.call(this, t, i) || this)
                            .items.length <= 1 && n.hide(), !r) return Lo(n);
                        var s = lo(Lo(n), n.update);
                        return r.addEventListener("removetrack", s), r.addEventListener("addtrack", s), n.player_.on("ready", s), n.player_.on("dispose", (function() {
                            r.removeEventListener("removetrack", s), r.removeEventListener("addtrack", s)
                        })), n
                    }
                    return Co(t, e), t
                }(qu);
                Ao.registerComponent("TrackButton", zu);
                var Wu = ["Tab", "Esc", "Up", "Down", "Right", "Left"],
                    Gu = function(e) {
                        function t(t, i) {
                            var n;
                            return (n = e.call(this, t, i) || this)
                                .selectable = i.selectable, n.isSelected_ = i.selected || !1, n.multiSelectable = i.multiSelectable, n.selected(n.isSelected_), n.selectable ? n.multiSelectable ? n.el_.setAttribute("role", "menuitemcheckbox") : n.el_.setAttribute("role", "menuitemradio") : n.el_.setAttribute("role", "menuitem"), n
                        }
                        Co(t, e);
                        var i = t.prototype;
                        return i.createEl = function(t, i, n) {
                            return this.nonIconControl = !0, e.prototype.createEl.call(this, "li", na({
                                className: "vjs-menu-item",
                                innerHTML: '<span class="vjs-menu-item-text">' + this.localize(this.options_.label) + "</span>",
                                tabIndex: -1
                            }, i), n)
                        }, i.handleKeyDown = function(t) {
                            Wu.some((function(e) {
                                return Oi.isEventKey(t, e)
                            })) || e.prototype.handleKeyDown.call(this, t)
                        }, i.handleClick = function(e) {
                            this.selected(!0)
                        }, i.selected = function(e) {
                            this.selectable && (e ? (this.addClass("vjs-selected"), this.el_.setAttribute("aria-checked", "true"), this.controlText(", selected"), this.isSelected_ = !0) : (this.removeClass("vjs-selected"), this.el_.setAttribute("aria-checked", "false"), this.controlText(""), this.isSelected_ = !1))
                        }, t
                    }(ou);
                Ao.registerComponent("MenuItem", Gu);
                var Yu = function(e) {
                    function t(t, i) {
                        var n, r = i.track,
                            s = t.textTracks();
                        i.label = r.label || r.language || "Unknown", i.selected = "showing" === r.mode, (n = e.call(this, t, i) || this)
                            .track = r, n.kinds = (i.kinds || [i.kind || n.track.kind])
                            .filter(Boolean);
                        var a, o = function() {
                            for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                            n.handleTracksChange.apply(Lo(n), t)
                        }, l = function() {
                            for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                            n.handleSelectedLanguageChange.apply(Lo(n), t)
                        };
                        (t.on(["loadstart", "texttrackchange"], o), s.addEventListener("change", o), s.addEventListener("selectedlanguagechange", l), n.on("dispose", (function() {
                            t.off(["loadstart", "texttrackchange"], o), s.removeEventListener("change", o), s.removeEventListener("selectedlanguagechange", l)
                        })), void 0 === s.onchange) && n.on(["tap", "click"], (function() {
                            if ("object" != typeof Ci.Event) try {
                                a = new Ci.Event("change")
                            } catch (e) {}
                            a || (a = Ii.createEvent("Event"))
                                .initEvent("change", !0, !0), s.dispatchEvent(a)
                        }));
                        return n.handleTracksChange(), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.handleClick = function(t) {
                        var i = this.track,
                            n = this.player_.textTracks();
                        if (e.prototype.handleClick.call(this, t), n) for (var r = 0; r < n.length; r++) {
                            var s = n[r]; - 1 !== this.kinds.indexOf(s.kind) && (s === i ? "showing" !== s.mode && (s.mode = "showing") : "disabled" !== s.mode && (s.mode = "disabled"))
                        }
                    }, i.handleTracksChange = function(e) {
                        var t = "showing" === this.track.mode;
                        t !== this.isSelected_ && this.selected(t)
                    }, i.handleSelectedLanguageChange = function(e) {
                        if ("showing" === this.track.mode) {
                            var t = this.player_.cache_.selectedLanguage;
                            if (t && t.enabled && t.language === this.track.language && t.kind !== this.track.kind) return;
                            this.player_.cache_.selectedLanguage = {
                                enabled: !0,
                                language: this.track.language,
                                kind: this.track.kind
                            }
                        }
                    }, i.dispose = function() {
                        this.track = null, e.prototype.dispose.call(this)
                    }, t
                }(Gu);
                Ao.registerComponent("TextTrackMenuItem", Yu);
                var Xu = function(e) {
                    function t(t, i) {
                        return i.track = {
                            player: t,
                            kind: i.kind,
                            kinds: i.kinds,
                            default: !1,
                            mode: "disabled"
                        }, i.kinds || (i.kinds = [i.kind]), i.label ? i.track.label = i.label : i.track.label = i.kinds.join(" and ") + " off", i.selectable = !0, i.multiSelectable = !1, e.call(this, t, i) || this
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.handleTracksChange = function(e) {
                        for (var t = this.player()
                            .textTracks(), i = !0, n = 0, r = t.length; n < r; n++) {
                            var s = t[n];
                            if (this.options_.kinds.indexOf(s.kind) > -1 && "showing" === s.mode) {
                                i = !1;
                                break
                            }
                        }
                        i !== this.isSelected_ && this.selected(i)
                    }, i.handleSelectedLanguageChange = function(e) {
                        for (var t = this.player()
                            .textTracks(), i = !0, n = 0, r = t.length; n < r; n++) {
                            var s = t[n];
                            if (["captions", "descriptions", "subtitles"].indexOf(s.kind) > -1 && "showing" === s.mode) {
                                i = !1;
                                break
                            }
                        }
                        i && (this.player_.cache_.selectedLanguage = {
                            enabled: !1
                        })
                    }, t
                }(Yu);
                Ao.registerComponent("OffTextTrackMenuItem", Xu);
                var Ku = function(e) {
                    function t(t, i) {
                        return void 0 === i && (i = {}), i.tracks = t.textTracks(), e.call(this, t, i) || this
                    }
                    return Co(t, e), t.prototype.createItems = function(e, t) {
                        var i;
                        void 0 === e && (e = []), void 0 === t && (t = Yu), this.label_ && (i = this.label_ + " off"), e.push(new Xu(this.player_, {
                            kinds: this.kinds_,
                            kind: this.kind_,
                            label: i
                        })), this.hideThreshold_ += 1;
                        var n = this.player_.textTracks();
                        Array.isArray(this.kinds_) || (this.kinds_ = [this.kind_]);
                        for (var r = 0; r < n.length; r++) {
                            var s = n[r];
                            if (this.kinds_.indexOf(s.kind) > -1) {
                                var a = new t(this.player_, {
                                    track: s,
                                    kinds: this.kinds_,
                                    kind: this.kind_,
                                    selectable: !0,
                                    multiSelectable: !1
                                });
                                a.addClass("vjs-" + s.kind + "-menu-item"), e.push(a)
                            }
                        }
                        return e
                    }, t
                }(zu);
                Ao.registerComponent("TextTrackButton", Ku);
                var Qu = function(e) {
                    function t(t, i) {
                        var n, r = i.track,
                            s = i.cue,
                            a = t.currentTime();
                        return i.selectable = !0, i.multiSelectable = !1, i.label = s.text, i.selected = s.startTime <= a && a < s.endTime, (n = e.call(this, t, i) || this)
                            .track = r, n.cue = s, r.addEventListener("cuechange", lo(Lo(n), n.update)), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.handleClick = function(t) {
                        e.prototype.handleClick.call(this), this.player_.currentTime(this.cue.startTime), this.update(this.cue.startTime)
                    }, i.update = function(e) {
                        var t = this.cue,
                            i = this.player_.currentTime();
                        this.selected(t.startTime <= i && i < t.endTime)
                    }, t
                }(Gu);
                Ao.registerComponent("ChaptersTrackMenuItem", Qu);
                var Ju = function(e) {
                    function t(t, i, n) {
                        return e.call(this, t, i, n) || this
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-chapters-button " + e.prototype.buildCSSClass.call(this)
                    }, i.buildWrapperCSSClass = function() {
                        return "vjs-chapters-button " + e.prototype.buildWrapperCSSClass.call(this)
                    }, i.update = function(t) {
                        this.track_ && (!t || "addtrack" !== t.type && "removetrack" !== t.type) || this.setTrack(this.findChaptersTrack()), e.prototype.update.call(this)
                    }, i.setTrack = function(e) {
                        if (this.track_ !== e) {
                            if (this.updateHandler_ || (this.updateHandler_ = this.update.bind(this)), this.track_) {
                                var t = this.player_.remoteTextTrackEls()
                                    .getTrackElementByTrack_(this.track_);
                                t && t.removeEventListener("load", this.updateHandler_), this.track_ = null
                            }
                            if (this.track_ = e, this.track_) {
                                this.track_.mode = "hidden";
                                var i = this.player_.remoteTextTrackEls()
                                    .getTrackElementByTrack_(this.track_);
                                i && i.addEventListener("load", this.updateHandler_)
                            }
                        }
                    }, i.findChaptersTrack = function() {
                        for (var e = this.player_.textTracks() || [], t = e.length - 1; t >= 0; t--) {
                            var i = e[t];
                            if (i.kind === this.kind_) return i
                        }
                    }, i.getMenuCaption = function() {
                        return this.track_ && this.track_.label ? this.track_.label : this.localize(jo(this.kind_))
                    }, i.createMenu = function() {
                        return this.options_.title = this.getMenuCaption(), e.prototype.createMenu.call(this)
                    }, i.createItems = function() {
                        var e = [];
                        if (!this.track_) return e;
                        var t = this.track_.cues;
                        if (!t) return e;
                        for (var i = 0, n = t.length; i < n; i++) {
                            var r = t[i],
                                s = new Qu(this.player_, {
                                    track: this.track_,
                                    cue: r
                                });
                            e.push(s)
                        }
                        return e
                    }, t
                }(Ku);
                Ju.prototype.kind_ = "chapters", Ju.prototype.controlText_ = "Chapters", Ao.registerComponent("ChaptersButton", Ju);
                var Zu = function(e) {
                    function t(t, i, n) {
                        var r;
                        r = e.call(this, t, i, n) || this;
                        var s = t.textTracks(),
                            a = lo(Lo(r), r.handleTracksChange);
                        return s.addEventListener("change", a), r.on("dispose", (function() {
                            s.removeEventListener("change", a)
                        })), r
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.handleTracksChange = function(e) {
                        for (var t = this.player()
                            .textTracks(), i = !1, n = 0, r = t.length; n < r; n++) {
                            var s = t[n];
                            if (s.kind !== this.kind_ && "showing" === s.mode) {
                                i = !0;
                                break
                            }
                        }
                        i ? this.disable() : this.enable()
                    }, i.buildCSSClass = function() {
                        return "vjs-descriptions-button " + e.prototype.buildCSSClass.call(this)
                    }, i.buildWrapperCSSClass = function() {
                        return "vjs-descriptions-button " + e.prototype.buildWrapperCSSClass.call(this)
                    }, t
                }(Ku);
                Zu.prototype.kind_ = "descriptions", Zu.prototype.controlText_ = "Descriptions", Ao.registerComponent("DescriptionsButton", Zu);
                var $u = function(e) {
                    function t(t, i, n) {
                        return e.call(this, t, i, n) || this
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-subtitles-button " + e.prototype.buildCSSClass.call(this)
                    }, i.buildWrapperCSSClass = function() {
                        return "vjs-subtitles-button " + e.prototype.buildWrapperCSSClass.call(this)
                    }, t
                }(Ku);
                $u.prototype.kind_ = "subtitles", $u.prototype.controlText_ = "Subtitles", Ao.registerComponent("SubtitlesButton", $u);
                var ec = function(e) {
                    function t(t, i) {
                        var n;
                        return i.track = {
                            player: t,
                            kind: i.kind,
                            label: i.kind + " settings",
                            selectable: !1,
                            default: !1,
                            mode: "disabled"
                        }, i.selectable = !1, i.name = "CaptionSettingsMenuItem", (n = e.call(this, t, i) || this)
                            .addClass("vjs-texttrack-settings"), n.controlText(", opens " + i.kind + " settings dialog"), n
                    }
                    return Co(t, e), t.prototype.handleClick = function(e) {
                        this.player()
                            .getChild("textTrackSettings")
                            .open()
                    }, t
                }(Yu);
                Ao.registerComponent("CaptionSettingsMenuItem", ec);
                var tc = function(e) {
                    function t(t, i, n) {
                        return e.call(this, t, i, n) || this
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-captions-button " + e.prototype.buildCSSClass.call(this)
                    }, i.buildWrapperCSSClass = function() {
                        return "vjs-captions-button " + e.prototype.buildWrapperCSSClass.call(this)
                    }, i.createItems = function() {
                        var t = [];
                        return this.player()
                            .tech_ && this.player()
                            .tech_.featuresNativeTextTracks || !this.player()
                            .getChild("textTrackSettings") || (t.push(new ec(this.player_, {
                            kind: this.kind_
                        })), this.hideThreshold_ += 1), e.prototype.createItems.call(this, t)
                    }, t
                }(Ku);
                tc.prototype.kind_ = "captions", tc.prototype.controlText_ = "Captions", Ao.registerComponent("CaptionsButton", tc);
                var ic = function(e) {
                    function t() {
                        return e.apply(this, arguments) || this
                    }
                    return Co(t, e), t.prototype.createEl = function(t, i, n) {
                        var r = '<span class="vjs-menu-item-text">' + this.localize(this.options_.label);
                        return "captions" === this.options_.track.kind && (r += '\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> ' + this.localize("Captions") + "</span>\n      "), r += "</span>", e.prototype.createEl.call(this, t, na({
                            innerHTML: r
                        }, i), n)
                    }, t
                }(Yu);
                Ao.registerComponent("SubsCapsMenuItem", ic);
                var nc = function(e) {
                    function t(t, i) {
                        var n;
                        return void 0 === i && (i = {}), (n = e.call(this, t, i) || this)
                            .label_ = "subtitles", ["en", "en-us", "en-ca", "fr-ca"].indexOf(n.player_.language_) > -1 && (n.label_ = "captions"), n.menuButton_.controlText(jo(n.label_)), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-subs-caps-button " + e.prototype.buildCSSClass.call(this)
                    }, i.buildWrapperCSSClass = function() {
                        return "vjs-subs-caps-button " + e.prototype.buildWrapperCSSClass.call(this)
                    }, i.createItems = function() {
                        var t = [];
                        return this.player()
                            .tech_ && this.player()
                            .tech_.featuresNativeTextTracks || !this.player()
                            .getChild("textTrackSettings") || (t.push(new ec(this.player_, {
                            kind: this.label_
                        })), this.hideThreshold_ += 1), t = e.prototype.createItems.call(this, t, ic)
                    }, t
                }(Ku);
                nc.prototype.kinds_ = ["captions", "subtitles"], nc.prototype.controlText_ = "Subtitles", Ao.registerComponent("SubsCapsButton", nc);
                var rc = function(e) {
                    function t(t, i) {
                        var n, r = i.track,
                            s = t.audioTracks();
                        i.label = r.label || r.language || "Unknown", i.selected = r.enabled, (n = e.call(this, t, i) || this)
                            .track = r, n.addClass("vjs-" + r.kind + "-menu-item");
                        var a = function() {
                            for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                            n.handleTracksChange.apply(Lo(n), t)
                        };
                        return s.addEventListener("change", a), n.on("dispose", (function() {
                            s.removeEventListener("change", a)
                        })), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function(t, i, n) {
                        var r = '<span class="vjs-menu-item-text">' + this.localize(this.options_.label);
                        return "main-desc" === this.options_.track.kind && (r += '\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> ' + this.localize("Descriptions") + "</span>\n      "), r += "</span>", e.prototype.createEl.call(this, t, na({
                            innerHTML: r
                        }, i), n)
                    }, i.handleClick = function(t) {
                        var i = this.player_.audioTracks();
                        e.prototype.handleClick.call(this, t);
                        for (var n = 0; n < i.length; n++) {
                            var r = i[n];
                            r.enabled = r === this.track
                        }
                    }, i.handleTracksChange = function(e) {
                        this.selected(this.track.enabled)
                    }, t
                }(Gu);
                Ao.registerComponent("AudioTrackMenuItem", rc);
                var sc = function(e) {
                    function t(t, i) {
                        return void 0 === i && (i = {}), i.tracks = t.audioTracks(), e.call(this, t, i) || this
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-audio-button " + e.prototype.buildCSSClass.call(this)
                    }, i.buildWrapperCSSClass = function() {
                        return "vjs-audio-button " + e.prototype.buildWrapperCSSClass.call(this)
                    }, i.createItems = function(e) {
                        void 0 === e && (e = []), this.hideThreshold_ = 1;
                        for (var t = this.player_.audioTracks(), i = 0; i < t.length; i++) {
                            var n = t[i];
                            e.push(new rc(this.player_, {
                                track: n,
                                selectable: !0,
                                multiSelectable: !1
                            }))
                        }
                        return e
                    }, t
                }(zu);
                sc.prototype.controlText_ = "Audio Track", Ao.registerComponent("AudioTrackButton", sc);
                var ac = function(e) {
                    function t(t, i) {
                        var n, r = i.rate,
                            s = parseFloat(r, 10);
                        return i.label = r, i.selected = 1 === s, i.selectable = !0, i.multiSelectable = !1, (n = e.call(this, t, i) || this)
                            .label = r, n.rate = s, n.on(t, "ratechange", n.update), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.handleClick = function(t) {
                        e.prototype.handleClick.call(this), this.player()
                            .playbackRate(this.rate)
                    }, i.update = function(e) {
                        this.selected(this.player()
                            .playbackRate() === this.rate)
                    }, t
                }(Gu);
                ac.prototype.contentElType = "button", Ao.registerComponent("PlaybackRateMenuItem", ac);
                var oc = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .updateVisibility(), n.updateLabel(), n.on(t, "loadstart", n.updateVisibility), n.on(t, "ratechange", n.updateLabel), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function() {
                        var t = e.prototype.createEl.call(this);
                        return this.labelEl_ = pa("div", {
                            className: "vjs-playback-rate-value",
                            innerHTML: "1x"
                        }), t.appendChild(this.labelEl_), t
                    }, i.dispose = function() {
                        this.labelEl_ = null, e.prototype.dispose.call(this)
                    }, i.buildCSSClass = function() {
                        return "vjs-playback-rate " + e.prototype.buildCSSClass.call(this)
                    }, i.buildWrapperCSSClass = function() {
                        return "vjs-playback-rate " + e.prototype.buildWrapperCSSClass.call(this)
                    }, i.createMenu = function() {
                        var e = new Hu(this.player()),
                            t = this.playbackRates();
                        if (t) for (var i = t.length - 1; i >= 0; i--) e.addChild(new ac(this.player(), {
                            rate: t[i] + "x"
                        }));
                        return e
                    }, i.updateARIAAttributes = function() {
                        this.el()
                            .setAttribute("aria-valuenow", this.player()
                            .playbackRate())
                    }, i.handleClick = function(e) {
                        for (var t = this.player()
                            .playbackRate(), i = this.playbackRates(), n = i[0], r = 0; r < i.length; r++) if (i[r] > t) {
                            n = i[r];
                            break
                        }
                        this.player()
                            .playbackRate(n)
                    }, i.playbackRates = function() {
                        return this.options_.playbackRates || this.options_.playerOptions && this.options_.playerOptions.playbackRates
                    }, i.playbackRateSupported = function() {
                        return this.player()
                            .tech_ && this.player()
                            .tech_.featuresPlaybackRate && this.playbackRates() && this.playbackRates()
                            .length > 0
                    }, i.updateVisibility = function(e) {
                        this.playbackRateSupported() ? this.removeClass("vjs-hidden") : this.addClass("vjs-hidden")
                    }, i.updateLabel = function(e) {
                        this.playbackRateSupported() && (this.labelEl_.innerHTML = this.player()
                            .playbackRate() + "x")
                    }, t
                }(qu);
                oc.prototype.controlText_ = "Playback Rate", Ao.registerComponent("PlaybackRateMenuButton", oc);
                var lc = function(e) {
                    function t() {
                        return e.apply(this, arguments) || this
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-spacer " + e.prototype.buildCSSClass.call(this)
                    }, i.createEl = function() {
                        return e.prototype.createEl.call(this, "div", {
                            className: this.buildCSSClass()
                        })
                    }, t
                }(Ao);
                Ao.registerComponent("Spacer", lc);
                var uc = function(e) {
                    function t() {
                        return e.apply(this, arguments) || this
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-custom-control-spacer " + e.prototype.buildCSSClass.call(this)
                    }, i.createEl = function() {
                        var t = e.prototype.createEl.call(this, {
                            className: this.buildCSSClass()
                        });
                        return t.innerHTML = " ", t
                    }, t
                }(lc);
                Ao.registerComponent("CustomControlSpacer", uc);
                var cc = function(e) {
                    function t() {
                        return e.apply(this, arguments) || this
                    }
                    return Co(t, e), t.prototype.createEl = function() {
                        return e.prototype.createEl.call(this, "div", {
                            className: "vjs-control-bar",
                            dir: "ltr"
                        })
                    }, t
                }(Ao);
                cc.prototype.options_ = {
                    children: ["playToggle", "volumePanel", "currentTimeDisplay", "timeDivider", "durationDisplay", "progressControl", "liveDisplay", "seekToLive", "remainingTimeDisplay", "customControlSpacer", "playbackRateMenuButton", "chaptersButton", "descriptionsButton", "subsCapsButton", "audioTrackButton", "fullscreenToggle"]
                }, "exitPictureInPicture" in Ii && cc.prototype.options_.children.splice(cc.prototype.options_.children.length - 1, 0, "pictureInPictureToggle"), Ao.registerComponent("ControlBar", cc);
                var dc = function(e) {
                    function t(t, i) {
                        var n;
                        return (n = e.call(this, t, i) || this)
                            .on(t, "error", n.open), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.buildCSSClass = function() {
                        return "vjs-error-display " + e.prototype.buildCSSClass.call(this)
                    }, i.content = function() {
                        var e = this.player()
                            .error();
                        return e ? this.localize(e.message) : ""
                    }, t
                }(gl);
                dc.prototype.options_ = wo(gl.prototype.options_, {
                    pauseOnOpen: !1,
                    fillAlways: !0,
                    temporary: !1,
                    uncloseable: !0
                }), Ao.registerComponent("ErrorDisplay", dc);
                var hc = "vjs-text-track-settings",
                    pc = ["#000", "Black"],
                    fc = ["#00F", "Blue"],
                    mc = ["#0FF", "Cyan"],
                    vc = ["#0F0", "Green"],
                    gc = ["#F0F", "Magenta"],
                    yc = ["#F00", "Red"],
                    _c = ["#FFF", "White"],
                    bc = ["#FF0", "Yellow"],
                    Tc = ["1", "Opaque"],
                    kc = ["0.5", "Semi-Transparent"],
                    Sc = ["0", "Transparent"],
                    jc = {
                        backgroundColor: {
                            selector: ".vjs-bg-color > select",
                            id: "captions-background-color-%s",
                            label: "Color",
                            options: [pc, _c, yc, vc, fc, bc, gc, mc]
                        },
                        backgroundOpacity: {
                            selector: ".vjs-bg-opacity > select",
                            id: "captions-background-opacity-%s",
                            label: "Transparency",
                            options: [Tc, kc, Sc]
                        },
                        color: {
                            selector: ".vjs-fg-color > select",
                            id: "captions-foreground-color-%s",
                            label: "Color",
                            options: [_c, pc, yc, vc, fc, bc, gc, mc]
                        },
                        edgeStyle: {
                            selector: ".vjs-edge-style > select",
                            id: "%s",
                            label: "Text Edge Style",
                            options: [
                                ["none", "None"],
                                ["raised", "Raised"],
                                ["depressed", "Depressed"],
                                ["uniform", "Uniform"],
                                ["dropshadow", "Dropshadow"]
                            ]
                        },
                        fontFamily: {
                            selector: ".vjs-font-family > select",
                            id: "captions-font-family-%s",
                            label: "Font Family",
                            options: [
                                ["proportionalSansSerif", "Proportional Sans-Serif"],
                                ["monospaceSansSerif", "Monospace Sans-Serif"],
                                ["proportionalSerif", "Proportional Serif"],
                                ["monospaceSerif", "Monospace Serif"],
                                ["casual", "Casual"],
                                ["script", "Script"],
                                ["small-caps", "Small Caps"]
                            ]
                        },
                        fontPercent: {
                            selector: ".vjs-font-percent > select",
                            id: "captions-font-size-%s",
                            label: "Font Size",
                            options: [
                                ["0.50", "50%"],
                                ["0.75", "75%"],
                                ["1.00", "100%"],
                                ["1.25", "125%"],
                                ["1.50", "150%"],
                                ["1.75", "175%"],
                                ["2.00", "200%"],
                                ["3.00", "300%"],
                                ["4.00", "400%"]
                            ],
                            default: 2,
                            parser: function(e) {
                                return "1.00" === e ? null : Number(e)
                            }
                        },
                        textOpacity: {
                            selector: ".vjs-text-opacity > select",
                            id: "captions-foreground-opacity-%s",
                            label: "Transparency",
                            options: [Tc, kc]
                        },
                        windowColor: {
                            selector: ".vjs-window-color > select",
                            id: "captions-window-color-%s",
                            label: "Color"
                        },
                        windowOpacity: {
                            selector: ".vjs-window-opacity > select",
                            id: "captions-window-opacity-%s",
                            label: "Transparency",
                            options: [Sc, kc, Tc]
                        }
                    };

                function wc(e, t) {
                    if (t && (e = t(e)), e && "none" !== e) return e
                }
                jc.windowColor.options = jc.backgroundColor.options;
                var Ac = function(e) {
                    function t(t, i) {
                        var n;
                        return i.temporary = !1, (n = e.call(this, t, i) || this)
                            .updateDisplay = lo(Lo(n), n.updateDisplay), n.fill(), n.hasBeenOpened_ = n.hasBeenFilled_ = !0, n.endDialog = pa("p", {
                            className: "vjs-control-text",
                            textContent: n.localize("End of dialog window.")
                        }), n.el()
                            .appendChild(n.endDialog), n.setDefaults(), void 0 === i.persistTextTrackSettings && (n.options_.persistTextTrackSettings = n.options_.playerOptions.persistTextTrackSettings), n.on(n.$(".vjs-done-button"), "click", (function() {
                            n.saveSettings(), n.close()
                        })), n.on(n.$(".vjs-default-button"), "click", (function() {
                            n.setDefaults(), n.updateDisplay()
                        })), ia(jc, (function(e) {
                            n.on(n.$(e.selector), "change", n.updateDisplay)
                        })), n.options_.persistTextTrackSettings && n.restoreSettings(), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.dispose = function() {
                        this.endDialog = null, e.prototype.dispose.call(this)
                    }, i.createElSelect_ = function(e, t, i) {
                        var n = this;
                        void 0 === t && (t = ""), void 0 === i && (i = "label");
                        var r = jc[e],
                            s = r.id.replace("%s", this.id_),
                            a = [t, s].join(" ")
                                .trim();
                        return ["<" + i + ' id="' + s + '" class="' + ("label" === i ? "vjs-label" : "") + '">', this.localize(r.label), "</" + i + ">", '<select aria-labelledby="' + a + '">'].concat(r.options.map((function(e) {
                            var t = s + "-" + e[1].replace(/\W+/g, "");
                            return ['<option id="' + t + '" value="' + e[0] + '" ', 'aria-labelledby="' + a + " " + t + '">', n.localize(e[1]), "</option>"].join("")
                        })))
                            .concat("</select>")
                            .join("")
                    }, i.createElFgColor_ = function() {
                        var e = "captions-text-legend-" + this.id_;
                        return ['<fieldset class="vjs-fg-color vjs-track-setting">', '<legend id="' + e + '">', this.localize("Text"), "</legend>", this.createElSelect_("color", e), '<span class="vjs-text-opacity vjs-opacity">', this.createElSelect_("textOpacity", e), "</span>", "</fieldset>"].join("")
                    }, i.createElBgColor_ = function() {
                        var e = "captions-background-" + this.id_;
                        return ['<fieldset class="vjs-bg-color vjs-track-setting">', '<legend id="' + e + '">', this.localize("Background"), "</legend>", this.createElSelect_("backgroundColor", e), '<span class="vjs-bg-opacity vjs-opacity">', this.createElSelect_("backgroundOpacity", e), "</span>", "</fieldset>"].join("")
                    }, i.createElWinColor_ = function() {
                        var e = "captions-window-" + this.id_;
                        return ['<fieldset class="vjs-window-color vjs-track-setting">', '<legend id="' + e + '">', this.localize("Window"), "</legend>", this.createElSelect_("windowColor", e), '<span class="vjs-window-opacity vjs-opacity">', this.createElSelect_("windowOpacity", e), "</span>", "</fieldset>"].join("")
                    }, i.createElColors_ = function() {
                        return pa("div", {
                            className: "vjs-track-settings-colors",
                            innerHTML: [this.createElFgColor_(), this.createElBgColor_(), this.createElWinColor_()].join("")
                        })
                    }, i.createElFont_ = function() {
                        return pa("div", {
                            className: "vjs-track-settings-font",
                            innerHTML: ['<fieldset class="vjs-font-percent vjs-track-setting">', this.createElSelect_("fontPercent", "", "legend"), "</fieldset>", '<fieldset class="vjs-edge-style vjs-track-setting">', this.createElSelect_("edgeStyle", "", "legend"), "</fieldset>", '<fieldset class="vjs-font-family vjs-track-setting">', this.createElSelect_("fontFamily", "", "legend"), "</fieldset>"].join("")
                        })
                    }, i.createElControls_ = function() {
                        var e = this.localize("restore all settings to the default values");
                        return pa("div", {
                            className: "vjs-track-settings-controls",
                            innerHTML: ['<button type="button" class="vjs-default-button" title="' + e + '">', this.localize("Reset"), '<span class="vjs-control-text"> ' + e + "</span>", "</button>", '<button type="button" class="vjs-done-button">' + this.localize("Done") + "</button>"].join("")
                        })
                    }, i.content = function() {
                        return [this.createElColors_(), this.createElFont_(), this.createElControls_()]
                    }, i.label = function() {
                        return this.localize("Caption Settings Dialog")
                    }, i.description = function() {
                        return this.localize("Beginning of dialog window. Escape will cancel and close the window.")
                    }, i.buildCSSClass = function() {
                        return e.prototype.buildCSSClass.call(this) + " vjs-text-track-settings"
                    }, i.getValues = function() {
                        var e, t, i, n = this;
                        return t = function(e, t, i) {
                            var r, s, a = (r = n.$(t.selector), s = t.parser, wc(r.options[r.options.selectedIndex].value, s));
                            return void 0 !== a && (e[i] = a), e
                        }, void 0 === (i = {}) && (i = 0), ta(e = jc)
                            .reduce((function(i, n) {
                            return t(i, e[n], n)
                        }), i)
                    }, i.setValues = function(e) {
                        var t = this;
                        ia(jc, (function(i, n) {
                            ! function(e, t, i) {
                                if (t) for (var n = 0; n < e.options.length; n++) if (wc(e.options[n].value, i) === t) {
                                    e.selectedIndex = n;
                                    break
                                }
                            }(t.$(i.selector), e[n], i.parser)
                        }))
                    }, i.setDefaults = function() {
                        var e = this;
                        ia(jc, (function(t) {
                            var i = t.hasOwnProperty("default") ? t.
                            default : 0;
                            e.$(t.selector)
                                .selectedIndex = i
                        }))
                    }, i.restoreSettings = function() {
                        var e;
                        try {
                            e = JSON.parse(Ci.localStorage.getItem(hc))
                        } catch (t) {
                            Zs.warn(t)
                        }
                        e && this.setValues(e)
                    }, i.saveSettings = function() {
                        if (this.options_.persistTextTrackSettings) {
                            var e = this.getValues();
                            try {
                                Object.keys(e)
                                    .length ? Ci.localStorage.setItem(hc, JSON.stringify(e)) : Ci.localStorage.removeItem(hc)
                            } catch (t) {
                                Zs.warn(t)
                            }
                        }
                    }, i.updateDisplay = function() {
                        var e = this.player_.getChild("textTrackDisplay");
                        e && e.updateDisplay()
                    }, i.conditionalBlur_ = function() {
                        this.previouslyActiveEl_ = null;
                        var e = this.player_.controlBar,
                            t = e && e.subsCapsButton,
                            i = e && e.captionsButton;
                        t ? t.focus() : i && i.focus()
                    }, t
                }(gl);
                Ao.registerComponent("TextTrackSettings", Ac);
                var Cc = function(e) {
                    function t(t, i) {
                        var n, r = i.ResizeObserver || Ci.ResizeObserver;
                        null === i.ResizeObserver && (r = !1);
                        var s = wo({
                            createEl: !r,
                            reportTouchActivity: !1
                        }, i);
                        return (n = e.call(this, t, s) || this)
                            .ResizeObserver = i.ResizeObserver || Ci.ResizeObserver, n.loadListener_ = null, n.resizeObserver_ = null, n.debouncedHandler_ = function(e, t, i, n) {
                            var r;
                            void 0 === n && (n = Ci);
                            var s = function() {
                                var s = this,
                                    a = arguments,
                                    o = function() {
                                        r = null, o = null, i || e.apply(s, a)
                                    };
                                !r && i && e.apply(s, a), n.clearTimeout(r), r = n.setTimeout(o, t)
                            };
                            return s.cancel = function() {
                                n.clearTimeout(r), r = null
                            }, s
                        }((function() {
                            n.resizeHandler()
                        }), 100, !1, Lo(n)), r ? (n.resizeObserver_ = new n.ResizeObserver(n.debouncedHandler_), n.resizeObserver_.observe(t.el())) : (n.loadListener_ = function() {
                            if (n.el_ && n.el_.contentWindow) {
                                var e = n.debouncedHandler_,
                                    t = n.unloadListener_ = function() {
                                        to(this, "resize", e), to(this, "unload", t), t = null
                                    };
                                eo(n.el_.contentWindow, "unload", t), eo(n.el_.contentWindow, "resize", e)
                            }
                        }, n.one("load", n.loadListener_)), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.createEl = function() {
                        return e.prototype.createEl.call(this, "iframe", {
                            className: "vjs-resize-manager",
                            tabIndex: -1
                        }, {
                            "aria-hidden": "true"
                        })
                    }, i.resizeHandler = function() {
                        this.player_ && this.player_.trigger && this.player_.trigger("playerresize")
                    }, i.dispose = function() {
                        this.debouncedHandler_ && this.debouncedHandler_.cancel(), this.resizeObserver_ && (this.player_.el() && this.resizeObserver_.unobserve(this.player_.el()), this.resizeObserver_.disconnect()), this.loadListener_ && this.off("load", this.loadListener_), this.el_ && this.el_.contentWindow && this.unloadListener_ && this.unloadListener_.call(this.el_.contentWindow), this.ResizeObserver = null, this.resizeObserver = null, this.debouncedHandler_ = null, this.loadListener_ = null, e.prototype.dispose.call(this)
                    }, t
                }(Ao);
                Ao.registerComponent("ResizeManager", Cc);
                var Ec = function(e) {
                    function t(t, i) {
                        var n, r = wo({
                            createEl: !1
                        }, i);
                        return (n = e.call(this, t, r) || this)
                            .reset_(), n.on(n.player_, "durationchange", n.handleDurationchange), Xo && "hidden" in Ii && "visibilityState" in Ii && n.on(Ii, "visibilitychange", n.handleVisibilityChange), n
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.handleVisibilityChange = function() {
                        this.player_.duration() === 1 / 0 && (Ii.hidden ? this.stopTracking() : this.startTracking())
                    }, i.isBehind_ = function() {
                        if (!this.timeupdateSeen_) return !1;
                        var e = this.liveCurrentTime(),
                            t = this.player_.currentTime(),
                            i = 2 * this.seekableIncrement_ + .07;
                        return e !== 1 / 0 && e - i >= t
                    }, i.trackLive_ = function() {
                        this.pastSeekEnd_ = this.pastSeekEnd_;
                        var e = this.player_.seekable();
                        if (e && e.length) {
                            var t, i, n, r = this.seekableEnd();
                            r !== this.lastSeekEnd_ && (this.lastSeekEnd_ && (this.seekableIncrementList_ = this.seekableIncrementList_.slice(-11), this.seekableIncrementList_.push(Math.abs(r - this.lastSeekEnd_)), this.seekableIncrementList_.length > 3 && (this.seekableIncrement_ = (t = this.seekableIncrementList_, i = Math.floor(t.length / 2), n = [].concat(t)
                                .sort((function(e, t) {
                                return e - t
                            })), t.length % 2 != 0 ? n[i] : (n[i - 1] + n[i]) / 2))), this.pastSeekEnd_ = 0, this.lastSeekEnd_ = r, this.trigger("seekableendchange")), this.pastSeekEnd_ = this.pastSeekEnd() + .03, this.isBehind_() !== this.behindLiveEdge() && (this.behindLiveEdge_ = this.isBehind_(), this.trigger("liveedgechange"))
                        }
                    }, i.handleDurationchange = function() {
                        this.player_.duration() === 1 / 0 ? this.startTracking() : this.stopTracking()
                    }, i.startTracking = function() {
                        var e = this;
                        this.isTracking() || (this.timeupdateSeen_ || (this.timeupdateSeen_ = this.player_.hasStarted()), this.trackingInterval_ = this.setInterval(this.trackLive_, 30), this.trackLive_(), this.on(this.player_, "play", this.trackLive_), this.on(this.player_, "pause", this.trackLive_), this.timeupdateSeen_ || (this.one(this.player_, "play", this.handlePlay), this.handleTimeupdate = function() {
                            e.timeupdateSeen_ = !0, e.handleTimeupdate = null
                        }, this.one(this.player_, "timeupdate", this.handleTimeupdate)))
                    }, i.handlePlay = function() {
                        this.one(this.player_, "timeupdate", this.seekToLiveEdge)
                    }, i.reset_ = function() {
                        this.pastSeekEnd_ = 0, this.lastSeekEnd_ = null, this.behindLiveEdge_ = null, this.timeupdateSeen_ = !1, this.clearInterval(this.trackingInterval_), this.trackingInterval_ = null, this.seekableIncrement_ = 12, this.seekableIncrementList_ = [], this.off(this.player_, "play", this.trackLive_), this.off(this.player_, "pause", this.trackLive_), this.off(this.player_, "play", this.handlePlay), this.off(this.player_, "timeupdate", this.seekToLiveEdge), this.handleTimeupdate && (this.off(this.player_, "timeupdate", this.handleTimeupdate), this.handleTimeupdate = null)
                    }, i.stopTracking = function() {
                        this.isTracking() && this.reset_()
                    }, i.seekableEnd = function() {
                        for (var e = this.player_.seekable(), t = [], i = e ? e.length : 0; i--;) t.push(e.end(i));
                        return t.length ? t.sort()[t.length - 1] : 1 / 0
                    }, i.seekableStart = function() {
                        for (var e = this.player_.seekable(), t = [], i = e ? e.length : 0; i--;) t.push(e.start(i));
                        return t.length ? t.sort()[0] : 0
                    }, i.liveWindow = function() {
                        var e = this.liveCurrentTime();
                        return e === 1 / 0 ? 1 / 0 : e - this.seekableStart()
                    }, i.isLive = function() {
                        return this.isTracking()
                    }, i.atLiveEdge = function() {
                        return !this.behindLiveEdge()
                    }, i.liveCurrentTime = function() {
                        return this.pastSeekEnd() + this.seekableEnd()
                    }, i.pastSeekEnd = function() {
                        return this.pastSeekEnd_
                    }, i.behindLiveEdge = function() {
                        return this.behindLiveEdge_
                    }, i.isTracking = function() {
                        return "number" == typeof this.trackingInterval_
                    }, i.seekToLiveEdge = function() {
                        this.atLiveEdge() || (this.player_.currentTime(this.liveCurrentTime()), this.player_.paused() && this.player_.play())
                    }, i.dispose = function() {
                        this.stopTracking(), e.prototype.dispose.call(this)
                    }, t
                }(Ao);
                Ao.registerComponent("LiveTracker", Ec);
                var xc = function(e) {
                    var t = e.el();
                    if (t.hasAttribute("src")) return e.triggerSourceset(t.src), !0;
                    var i = e.$$("source"),
                        n = [],
                        r = "";
                    if (!i.length) return !1;
                    for (var s = 0; s < i.length; s++) {
                        var a = i[s].src;
                        a && -1 === n.indexOf(a) && n.push(a)
                    }
                    return !!n.length && (1 === n.length && (r = n[0]), e.triggerSourceset(r), !0)
                }, Ic = Object.defineProperty({}, "innerHTML", {
                    get: function() {
                        return this.cloneNode(!0)
                            .innerHTML
                    },
                    set: function(e) {
                        var t = Ii.createElement(this.nodeName.toLowerCase());
                        t.innerHTML = e;
                        for (var i = Ii.createDocumentFragment(); t.childNodes.length;) i.appendChild(t.childNodes[0]);
                        return this.innerText = "", Ci.Element.prototype.appendChild.call(this, i), this.innerHTML
                    }
                }),
                    Lc = function(e, t) {
                        for (var i = {}, n = 0; n < e.length && !((i = Object.getOwnPropertyDescriptor(e[n], t)) && i.set && i.get); n++);
                        return i.enumerable = !0, i.configurable = !0, i
                    }, Pc = function(e) {
                        var t = e.el();
                        if (!t.resetSourceWatch_) {
                            var i = {}, n = function(e) {
                                return Lc([e.el(), Ci.HTMLMediaElement.prototype, Ci.Element.prototype, Ic], "innerHTML")
                            }(e),
                                r = function(i) {
                                    return function() {
                                        for (var n = arguments.length, r = new Array(n), s = 0; s < n; s++) r[s] = arguments[s];
                                        var a = i.apply(t, r);
                                        return xc(e), a
                                    }
                                };
                            ["append", "appendChild", "insertAdjacentHTML"].forEach((function(e) {
                                t[e] && (i[e] = t[e], t[e] = r(i[e]))
                            })), Object.defineProperty(t, "innerHTML", wo(n, {
                                set: r(n.set)
                            })), t.resetSourceWatch_ = function() {
                                t.resetSourceWatch_ = null, Object.keys(i)
                                    .forEach((function(e) {
                                    t[e] = i[e]
                                })), Object.defineProperty(t, "innerHTML", n)
                            }, e.one("sourceset", t.resetSourceWatch_)
                        }
                    }, Oc = Object.defineProperty({}, "src", {
                        get: function() {
                            return this.hasAttribute("src") ? Ol(Ci.Element.prototype.getAttribute.call(this, "src")) : ""
                        },
                        set: function(e) {
                            return Ci.Element.prototype.setAttribute.call(this, "src", e), e
                        }
                    }),
                    Dc = function(e) {
                        if (e.featuresSourceset) {
                            var t = e.el();
                            if (!t.resetSourceset_) {
                                var i = function(e) {
                                    return Lc([e.el(), Ci.HTMLMediaElement.prototype, Oc], "src")
                                }(e),
                                    n = t.setAttribute,
                                    r = t.load;
                                Object.defineProperty(t, "src", wo(i, {
                                    set: function(n) {
                                        var r = i.set.call(t, n);
                                        return e.triggerSourceset(t.src), r
                                    }
                                })), t.setAttribute = function(i, r) {
                                    var s = n.call(t, i, r);
                                    return /src/i.test(i) && e.triggerSourceset(t.src), s
                                }, t.load = function() {
                                    var i = r.call(t);
                                    return xc(e) || (e.triggerSourceset(""), Pc(e)), i
                                }, t.currentSrc ? e.triggerSourceset(t.currentSrc) : xc(e) || Pc(e), t.resetSourceset_ = function() {
                                    t.resetSourceset_ = null, t.load = r, t.setAttribute = n, Object.defineProperty(t, "src", i), t.resetSourceWatch_ && t.resetSourceWatch_()
                                }
                            }
                        }
                    }, Uc = function(e) {
                        function t(t, i) {
                            var n;
                            n = e.call(this, t, i) || this;
                            var r = t.source,
                                s = !1;
                            if (r && (n.el_.currentSrc !== r.src || t.tag && 3 === t.tag.initNetworkState_) ? n.setSource(r) : n.handleLateInit_(n.el_), t.enableSourceset && n.setupSourcesetHandling_(), n.el_.hasChildNodes()) {
                                for (var a = n.el_.childNodes, o = a.length, l = []; o--;) {
                                    var u = a[o];
                                    "track" === u.nodeName.toLowerCase() && (n.featuresNativeTextTracks ? (n.remoteTextTrackEls()
                                        .addTrackElement_(u), n.remoteTextTracks()
                                        .addTrack(u.track), n.textTracks()
                                        .addTrack(u.track), s || n.el_.hasAttribute("crossorigin") || !Ul(u.src) || (s = !0)) : l.push(u))
                                }
                                for (var c = 0; c < l.length; c++) n.el_.removeChild(l[c])
                            }
                            return n.proxyNativeTracks_(), n.featuresNativeTextTracks && s && Zs.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."), n.restoreMetadataTracksInIOSNativePlayer_(), (Zo || Mo || qo) && !0 === t.nativeControlsForTouch && n.setControls(!0), n.proxyWebkitFullscreen_(), n.triggerReady(), n
                        }
                        Co(t, e);
                        var i = t.prototype;
                        return i.dispose = function() {
                            this.el_ && this.el_.resetSourceset_ && this.el_.resetSourceset_(), t.disposeMediaElement(this.el_), this.options_ = null, e.prototype.dispose.call(this)
                        }, i.setupSourcesetHandling_ = function() {
                            Dc(this)
                        }, i.restoreMetadataTracksInIOSNativePlayer_ = function() {
                            var e, t = this.textTracks(),
                                i = function() {
                                    e = [];
                                    for (var i = 0; i < t.length; i++) {
                                        var n = t[i];
                                        "metadata" === n.kind && e.push({
                                            track: n,
                                            storedMode: n.mode
                                        })
                                    }
                                };
                            i(), t.addEventListener("change", i), this.on("dispose", (function() {
                                return t.removeEventListener("change", i)
                            }));
                            var n = function i() {
                                for (var n = 0; n < e.length; n++) {
                                    var r = e[n];
                                    "disabled" === r.track.mode && r.track.mode !== r.storedMode && (r.track.mode = r.storedMode)
                                }
                                t.removeEventListener("change", i)
                            };
                            this.on("webkitbeginfullscreen", (function() {
                                t.removeEventListener("change", i), t.removeEventListener("change", n), t.addEventListener("change", n)
                            })), this.on("webkitendfullscreen", (function() {
                                t.removeEventListener("change", i), t.addEventListener("change", i), t.removeEventListener("change", n)
                            }))
                        }, i.overrideNative_ = function(e, t) {
                            var i = this;
                            if (t === this["featuresNative" + e + "Tracks"]) {
                                var n = e.toLowerCase();
                                this[n + "TracksListeners_"] && Object.keys(this[n + "TracksListeners_"])
                                    .forEach((function(e) {
                                    i.el()[n + "Tracks"].removeEventListener(e, i[n + "TracksListeners_"][e])
                                })), this["featuresNative" + e + "Tracks"] = !t, this[n + "TracksListeners_"] = null, this.proxyNativeTracksForType_(n)
                            }
                        }, i.overrideNativeAudioTracks = function(e) {
                            this.overrideNative_("Audio", e)
                        }, i.overrideNativeVideoTracks = function(e) {
                            this.overrideNative_("Video", e)
                        }, i.proxyNativeTracksForType_ = function(e) {
                            var t = this,
                                i = Hl[e],
                                n = this.el()[i.getterName],
                                r = this[i.getterName]();
                            if (this["featuresNative" + i.capitalName + "Tracks"] && n && n.addEventListener) {
                                var s = {
                                    change: function(e) {
                                        r.trigger({
                                            type: "change",
                                            target: r,
                                            currentTarget: r,
                                            srcElement: r
                                        })
                                    },
                                    addtrack: function(e) {
                                        r.addTrack(e.track)
                                    },
                                    removetrack: function(e) {
                                        r.removeTrack(e.track)
                                    }
                                }, a = function() {
                                    for (var e = [], t = 0; t < r.length; t++) {
                                        for (var i = !1, s = 0; s < n.length; s++) if (n[s] === r[t]) {
                                            i = !0;
                                            break
                                        }
                                        i || e.push(r[t])
                                    }
                                    for (; e.length;) r.removeTrack(e.shift())
                                };
                                this[i.getterName + "Listeners_"] = s, Object.keys(s)
                                    .forEach((function(e) {
                                    var i = s[e];
                                    n.addEventListener(e, i), t.on("dispose", (function(t) {
                                        return n.removeEventListener(e, i)
                                    }))
                                })), this.on("loadstart", a), this.on("dispose", (function(e) {
                                    return t.off("loadstart", a)
                                }))
                            }
                        }, i.proxyNativeTracks_ = function() {
                            var e = this;
                            Hl.names.forEach((function(t) {
                                e.proxyNativeTracksForType_(t)
                            }))
                        }, i.createEl = function() {
                            var e = this.options_.tag;
                            if (!e || !this.options_.playerElIngest && !this.movingMediaElementInDOM) {
                                if (e) {
                                    var i = e.cloneNode(!0);
                                    e.parentNode && e.parentNode.insertBefore(i, e), t.disposeMediaElement(e), e = i
                                } else {
                                    e = Ii.createElement("video");
                                    var n = wo({}, this.options_.tag && Ta(this.options_.tag));
                                    Zo && !0 === this.options_.nativeControlsForTouch || delete n.controls, ba(e, na(n, {
                                        id: this.options_.techId,
                                        class: "vjs-tech"
                                    }))
                                }
                                e.playerId = this.options_.playerId
                            }
                            void 0 !== this.options_.preload && Sa(e, "preload", this.options_.preload);
                            for (var r = ["loop", "muted", "playsinline", "autoplay"], s = 0; s < r.length; s++) {
                                var a = r[s],
                                    o = this.options_[a];
                                void 0 !== o && (o ? Sa(e, a, a) : ja(e, a), e[a] = o)
                            }
                            return e
                        }, i.handleLateInit_ = function(e) {
                            if (0 !== e.networkState && 3 !== e.networkState) {
                                if (0 === e.readyState) {
                                    var t = !1,
                                        i = function() {
                                            t = !0
                                        };
                                    this.on("loadstart", i);
                                    var n = function() {
                                        t || this.trigger("loadstart")
                                    };
                                    return this.on("loadedmetadata", n), void this.ready((function() {
                                        this.off("loadstart", i), this.off("loadedmetadata", n), t || this.trigger("loadstart")
                                    }))
                                }
                                var r = ["loadstart"];
                                r.push("loadedmetadata"), e.readyState >= 2 && r.push("loadeddata"), e.readyState >= 3 && r.push("canplay"), e.readyState >= 4 && r.push("canplaythrough"), this.ready((function() {
                                    r.forEach((function(e) {
                                        this.trigger(e)
                                    }), this)
                                }))
                            }
                        }, i.setCurrentTime = function(e) {
                            try {
                                this.el_.currentTime = e
                            } catch (t) {
                                Zs(t, "Video is not ready. (Video.js)")
                            }
                        }, i.duration = function() {
                            var e = this;
                            if (this.el_.duration === 1 / 0 && Vo && Go && 0 === this.el_.currentTime) {
                                return this.on("timeupdate", (function t() {
                                    e.el_.currentTime > 0 && (e.el_.duration === 1 / 0 && e.trigger("durationchange"), e.off("timeupdate", t))
                                })), NaN
                            }
                            return this.el_.duration || NaN
                        }, i.width = function() {
                            return this.el_.offsetWidth
                        }, i.height = function() {
                            return this.el_.offsetHeight
                        }, i.proxyWebkitFullscreen_ = function() {
                            var e = this;
                            if ("webkitDisplayingFullscreen" in this.el_) {
                                var t = function() {
                                    this.trigger("fullscreenchange", {
                                        isFullscreen: !1
                                    })
                                }, i = function() {
                                    "webkitPresentationMode" in this.el_ && "picture-in-picture" !== this.el_.webkitPresentationMode && (this.one("webkitendfullscreen", t), this.trigger("fullscreenchange", {
                                        isFullscreen: !0
                                    }))
                                };
                                this.on("webkitbeginfullscreen", i), this.on("dispose", (function() {
                                    e.off("webkitbeginfullscreen", i), e.off("webkitendfullscreen", t)
                                }))
                            }
                        }, i.supportsFullScreen = function() {
                            if ("function" == typeof this.el_.webkitEnterFullScreen) {
                                var e = Ci.navigator && Ci.navigator.userAgent || "";
                                if (/Android/.test(e) || !/Chrome|Mac OS X 10.5/.test(e)) return !0
                            }
                            return !1
                        }, i.enterFullScreen = function() {
                            var e = this.el_;
                            e.paused && e.networkState <= e.HAVE_METADATA ? (this.el_.play(), this.setTimeout((function() {
                                e.pause(), e.webkitEnterFullScreen()
                            }), 0)) : e.webkitEnterFullScreen()
                        }, i.exitFullScreen = function() {
                            this.el_.webkitExitFullScreen()
                        }, i.requestPictureInPicture = function() {
                            return this.el_.requestPictureInPicture()
                        }, i.src = function(e) {
                            if (void 0 === e) return this.el_.src;
                            this.setSrc(e)
                        }, i.reset = function() {
                            t.resetMediaElement(this.el_)
                        }, i.currentSrc = function() {
                            return this.currentSource_ ? this.currentSource_.src : this.el_.currentSrc
                        }, i.setControls = function(e) {
                            this.el_.controls = !! e
                        }, i.addTextTrack = function(t, i, n) {
                            return this.featuresNativeTextTracks ? this.el_.addTextTrack(t, i, n) : e.prototype.addTextTrack.call(this, t, i, n)
                        }, i.createRemoteTextTrack = function(t) {
                            if (!this.featuresNativeTextTracks) return e.prototype.createRemoteTextTrack.call(this, t);
                            var i = Ii.createElement("track");
                            return t.kind && (i.kind = t.kind), t.label && (i.label = t.label), (t.language || t.srclang) && (i.srclang = t.language || t.srclang), t.
                            default && (i.
                            default = t.
                            default), t.id && (i.id = t.id), t.src && (i.src = t.src), i
                        }, i.addRemoteTextTrack = function(t, i) {
                            var n = e.prototype.addRemoteTextTrack.call(this, t, i);
                            return this.featuresNativeTextTracks && this.el()
                                .appendChild(n), n
                        }, i.removeRemoteTextTrack = function(t) {
                            if (e.prototype.removeRemoteTextTrack.call(this, t), this.featuresNativeTextTracks) for (var i = this.$$("track"), n = i.length; n--;) t !== i[n] && t !== i[n].track || this.el()
                                .removeChild(i[n])
                        }, i.getVideoPlaybackQuality = function() {
                            if ("function" == typeof this.el()
                                .getVideoPlaybackQuality) return this.el()
                                .getVideoPlaybackQuality();
                            var e = {};
                            return void 0 !== this.el()
                                .webkitDroppedFrameCount && void 0 !== this.el()
                                .webkitDecodedFrameCount && (e.droppedVideoFrames = this.el()
                                .webkitDroppedFrameCount, e.totalVideoFrames = this.el()
                                .webkitDecodedFrameCount), Ci.performance && "function" == typeof Ci.performance.now ? e.creationTime = Ci.performance.now() : Ci.performance && Ci.performance.timing && "number" == typeof Ci.performance.timing.navigationStart && (e.creationTime = Ci.Date.now() - Ci.performance.timing.navigationStart), e
                        }, t
                    }(Wl);
                if (ua()) {
                    Uc.TEST_VID = Ii.createElement("video");
                    var Rc = Ii.createElement("track");
                    Rc.kind = "captions", Rc.srclang = "en", Rc.label = "English", Uc.TEST_VID.appendChild(Rc)
                }
                Uc.isSupported = function() {
                    try {
                        Uc.TEST_VID.volume = .5
                    } catch (e) {
                        return !1
                    }
                    return !(!Uc.TEST_VID || !Uc.TEST_VID.canPlayType)
                }, Uc.canPlayType = function(e) {
                    return Uc.TEST_VID.canPlayType(e)
                }, Uc.canPlaySource = function(e, t) {
                    return Uc.canPlayType(e.type)
                }, Uc.canControlVolume = function() {
                    try {
                        var e = Uc.TEST_VID.volume;
                        return Uc.TEST_VID.volume = e / 2 + .1, e !== Uc.TEST_VID.volume
                    } catch (t) {
                        return !1
                    }
                }, Uc.canMuteVolume = function() {
                    try {
                        var e = Uc.TEST_VID.muted;
                        return Uc.TEST_VID.muted = !e, Uc.TEST_VID.muted ? Sa(Uc.TEST_VID, "muted", "muted") : ja(Uc.TEST_VID, "muted"), e !== Uc.TEST_VID.muted
                    } catch (t) {
                        return !1
                    }
                }, Uc.canControlPlaybackRate = function() {
                    if (Vo && Go && Yo < 58) return !1;
                    try {
                        var e = Uc.TEST_VID.playbackRate;
                        return Uc.TEST_VID.playbackRate = e / 2 + .1, e !== Uc.TEST_VID.playbackRate
                    } catch (t) {
                        return !1
                    }
                }, Uc.canOverrideAttributes = function() {
                    try {
                        var e = function() {};
                        Object.defineProperty(Ii.createElement("video"), "src", {
                            get: e,
                            set: e
                        }), Object.defineProperty(Ii.createElement("audio"), "src", {
                            get: e,
                            set: e
                        }), Object.defineProperty(Ii.createElement("video"), "innerHTML", {
                            get: e,
                            set: e
                        }), Object.defineProperty(Ii.createElement("audio"), "innerHTML", {
                            get: e,
                            set: e
                        })
                    } catch (t) {
                        return !1
                    }
                    return !0
                }, Uc.supportsNativeTextTracks = function() {
                    return Qo || No && Go
                }, Uc.supportsNativeVideoTracks = function() {
                    return !(!Uc.TEST_VID || !Uc.TEST_VID.videoTracks)
                }, Uc.supportsNativeAudioTracks = function() {
                    return !(!Uc.TEST_VID || !Uc.TEST_VID.audioTracks)
                }, Uc.Events = ["loadstart", "suspend", "abort", "error", "emptied", "stalled", "loadedmetadata", "loadeddata", "canplay", "canplaythrough", "playing", "waiting", "seeking", "seeked", "ended", "durationchange", "timeupdate", "progress", "play", "pause", "ratechange", "resize", "volumechange"], Uc.prototype.featuresVolumeControl = Uc.canControlVolume(), Uc.prototype.featuresMuteControl = Uc.canMuteVolume(), Uc.prototype.featuresPlaybackRate = Uc.canControlPlaybackRate(), Uc.prototype.featuresSourceset = Uc.canOverrideAttributes(), Uc.prototype.movingMediaElementInDOM = !No, Uc.prototype.featuresFullscreenResize = !0, Uc.prototype.featuresProgressEvents = !0, Uc.prototype.featuresTimeupdateEvents = !0, Uc.prototype.featuresNativeTextTracks = Uc.supportsNativeTextTracks(), Uc.prototype.featuresNativeVideoTracks = Uc.supportsNativeVideoTracks(), Uc.prototype.featuresNativeAudioTracks = Uc.supportsNativeAudioTracks();
                var Mc = Uc.TEST_VID && Uc.TEST_VID.constructor.prototype.canPlayType,
                    Bc = /^application\/(?:x-|vnd\.apple\.)mpegurl/i;
                Uc.patchCanPlayType = function() {
                    Ho >= 4 && !zo && !Go && (Uc.TEST_VID.constructor.prototype.canPlayType = function(e) {
                        return e && Bc.test(e) ? "maybe" : Mc.call(this, e)
                    })
                }, Uc.unpatchCanPlayType = function() {
                    var e = Uc.TEST_VID.constructor.prototype.canPlayType;
                    return Uc.TEST_VID.constructor.prototype.canPlayType = Mc, e
                }, Uc.patchCanPlayType(), Uc.disposeMediaElement = function(e) {
                    if (e) {
                        for (e.parentNode && e.parentNode.removeChild(e); e.hasChildNodes();) e.removeChild(e.firstChild);
                        e.removeAttribute("src"), "function" == typeof e.load && function() {
                            try {
                                e.load()
                            } catch (t) {}
                        }()
                    }
                }, Uc.resetMediaElement = function(e) {
                    if (e) {
                        for (var t = e.querySelectorAll("source"), i = t.length; i--;) e.removeChild(t[i]);
                        e.removeAttribute("src"), "function" == typeof e.load && function() {
                            try {
                                e.load()
                            } catch (t) {}
                        }()
                    }
                }, ["muted", "defaultMuted", "autoplay", "controls", "loop", "playsinline"].forEach((function(e) {
                    Uc.prototype[e] = function() {
                        return this.el_[e] || this.el_.hasAttribute(e)
                    }
                })), ["muted", "defaultMuted", "autoplay", "loop", "playsinline"].forEach((function(e) {
                    Uc.prototype["set" + jo(e)] = function(t) {
                        this.el_[e] = t, t ? this.el_.setAttribute(e, e) : this.el_.removeAttribute(e)
                    }
                })), ["paused", "currentTime", "buffered", "volume", "poster", "preload", "error", "seeking", "seekable", "ended", "playbackRate", "defaultPlaybackRate", "played", "networkState", "readyState", "videoWidth", "videoHeight"].forEach((function(e) {
                    Uc.prototype[e] = function() {
                        return this.el_[e]
                    }
                })), ["volume", "src", "poster", "preload", "playbackRate", "defaultPlaybackRate"].forEach((function(e) {
                    Uc.prototype["set" + jo(e)] = function(t) {
                        this.el_[e] = t
                    }
                })), ["pause", "load", "play"].forEach((function(e) {
                    Uc.prototype[e] = function() {
                        return this.el_[e]()
                    }
                })), Wl.withSourceHandlers(Uc), Uc.nativeSourceHandler = {}, Uc.nativeSourceHandler.canPlayType = function(e) {
                    try {
                        return Uc.TEST_VID.canPlayType(e)
                    } catch (t) {
                        return ""
                    }
                }, Uc.nativeSourceHandler.canHandleSource = function(e, t) {
                    if (e.type) return Uc.nativeSourceHandler.canPlayType(e.type);
                    if (e.src) {
                        var i = Dl(e.src);
                        return Uc.nativeSourceHandler.canPlayType("video/" + i)
                    }
                    return ""
                }, Uc.nativeSourceHandler.handleSource = function(e, t, i) {
                    t.setSrc(e.src)
                }, Uc.nativeSourceHandler.dispose = function() {}, Uc.registerSourceHandler(Uc.nativeSourceHandler), Wl.registerTech("Html5", Uc);
                var Nc = ["progress", "abort", "suspend", "emptied", "stalled", "loadedmetadata", "loadeddata", "timeupdate", "resize", "volumechange", "texttrackchange"],
                    Fc = {
                        canplay: "CanPlay",
                        canplaythrough: "CanPlayThrough",
                        playing: "Playing",
                        seeked: "Seeked"
                    }, Vc = ["tiny", "xsmall", "small", "medium", "large", "xlarge", "huge"],
                    Hc = {};
                Vc.forEach((function(e) {
                    var t = "x" === e.charAt(0) ? "x-" + e.substring(1) : e;
                    Hc[e] = "vjs-layout-" + t
                }));
                var qc = {
                    tiny: 210,
                    xsmall: 320,
                    small: 425,
                    medium: 768,
                    large: 1440,
                    xlarge: 2560,
                    huge: 1 / 0
                }, zc = function(e) {
                    function t(i, n, r) {
                        var s;
                        if (i.id = i.id || n.id || "vjs_video_" + Xa(), (n = na(t.getTagSettings(i), n))
                            .initChildren = !1, n.createEl = !1, n.evented = !1, n.reportTouchActivity = !1, !n.language) if ("function" == typeof i.closest) {
                            var a = i.closest("[lang]");
                            a && a.getAttribute && (n.language = a.getAttribute("lang"))
                        } else for (var o = i; o && 1 === o.nodeType;) {
                            if (Ta(o)
                                .hasOwnProperty("lang")) {
                                n.language = o.getAttribute("lang");
                                break
                            }
                            o = o.parentNode
                        }
                        if ((s = e.call(this, null, n, r) || this)
                            .boundDocumentFullscreenChange_ = lo(Lo(s), s.documentFullscreenChange_), s.boundFullWindowOnEscKey_ = lo(Lo(s), s.fullWindowOnEscKey), s.log = $s(s.id_), s.fsApi_ = sl, s.isPosterFromTech_ = !1, s.queuedCallbacks_ = [], s.isReady_ = !1, s.hasStarted_ = !1, s.userActive_ = !1, !s.options_ || !s.options_.techOrder || !s.options_.techOrder.length) throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");
                        if (s.tag = i, s.tagAttributes = i && Ta(i), s.language(s.options_.language), n.languages) {
                            var l = {};
                            Object.getOwnPropertyNames(n.languages)
                                .forEach((function(e) {
                                l[e.toLowerCase()] = n.languages[e]
                            })), s.languages_ = l
                        } else s.languages_ = t.prototype.options_.languages;
                        s.resetCache_(), s.poster_ = n.poster || "", s.controls_ = !! n.controls, i.controls = !1, i.removeAttribute("controls"), s.changingSrc_ = !1, s.playCallbacks_ = [], s.playTerminatedQueue_ = [], i.hasAttribute("autoplay") ? s.autoplay(!0) : s.autoplay(s.options_.autoplay), n.plugins && Object.keys(n.plugins)
                            .forEach((function(e) {
                            if ("function" != typeof s[e]) throw new Error('plugin "' + e + '" does not exist')
                        })), s.scrubbing_ = !1, s.el_ = s.createEl(), bo(Lo(s), {
                            eventBusKey: "el_"
                        }), s.fluid_ && s.on("playerreset", s.updateStyleEl_);
                        var u = wo(s.options_);
                        n.plugins && Object.keys(n.plugins)
                            .forEach((function(e) {
                            s[e](n.plugins[e])
                        })), s.options_.playerOptions = u, s.middleware_ = [], s.initChildren(), s.isAudio("audio" === i.nodeName.toLowerCase()), s.controls() ? s.addClass("vjs-controls-enabled") : s.addClass("vjs-controls-disabled"), s.el_.setAttribute("role", "region"), s.isAudio() ? s.el_.setAttribute("aria-label", s.localize("Audio Player")) : s.el_.setAttribute("aria-label", s.localize("Video Player")), s.isAudio() && s.addClass("vjs-audio"), s.flexNotSupported_() && s.addClass("vjs-no-flex"), Zo && s.addClass("vjs-touch-enabled"), No || s.addClass("vjs-workinghover"), t.players[s.id_] = Lo(s);
                        var c = Qs.split(".")[0];
                        return s.addClass("vjs-v" + c), s.userActive(!0), s.reportUserActivity(), s.one("play", s.listenForUserActivity_), s.on("stageclick", s.handleStageClick_), s.on("keydown", s.handleKeyDown), s.breakpoints(s.options_.breakpoints), s.responsive(s.options_.responsive), s
                    }
                    Co(t, e);
                    var i = t.prototype;
                    return i.dispose = function() {
                        var i = this;
                        this.trigger("dispose"), this.off("dispose"), to(Ii, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_), to(Ii, "keydown", this.boundFullWindowOnEscKey_), this.styleEl_ && this.styleEl_.parentNode && (this.styleEl_.parentNode.removeChild(this.styleEl_), this.styleEl_ = null), t.players[this.id_] = null, this.tag && this.tag.player && (this.tag.player = null), this.el_ && this.el_.player && (this.el_.player = null), this.tech_ && (this.tech_.dispose(), this.isPosterFromTech_ = !1, this.poster_ = ""), this.playerElIngest_ && (this.playerElIngest_ = null), this.tag && (this.tag = null), Yl[this.id()] = null, zl.names.forEach((function(e) {
                            var t = zl[e],
                                n = i[t.getterName]();
                            n && n.off && n.off()
                        })), e.prototype.dispose.call(this)
                    }, i.createEl = function() {
                        var t, i = this.tag,
                            n = this.playerElIngest_ = i.parentNode && i.parentNode.hasAttribute && i.parentNode.hasAttribute("data-vjs-player"),
                            r = "video-js" === this.tag.tagName.toLowerCase();
                        n ? t = this.el_ = i.parentNode : r || (t = this.el_ = e.prototype.createEl.call(this, "div"));
                        var s = Ta(i);
                        if (r) {
                            for (t = this.el_ = i, i = this.tag = Ii.createElement("video"); t.children.length;) i.appendChild(t.firstChild);
                            va(t, "video-js") || ga(t, "video-js"), t.appendChild(i), n = this.playerElIngest_ = t, Object.keys(t)
                                .forEach((function(e) {
                                i[e] = t[e]
                            }))
                        }
                        if (i.setAttribute("tabindex", "-1"), s.tabindex = "-1", (Xo || Go && Jo) && (i.setAttribute("role", "application"), s.role = "application"), i.removeAttribute("width"), i.removeAttribute("height"), "width" in s && delete s.width, "height" in s && delete s.height, Object.getOwnPropertyNames(s)
                            .forEach((function(e) {
                            r && "class" === e || t.setAttribute(e, s[e]), r && i.setAttribute(e, s[e])
                        })), i.playerId = i.id, i.id += "_html5_api", i.className = "vjs-tech", i.player = t.player = this, this.addClass("vjs-paused"), !0 !== Ci.VIDEOJS_NO_DYNAMIC_STYLE) {
                            this.styleEl_ = za("vjs-styles-dimensions");
                            var a = Ma(".vjs-styles-defaults"),
                                o = Ma("head");
                            o.insertBefore(this.styleEl_, a ? a.nextSibling : o.firstChild)
                        }
                        this.fill_ = !1, this.fluid_ = !1, this.width(this.options_.width), this.height(this.options_.height), this.fill(this.options_.fill), this.fluid(this.options_.fluid), this.aspectRatio(this.options_.aspectRatio);
                        for (var l = i.getElementsByTagName("a"), u = 0; u < l.length; u++) {
                            var c = l.item(u);
                            ga(c, "vjs-hidden"), c.setAttribute("hidden", "hidden")
                        }
                        return i.initNetworkState_ = i.networkState, i.parentNode && !n && i.parentNode.insertBefore(t, i), ma(i, t), this.children_.unshift(i), this.el_.setAttribute("lang", this.language_), this.el_ = t, t
                    }, i.width = function(e) {
                        return this.dimension("width", e)
                    }, i.height = function(e) {
                        return this.dimension("height", e)
                    }, i.dimension = function(e, t) {
                        var i = e + "_";
                        if (void 0 === t) return this[i] || 0;
                        if ("" === t) return this[i] = void 0, void this.updateStyleEl_();
                        var n = parseFloat(t);
                        isNaN(n) ? Zs.error('Improper value "' + t + '" supplied for for ' + e) : (this[i] = n, this.updateStyleEl_())
                    }, i.fluid = function(e) {
                        if (void 0 === e) return !!this.fluid_;
                        var t, i;
                        this.fluid_ = !! e, ho(this) && this.off("playerreset", this.updateStyleEl_), e ? (this.addClass("vjs-fluid"), this.fill(!1), ho(t = function() {
                            this.on("playerreset", this.updateStyleEl_)
                        }) ? i() : (t.eventedCallbacks || (t.eventedCallbacks = []), t.eventedCallbacks.push(i))) : this.removeClass("vjs-fluid"), this.updateStyleEl_()
                    }, i.fill = function(e) {
                        if (void 0 === e) return !!this.fill_;
                        this.fill_ = !! e, e ? (this.addClass("vjs-fill"), this.fluid(!1)) : this.removeClass("vjs-fill")
                    }, i.aspectRatio = function(e) {
                        if (void 0 === e) return this.aspectRatio_;
                        if (!/^\d+\:\d+$/.test(e)) throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");
                        this.aspectRatio_ = e, this.fluid(!0), this.updateStyleEl_()
                    }, i.updateStyleEl_ = function() {
                        if (!0 !== Ci.VIDEOJS_NO_DYNAMIC_STYLE) {
                            var e, t, i, n = (void 0 !== this.aspectRatio_ && "auto" !== this.aspectRatio_ ? this.aspectRatio_ : this.videoWidth() > 0 ? this.videoWidth() + ":" + this.videoHeight() : "16:9")
                                .split(":"),
                                r = n[1] / n[0];
                            e = void 0 !== this.width_ ? this.width_ : void 0 !== this.height_ ? this.height_ / r : this.videoWidth() || 300, t = void 0 !== this.height_ ? this.height_ : e * r, i = /^[^a-zA-Z]/.test(this.id()) ? "dimensions-" + this.id() : this.id() + "-dimensions", this.addClass(i), Wa(this.styleEl_, "\n      ." + i + " {\n        width: " + e + "px;\n        height: " + t + "px;\n      }\n\n      ." + i + ".vjs-fluid {\n        padding-top: " + 100 * r + "%;\n      }\n    ")
                        } else {
                            var s = "number" == typeof this.width_ ? this.width_ : this.options_.width,
                                a = "number" == typeof this.height_ ? this.height_ : this.options_.height,
                                o = this.tech_ && this.tech_.el();
                            o && (s >= 0 && (o.width = s), a >= 0 && (o.height = a))
                        }
                    }, i.loadTech_ = function(e, t) {
                        var i = this;
                        this.tech_ && this.unloadTech_();
                        var n = jo(e),
                            r = e.charAt(0)
                                .toLowerCase() + e.slice(1);
                        "Html5" !== n && this.tag && (Wl.getTech("Html5")
                            .disposeMediaElement(this.tag), this.tag.player = null, this.tag = null), this.techName_ = n, this.isReady_ = !1;
                        var s = {
                            source: t,
                            autoplay: "string" != typeof this.autoplay() && this.autoplay(),
                            nativeControlsForTouch: this.options_.nativeControlsForTouch,
                            playerId: this.id(),
                            techId: this.id() + "_" + r + "_api",
                            playsinline: this.options_.playsinline,
                            preload: this.options_.preload,
                            loop: this.options_.loop,
                            muted: this.options_.muted,
                            poster: this.poster(),
                            language: this.language(),
                            playerElIngest: this.playerElIngest_ || !1,
                            "vtt.js": this.options_["vtt.js"],
                            canOverridePoster: !! this.options_.techCanOverridePoster,
                            enableSourceset: this.options_.enableSourceset,
                            Promise: this.options_.Promise
                        };
                        zl.names.forEach((function(e) {
                            var t = zl[e];
                            s[t.getterName] = i[t.privateName]
                        })), na(s, this.options_[n]), na(s, this.options_[r]), na(s, this.options_[e.toLowerCase()]), this.tag && (s.tag = this.tag), t && t.src === this.cache_.src && this.cache_.currentTime > 0 && (s.startTime = this.cache_.currentTime);
                        var a = Wl.getTech(e);
                        if (!a) throw new Error("No Tech named '" + n + "' exists! '" + n + "' should be registered using videojs.registerTech()'");
                        this.tech_ = new a(s), this.tech_.ready(lo(this, this.handleTechReady_), !0), vl(this.textTracksJson_ || [], this.tech_), Nc.forEach((function(e) {
                            i.on(i.tech_, e, i["handleTech" + jo(e) + "_"])
                        })), Object.keys(Fc)
                            .forEach((function(e) {
                            i.on(i.tech_, e, (function(t) {
                                0 === i.tech_.playbackRate() && i.tech_.seeking() ? i.queuedCallbacks_.push({
                                    callback: i["handleTech" + Fc[e] + "_"].bind(i),
                                    event: t
                                }) : i["handleTech" + Fc[e] + "_"](t)
                            }))
                        })), this.on(this.tech_, "loadstart", this.handleTechLoadStart_), this.on(this.tech_, "sourceset", this.handleTechSourceset_), this.on(this.tech_, "waiting", this.handleTechWaiting_), this.on(this.tech_, "ended", this.handleTechEnded_), this.on(this.tech_, "seeking", this.handleTechSeeking_), this.on(this.tech_, "play", this.handleTechPlay_), this.on(this.tech_, "firstplay", this.handleTechFirstPlay_), this.on(this.tech_, "pause", this.handleTechPause_), this.on(this.tech_, "durationchange", this.handleTechDurationChange_), this.on(this.tech_, "fullscreenchange", this.handleTechFullscreenChange_), this.on(this.tech_, "enterpictureinpicture", this.handleTechEnterPictureInPicture_), this.on(this.tech_, "leavepictureinpicture", this.handleTechLeavePictureInPicture_), this.on(this.tech_, "error", this.handleTechError_), this.on(this.tech_, "loadedmetadata", this.updateStyleEl_), this.on(this.tech_, "posterchange", this.handleTechPosterChange_), this.on(this.tech_, "textdata", this.handleTechTextData_), this.on(this.tech_, "ratechange", this.handleTechRateChange_), this.usingNativeControls(this.techGet_("controls")), this.controls() && !this.usingNativeControls() && this.addTechControlsListeners_(), this.tech_.el()
                            .parentNode === this.el() || "Html5" === n && this.tag || ma(this.tech_.el(), this.el()), this.tag && (this.tag.player = null, this.tag = null)
                    }, i.unloadTech_ = function() {
                        var e = this;
                        zl.names.forEach((function(t) {
                            var i = zl[t];
                            e[i.privateName] = e[i.getterName]()
                        })), this.textTracksJson_ = ml(this.tech_), this.isReady_ = !1, this.tech_.dispose(), this.tech_ = !1, this.isPosterFromTech_ && (this.poster_ = "", this.trigger("posterchange")), this.isPosterFromTech_ = !1
                    }, i.tech = function(e) {
                        return void 0 === e && Zs.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"), this.tech_
                    }, i.addTechControlsListeners_ = function() {
                        this.removeTechControlsListeners_(), this.on(this.tech_, "mouseup", this.handleTechClick_), this.on(this.tech_, "dblclick", this.handleTechDoubleClick_), this.on(this.tech_, "touchstart", this.handleTechTouchStart_), this.on(this.tech_, "touchmove", this.handleTechTouchMove_), this.on(this.tech_, "touchend", this.handleTechTouchEnd_), this.on(this.tech_, "tap", this.handleTechTap_)
                    }, i.removeTechControlsListeners_ = function() {
                        this.off(this.tech_, "tap", this.handleTechTap_), this.off(this.tech_, "touchstart", this.handleTechTouchStart_), this.off(this.tech_, "touchmove", this.handleTechTouchMove_), this.off(this.tech_, "touchend", this.handleTechTouchEnd_), this.off(this.tech_, "mouseup", this.handleTechClick_), this.off(this.tech_, "dblclick", this.handleTechDoubleClick_)
                    }, i.handleTechReady_ = function() {
                        this.triggerReady(), this.cache_.volume && this.techCall_("setVolume", this.cache_.volume), this.handleTechPosterChange_(), this.handleTechDurationChange_()
                    }, i.handleTechLoadStart_ = function() {
                        this.removeClass("vjs-ended"), this.removeClass("vjs-seeking"), this.error(null), this.handleTechDurationChange_(), this.paused() ? (this.hasStarted(!1), this.trigger("loadstart")) : (this.trigger("loadstart"), this.trigger("firstplay")), this.manualAutoplay_(this.autoplay())
                    }, i.manualAutoplay_ = function(e) {
                        var t = this;
                        if (this.tech_ && "string" == typeof e) {
                            var i, n = function() {
                                var e = t.muted();
                                t.muted(!0);
                                var i = function() {
                                    t.muted(e)
                                };
                                t.playTerminatedQueue_.push(i);
                                var n = t.play();
                                if (hl(n)) return n.
                                catch (i)
                            };
                            if ("any" === e && !0 !== this.muted() ? hl(i = this.play()) && (i = i.
                            catch (n)) : i = "muted" === e && !0 !== this.muted() ? n() : this.play(), hl(i)) return i.then((function() {
                                t.trigger({
                                    type: "autoplay-success",
                                    autoplay: e
                                })
                            }))
                                .
                            catch ((function(i) {
                                t.trigger({
                                    type: "autoplay-failure",
                                    autoplay: e
                                })
                            }))
                        }
                    }, i.updateSourceCaches_ = function(e) {
                        void 0 === e && (e = "");
                        var t = e,
                            i = "";
                        "string" != typeof t && (t = e.src, i = e.type), this.cache_.source = this.cache_.source || {}, this.cache_.sources = this.cache_.sources || [], t && !i && (i = function(e, t) {
                            if (!t) return "";
                            if (e.cache_.source.src === t && e.cache_.source.type) return e.cache_.source.type;
                            var i = e.cache_.sources.filter((function(e) {
                                return e.src === t
                            }));
                            if (i.length) return i[0].type;
                            for (var n = e.$$("source"), r = 0; r < n.length; r++) {
                                var s = n[r];
                                if (s.type && s.src && s.src === t) return s.type
                            }
                            return nu(t)
                        }(this, t)), this.cache_.source = wo({}, e, {
                            src: t,
                            type: i
                        });
                        for (var n = this.cache_.sources.filter((function(e) {
                            return e.src && e.src === t
                        })), r = [], s = this.$$("source"), a = [], o = 0; o < s.length; o++) {
                            var l = Ta(s[o]);
                            r.push(l), l.src && l.src === t && a.push(l.src)
                        }
                        a.length && !n.length ? this.cache_.sources = r : n.length || (this.cache_.sources = [this.cache_.source]), this.cache_.src = t
                    }, i.handleTechSourceset_ = function(e) {
                        var t = this;
                        if (!this.changingSrc_) {
                            var i = function(e) {
                                return t.updateSourceCaches_(e)
                            }, n = this.currentSource()
                                .src,
                                r = e.src;
                            n && !/^blob:/.test(n) && /^blob:/.test(r) && (!this.lastSource_ || this.lastSource_.tech !== r && this.lastSource_.player !== n) && (i = function() {}), i(r), e.src || this.tech_.any(["sourceset", "loadstart"], (function(e) {
                                if ("sourceset" !== e.type) {
                                    var i = t.techGet("currentSrc");
                                    t.lastSource_.tech = i, t.updateSourceCaches_(i)
                                }
                            }))
                        }
                        this.lastSource_ = {
                            player: this.currentSource()
                                .src,
                            tech: e.src
                        }, this.trigger({
                            src: e.src,
                            type: "sourceset"
                        })
                    }, i.hasStarted = function(e) {
                        if (void 0 === e) return this.hasStarted_;
                        e !== this.hasStarted_ && (this.hasStarted_ = e, this.hasStarted_ ? (this.addClass("vjs-has-started"), this.trigger("firstplay")) : this.removeClass("vjs-has-started"))
                    }, i.handleTechPlay_ = function() {
                        this.removeClass("vjs-ended"), this.removeClass("vjs-paused"), this.addClass("vjs-playing"), this.hasStarted(!0), this.trigger("play")
                    }, i.handleTechRateChange_ = function() {
                        this.tech_.playbackRate() > 0 && 0 === this.cache_.lastPlaybackRate && (this.queuedCallbacks_.forEach((function(e) {
                            return e.callback(e.event)
                        })), this.queuedCallbacks_ = []), this.cache_.lastPlaybackRate = this.tech_.playbackRate(), this.trigger("ratechange")
                    }, i.handleTechWaiting_ = function() {
                        var e = this;
                        this.addClass("vjs-waiting"), this.trigger("waiting");
                        var t = this.currentTime();
                        this.on("timeupdate", (function i() {
                            t !== e.currentTime() && (e.removeClass("vjs-waiting"), e.off("timeupdate", i))
                        }))
                    }, i.handleTechCanPlay_ = function() {
                        this.removeClass("vjs-waiting"), this.trigger("canplay")
                    }, i.handleTechCanPlayThrough_ = function() {
                        this.removeClass("vjs-waiting"), this.trigger("canplaythrough")
                    }, i.handleTechPlaying_ = function() {
                        this.removeClass("vjs-waiting"), this.trigger("playing")
                    }, i.handleTechSeeking_ = function() {
                        this.addClass("vjs-seeking"), this.trigger("seeking")
                    }, i.handleTechSeeked_ = function() {
                        this.removeClass("vjs-seeking"), this.removeClass("vjs-ended"), this.trigger("seeked")
                    }, i.handleTechFirstPlay_ = function() {
                        this.options_.starttime && (Zs.warn("Passing the `starttime` option to the player will be deprecated in 6.0"), this.currentTime(this.options_.starttime)), this.addClass("vjs-has-started"), this.trigger("firstplay")
                    }, i.handleTechPause_ = function() {
                        this.removeClass("vjs-playing"), this.addClass("vjs-paused"), this.trigger("pause")
                    }, i.handleTechEnded_ = function() {
                        this.addClass("vjs-ended"), this.options_.loop ? (this.currentTime(0), this.play()) : this.paused() || this.pause(), this.trigger("ended")
                    }, i.handleTechDurationChange_ = function() {
                        this.duration(this.techGet_("duration"))
                    }, i.handleTechClick_ = function(e) {
                        Ua(e) && this.controls_ && (this.paused() ? pl(this.play()) : this.pause())
                    }, i.handleTechDoubleClick_ = function(e) {
                        this.controls_ && (Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"), (function(t) {
                            return t.contains(e.target)
                        })) || void 0 !== this.options_ && void 0 !== this.options_.userActions && void 0 !== this.options_.userActions.doubleClick && !1 === this.options_.userActions.doubleClick || (void 0 !== this.options_ && void 0 !== this.options_.userActions && "function" == typeof this.options_.userActions.doubleClick ? this.options_.userActions.doubleClick.call(this, e) : this.isFullscreen() ? this.exitFullscreen() : this.requestFullscreen()))
                    }, i.handleTechTap_ = function() {
                        this.userActive(!this.userActive())
                    }, i.handleTechTouchStart_ = function() {
                        this.userWasActive = this.userActive()
                    }, i.handleTechTouchMove_ = function() {
                        this.userWasActive && this.reportUserActivity()
                    }, i.handleTechTouchEnd_ = function(e) {
                        e.preventDefault()
                    }, i.handleStageClick_ = function() {
                        this.reportUserActivity()
                    }, i.toggleFullscreenClass_ = function() {
                        this.isFullscreen() ? this.addClass("vjs-fullscreen") : this.removeClass("vjs-fullscreen")
                    }, i.documentFullscreenChange_ = function(e) {
                        var t = this.el(),
                            i = Ii[this.fsApi_.fullscreenElement] === t;
                        !i && t.matches ? i = t.matches(":" + this.fsApi_.fullscreen) : !i && t.msMatchesSelector && (i = t.msMatchesSelector(":" + this.fsApi_.fullscreen)), this.isFullscreen(i), !1 === this.isFullscreen() && to(Ii, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_), this.fsApi_.prefixed && this.trigger("fullscreenchange")
                    }, i.handleTechFullscreenChange_ = function(e, t) {
                        t && this.isFullscreen(t.isFullscreen), this.trigger("fullscreenchange")
                    }, i.togglePictureInPictureClass_ = function() {
                        this.isInPictureInPicture() ? this.addClass("vjs-picture-in-picture") : this.removeClass("vjs-picture-in-picture")
                    }, i.handleTechEnterPictureInPicture_ = function(e) {
                        this.isInPictureInPicture(!0)
                    }, i.handleTechLeavePictureInPicture_ = function(e) {
                        this.isInPictureInPicture(!1)
                    }, i.handleTechError_ = function() {
                        var e = this.tech_.error();
                        this.error(e)
                    }, i.handleTechTextData_ = function() {
                        var e = null;
                        arguments.length > 1 && (e = arguments[1]), this.trigger("textdata", e)
                    }, i.getCache = function() {
                        return this.cache_
                    }, i.resetCache_ = function() {
                        this.cache_ = {
                            currentTime: 0,
                            inactivityTimeout: this.options_.inactivityTimeout,
                            duration: NaN,
                            lastVolume: 1,
                            lastPlaybackRate: this.defaultPlaybackRate(),
                            media: null,
                            src: "",
                            source: {},
                            sources: [],
                            volume: 1
                        }
                    }, i.techCall_ = function(e, t) {
                        this.ready((function() {
                            if (e in Zl) return function(e, t, i, n) {
                                return t[i](e.reduce(eu(i), n))
                            }(this.middleware_, this.tech_, e, t);
                            if (e in $l) return Ql(this.middleware_, this.tech_, e, t);
                            try {
                                this.tech_ && this.tech_[e](t)
                            } catch (i) {
                                throw Zs(i), i
                            }
                        }), !0)
                    }, i.techGet_ = function(e) {
                        if (this.tech_ && this.tech_.isReady_) {
                            if (e in Jl) return function(e, t, i) {
                                return e.reduceRight(eu(i), t[i]())
                            }(this.middleware_, this.tech_, e);
                            if (e in $l) return Ql(this.middleware_, this.tech_, e);
                            try {
                                return this.tech_[e]()
                            } catch (t) {
                                if (void 0 === this.tech_[e]) throw Zs("Video.js: " + e + " method not defined for " + this.techName_ + " playback technology.", t), t;
                                if ("TypeError" === t.name) throw Zs("Video.js: " + e + " unavailable on " + this.techName_ + " playback technology element.", t), this.tech_.isReady_ = !1, t;
                                throw Zs(t), t
                            }
                        }
                    }, i.play = function() {
                        var e = this,
                            t = this.options_.Promise || Ci.Promise;
                        return t ? new t((function(t) {
                            e.play_(t)
                        })) : this.play_()
                    }, i.play_ = function(e) {
                        var t = this;
                        void 0 === e && (e = pl), this.playCallbacks_.push(e);
                        var i = Boolean(!this.changingSrc_ && (this.src() || this.currentSrc()));
                        if (this.waitToPlay_ && (this.off(["ready", "loadstart"], this.waitToPlay_), this.waitToPlay_ = null), !this.isReady_ || !i) return this.waitToPlay_ = function(e) {
                            t.play_()
                        }, this.one(["ready", "loadstart"], this.waitToPlay_), void(i || !Qo && !No || this.load());
                        var n = this.techGet_("play");
                        null === n ? this.runPlayTerminatedQueue_() : this.runPlayCallbacks_(n)
                    }, i.runPlayTerminatedQueue_ = function() {
                        var e = this.playTerminatedQueue_.slice(0);
                        this.playTerminatedQueue_ = [], e.forEach((function(e) {
                            e()
                        }))
                    }, i.runPlayCallbacks_ = function(e) {
                        var t = this.playCallbacks_.slice(0);
                        this.playCallbacks_ = [], this.playTerminatedQueue_ = [], t.forEach((function(t) {
                            t(e)
                        }))
                    }, i.pause = function() {
                        this.techCall_("pause")
                    }, i.paused = function() {
                        return !1 !== this.techGet_("paused")
                    }, i.played = function() {
                        return this.techGet_("played") || il(0, 0)
                    }, i.scrubbing = function(e) {
                        if (void 0 === e) return this.scrubbing_;
                        this.scrubbing_ = !! e, e ? this.addClass("vjs-scrubbing") : this.removeClass("vjs-scrubbing")
                    }, i.currentTime = function(e) {
                        return void 0 !== e ? (e < 0 && (e = 0), void this.techCall_("setCurrentTime", e)) : (this.cache_.currentTime = this.techGet_("currentTime") || 0, this.cache_.currentTime)
                    }, i.duration = function(e) {
                        if (void 0 === e) return void 0 !== this.cache_.duration ? this.cache_.duration : NaN;
                        (e = parseFloat(e)) < 0 && (e = 1 / 0), e !== this.cache_.duration && (this.cache_.duration = e, e === 1 / 0 ? (this.addClass("vjs-live"), this.options_.liveui && this.player_.liveTracker && this.addClass("vjs-liveui")) : (this.removeClass("vjs-live"), this.removeClass("vjs-liveui")), isNaN(e) || this.trigger("durationchange"))
                    }, i.remainingTime = function() {
                        return this.duration() - this.currentTime()
                    }, i.remainingTimeDisplay = function() {
                        return Math.floor(this.duration()) - Math.floor(this.currentTime())
                    }, i.buffered = function() {
                        var e = this.techGet_("buffered");
                        return e && e.length || (e = il(0, 0)), e
                    }, i.bufferedPercent = function() {
                        return nl(this.buffered(), this.duration())
                    }, i.bufferedEnd = function() {
                        var e = this.buffered(),
                            t = this.duration(),
                            i = e.end(e.length - 1);
                        return i > t && (i = t), i
                    }, i.volume = function(e) {
                        var t;
                        return void 0 !== e ? (t = Math.max(0, Math.min(1, parseFloat(e))), this.cache_.volume = t, this.techCall_("setVolume", t), void(t > 0 && this.lastVolume_(t))) : (t = parseFloat(this.techGet_("volume")), isNaN(t) ? 1 : t)
                    }, i.muted = function(e) {
                        if (void 0 === e) return this.techGet_("muted") || !1;
                        this.techCall_("setMuted", e)
                    }, i.defaultMuted = function(e) {
                        return void 0 !== e ? this.techCall_("setDefaultMuted", e) : this.techGet_("defaultMuted") || !1
                    }, i.lastVolume_ = function(e) {
                        if (void 0 === e || 0 === e) return this.cache_.lastVolume;
                        this.cache_.lastVolume = e
                    }, i.supportsFullScreen = function() {
                        return this.techGet_("supportsFullScreen") || !1
                    }, i.isFullscreen = function(e) {
                        return void 0 !== e ? (this.isFullscreen_ = !! e, void this.toggleFullscreenClass_()) : !! this.isFullscreen_
                    }, i.requestFullscreen = function(e) {
                        var t;
                        this.isFullscreen(!0), this.fsApi_.requestFullscreen ? (eo(Ii, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_), this.fsApi_.prefixed || (t = this.options_.fullscreen && this.options_.fullscreen.options || {}, void 0 !== e && (t = e)), pl(this.el_[this.fsApi_.requestFullscreen](t))) : this.tech_.supportsFullScreen() ? this.techCall_("enterFullScreen") : (this.enterFullWindow(), this.trigger("fullscreenchange"))
                    }, i.exitFullscreen = function() {
                        this.isFullscreen(!1), this.fsApi_.requestFullscreen ? pl(Ii[this.fsApi_.exitFullscreen]()) : this.tech_.supportsFullScreen() ? this.techCall_("exitFullScreen") : (this.exitFullWindow(), this.trigger("fullscreenchange"))
                    }, i.enterFullWindow = function() {
                        this.isFullWindow = !0, this.docOrigOverflow = Ii.documentElement.style.overflow, eo(Ii, "keydown", this.boundFullWindowOnEscKey_), Ii.documentElement.style.overflow = "hidden", ga(Ii.body, "vjs-full-window"), this.trigger("enterFullWindow")
                    }, i.fullWindowOnEscKey = function(e) {
                        Oi.isEventKey(e, "Esc") && (!0 === this.isFullscreen() ? this.exitFullscreen() : this.exitFullWindow())
                    }, i.exitFullWindow = function() {
                        this.isFullWindow = !1, to(Ii, "keydown", this.boundFullWindowOnEscKey_), Ii.documentElement.style.overflow = this.docOrigOverflow, ya(Ii.body, "vjs-full-window"), this.trigger("exitFullWindow")
                    }, i.isInPictureInPicture = function(e) {
                        return void 0 !== e ? (this.isInPictureInPicture_ = !! e, void this.togglePictureInPictureClass_()) : !! this.isInPictureInPicture_
                    }, i.requestPictureInPicture = function() {
                        if ("pictureInPictureEnabled" in Ii) return this.techGet_("requestPictureInPicture")
                    }, i.exitPictureInPicture = function() {
                        if ("pictureInPictureEnabled" in Ii) return Ii.exitPictureInPicture()
                    }, i.handleKeyDown = function(e) {
                        var t = this.options_.userActions;
                        if (t && t.hotkeys) {
                            (function(e) {
                                var t = e.tagName.toLowerCase();
                                if (e.isContentEditable) return !0;
                                if ("input" === t) return -1 === ["button", "checkbox", "hidden", "radio", "reset", "submit"].indexOf(e.type);
                                return -1 !== ["textarea"].indexOf(t)
                            })(this.el_.ownerDocument.activeElement) || ("function" == typeof t.hotkeys ? t.hotkeys.call(this, e) : this.handleHotkeys(e))
                        }
                    }, i.handleHotkeys = function(e) {
                        var t = this.options_.userActions ? this.options_.userActions.hotkeys : {}, i = t.fullscreenKey,
                            n = void 0 === i ? function(e) {
                                return Oi.isEventKey(e, "f")
                            } : i,
                            r = t.muteKey,
                            s = void 0 === r ? function(e) {
                                return Oi.isEventKey(e, "m")
                            } : r,
                            a = t.playPauseKey,
                            o = void 0 === a ? function(e) {
                                return Oi.isEventKey(e, "k") || Oi.isEventKey(e, "Space")
                            } : a;
                        if (n.call(this, e)) {
                            e.preventDefault(), e.stopPropagation();
                            var l = Ao.getComponent("FullscreenToggle");
                            !1 !== Ii[this.fsApi_.fullscreenEnabled] && l.prototype.handleClick.call(this, e)
                        } else if (s.call(this, e)) {
                            e.preventDefault(), e.stopPropagation(), Ao.getComponent("MuteToggle")
                                .prototype.handleClick.call(this, e)
                        } else if (o.call(this, e)) {
                            e.preventDefault(), e.stopPropagation(), Ao.getComponent("PlayToggle")
                                .prototype.handleClick.call(this, e)
                        }
                    }, i.canPlayType = function(e) {
                        for (var t, i = 0, n = this.options_.techOrder; i < n.length; i++) {
                            var r = n[i],
                                s = Wl.getTech(r);
                            if (s || (s = Ao.getComponent(r)), s) {
                                if (s.isSupported() && (t = s.canPlayType(e))) return t
                            } else Zs.error('The "' + r + '" tech is undefined. Skipped browser support check for that tech.')
                        }
                        return ""
                    }, i.selectSource = function(e) {
                        var t, i = this,
                            n = this.options_.techOrder.map((function(e) {
                                return [e, Wl.getTech(e)]
                            }))
                                .filter((function(e) {
                                var t = e[0],
                                    i = e[1];
                                return i ? i.isSupported() : (Zs.error('The "' + t + '" tech is undefined. Skipped browser support check for that tech.'), !1)
                            })),
                            r = function(e, t, i) {
                                var n;
                                return e.some((function(e) {
                                    return t.some((function(t) {
                                        if (n = i(e, t)) return !0
                                    }))
                                })), n
                            }, s = function(e, t) {
                                var n = e[0];
                                if (e[1].canPlaySource(t, i.options_[n.toLowerCase()])) return {
                                    source: t,
                                    tech: n
                                }
                            };
                        return (this.options_.sourceOrder ? r(e, n, (t = s, function(e, i) {
                            return t(i, e)
                        })) : r(n, e, s)) || !1
                    }, i.src = function(e) {
                        var t = this;
                        if (void 0 === e) return this.cache_.src || "";
                        var i = ru(e);
                        i.length ? (this.changingSrc_ = !0, this.cache_.sources = i, this.updateSourceCaches_(i[0]), Kl(this, i[0], (function(e, n) {
                            var r, s;
                            if (t.middleware_ = n, t.cache_.sources = i, t.updateSourceCaches_(e), t.src_(e)) return i.length > 1 ? t.src(i.slice(1)) : (t.changingSrc_ = !1, t.setTimeout((function() {
                                this.error({
                                    code: 4,
                                    message: this.localize(this.options_.notSupportedMessage)
                                })
                            }), 0), void t.triggerReady());
                            r = n, s = t.tech_, r.forEach((function(e) {
                                return e.setTech && e.setTech(s)
                            }))
                        }))) : this.setTimeout((function() {
                            this.error({
                                code: 4,
                                message: this.localize(this.options_.notSupportedMessage)
                            })
                        }), 0)
                    }, i.src_ = function(e) {
                        var t, i, n = this,
                            r = this.selectSource([e]);
                        return !r || (t = r.tech, i = this.techName_, jo(t) !== jo(i) ? (this.changingSrc_ = !0, this.loadTech_(r.tech, r.source), this.tech_.ready((function() {
                            n.changingSrc_ = !1
                        })), !1) : (this.ready((function() {
                            this.tech_.constructor.prototype.hasOwnProperty("setSource") ? this.techCall_("setSource", e) : this.techCall_("src", e.src), this.changingSrc_ = !1
                        }), !0), !1))
                    }, i.load = function() {
                        this.techCall_("load")
                    }, i.reset = function() {
                        var e = this,
                            t = this.options_.Promise || Ci.Promise;
                        this.paused() || !t ? this.doReset_() : pl(this.play()
                            .then((function() {
                            return e.doReset_()
                        })))
                    }, i.doReset_ = function() {
                        this.tech_ && this.tech_.clearTracks("text"), this.resetCache_(), this.poster(""), this.loadTech_(this.options_.techOrder[0], null), this.techCall_("reset"), this.resetControlBarUI_(), ho(this) && this.trigger("playerreset")
                    }, i.resetControlBarUI_ = function() {
                        this.resetProgressBar_(), this.resetPlaybackRate_(), this.resetVolumeBar_()
                    }, i.resetProgressBar_ = function() {
                        this.currentTime(0);
                        var e = this.controlBar,
                            t = e.durationDisplay,
                            i = e.remainingTimeDisplay;
                        t && t.updateContent(), i && i.updateContent()
                    }, i.resetPlaybackRate_ = function() {
                        this.playbackRate(this.defaultPlaybackRate()), this.handleTechRateChange_()
                    }, i.resetVolumeBar_ = function() {
                        this.volume(1), this.trigger("volumechange")
                    }, i.currentSources = function() {
                        var e = this.currentSource(),
                            t = [];
                        return 0 !== Object.keys(e)
                            .length && t.push(e), this.cache_.sources || t
                    }, i.currentSource = function() {
                        return this.cache_.source || {}
                    }, i.currentSrc = function() {
                        return this.currentSource() && this.currentSource()
                            .src || ""
                    }, i.currentType = function() {
                        return this.currentSource() && this.currentSource()
                            .type || ""
                    }, i.preload = function(e) {
                        return void 0 !== e ? (this.techCall_("setPreload", e), void(this.options_.preload = e)) : this.techGet_("preload")
                    }, i.autoplay = function(e) {
                        if (void 0 === e) return this.options_.autoplay || !1;
                        var t;
                        "string" == typeof e && /(any|play|muted)/.test(e) ? (this.options_.autoplay = e, this.manualAutoplay_(e), t = !1) : this.options_.autoplay = !! e, t = void 0 === t ? this.options_.autoplay : t, this.tech_ && this.techCall_("setAutoplay", t)
                    }, i.playsinline = function(e) {
                        return void 0 !== e ? (this.techCall_("setPlaysinline", e), this.options_.playsinline = e, this) : this.techGet_("playsinline")
                    }, i.loop = function(e) {
                        return void 0 !== e ? (this.techCall_("setLoop", e), void(this.options_.loop = e)) : this.techGet_("loop")
                    }, i.poster = function(e) {
                        if (void 0 === e) return this.poster_;
                        e || (e = ""), e !== this.poster_ && (this.poster_ = e, this.techCall_("setPoster", e), this.isPosterFromTech_ = !1, this.trigger("posterchange"))
                    }, i.handleTechPosterChange_ = function() {
                        if ((!this.poster_ || this.options_.techCanOverridePoster) && this.tech_ && this.tech_.poster) {
                            var e = this.tech_.poster() || "";
                            e !== this.poster_ && (this.poster_ = e, this.isPosterFromTech_ = !0, this.trigger("posterchange"))
                        }
                    }, i.controls = function(e) {
                        if (void 0 === e) return !!this.controls_;
                        e = !! e, this.controls_ !== e && (this.controls_ = e, this.usingNativeControls() && this.techCall_("setControls", e), this.controls_ ? (this.removeClass("vjs-controls-disabled"), this.addClass("vjs-controls-enabled"), this.trigger("controlsenabled"), this.usingNativeControls() || this.addTechControlsListeners_()) : (this.removeClass("vjs-controls-enabled"), this.addClass("vjs-controls-disabled"), this.trigger("controlsdisabled"), this.usingNativeControls() || this.removeTechControlsListeners_()))
                    }, i.usingNativeControls = function(e) {
                        if (void 0 === e) return !!this.usingNativeControls_;
                        e = !! e, this.usingNativeControls_ !== e && (this.usingNativeControls_ = e, this.usingNativeControls_ ? (this.addClass("vjs-using-native-controls"), this.trigger("usingnativecontrols")) : (this.removeClass("vjs-using-native-controls"), this.trigger("usingcustomcontrols")))
                    }, i.error = function(e) {
                        if (void 0 === e) return this.error_ || null;
                        if (this.options_.suppressNotSupportedError && e && e.message && e.message === this.localize(this.options_.notSupportedMessage)) {
                            var t = function() {
                                this.error(e)
                            };
                            return this.options_.suppressNotSupportedError = !1, this.any(["click", "touchstart"], t), void this.one("loadstart", (function() {
                                this.off(["click", "touchstart"], t)
                            }))
                        }
                        if (null === e) return this.error_ = e, this.removeClass("vjs-error"), void(this.errorDisplay && this.errorDisplay.close());
                        this.error_ = new cl(e), this.addClass("vjs-error"), Zs.error("(CODE:" + this.error_.code + " " + cl.errorTypes[this.error_.code] + ")", this.error_.message, this.error_), this.trigger("error")
                    }, i.reportUserActivity = function(e) {
                        this.userActivity_ = !0
                    }, i.userActive = function(e) {
                        if (void 0 === e) return this.userActive_;
                        if ((e = !! e) !== this.userActive_) {
                            if (this.userActive_ = e, this.userActive_) return this.userActivity_ = !0, this.removeClass("vjs-user-inactive"), this.addClass("vjs-user-active"), void this.trigger("useractive");
                            this.tech_ && this.tech_.one("mousemove", (function(e) {
                                e.stopPropagation(), e.preventDefault()
                            })), this.userActivity_ = !1, this.removeClass("vjs-user-active"), this.addClass("vjs-user-inactive"), this.trigger("userinactive")
                        }
                    }, i.listenForUserActivity_ = function() {
                        var e, t, i, n = lo(this, this.reportUserActivity);
                        this.on("mousedown", (function() {
                            n(), this.clearInterval(e), e = this.setInterval(n, 250)
                        })), this.on("mousemove", (function(e) {
                            e.screenX === t && e.screenY === i || (t = e.screenX, i = e.screenY, n())
                        })), this.on("mouseup", (function(t) {
                            n(), this.clearInterval(e)
                        }));
                        var r, s = this.getChild("controlBar");
                        !s || No || Vo || (s.on("mouseenter", (function(e) {
                            this.player()
                                .cache_.inactivityTimeout = this.player()
                                .options_.inactivityTimeout, this.player()
                                .options_.inactivityTimeout = 0
                        })), s.on("mouseleave", (function(e) {
                            this.player()
                                .options_.inactivityTimeout = this.player()
                                .cache_.inactivityTimeout
                        }))), this.on("keydown", n), this.on("keyup", n), this.setInterval((function() {
                            if (this.userActivity_) {
                                this.userActivity_ = !1, this.userActive(!0), this.clearTimeout(r);
                                var e = this.options_.inactivityTimeout;
                                e <= 0 || (r = this.setTimeout((function() {
                                    this.userActivity_ || this.userActive(!1)
                                }), e))
                            }
                        }), 250)
                    }, i.playbackRate = function(e) {
                        if (void 0 === e) return this.tech_ && this.tech_.featuresPlaybackRate ? this.cache_.lastPlaybackRate || this.techGet_("playbackRate") : 1;
                        this.techCall_("setPlaybackRate", e)
                    }, i.defaultPlaybackRate = function(e) {
                        return void 0 !== e ? this.techCall_("setDefaultPlaybackRate", e) : this.tech_ && this.tech_.featuresPlaybackRate ? this.techGet_("defaultPlaybackRate") : 1
                    }, i.isAudio = function(e) {
                        if (void 0 === e) return !!this.isAudio_;
                        this.isAudio_ = !! e
                    }, i.addTextTrack = function(e, t, i) {
                        if (this.tech_) return this.tech_.addTextTrack(e, t, i)
                    }, i.addRemoteTextTrack = function(e, t) {
                        if (this.tech_) return this.tech_.addRemoteTextTrack(e, t)
                    }, i.removeRemoteTextTrack = function(e) {
                        void 0 === e && (e = {});
                        var t = e.track;
                        if (t || (t = e), this.tech_) return this.tech_.removeRemoteTextTrack(t)
                    }, i.getVideoPlaybackQuality = function() {
                        return this.techGet_("getVideoPlaybackQuality")
                    }, i.videoWidth = function() {
                        return this.tech_ && this.tech_.videoWidth && this.tech_.videoWidth() || 0
                    }, i.videoHeight = function() {
                        return this.tech_ && this.tech_.videoHeight && this.tech_.videoHeight() || 0
                    }, i.language = function(e) {
                        if (void 0 === e) return this.language_;
                        this.language_ = String(e)
                            .toLowerCase()
                    }, i.languages = function() {
                        return wo(t.prototype.options_.languages, this.languages_)
                    }, i.toJSON = function() {
                        var e = wo(this.options_),
                            t = e.tracks;
                        e.tracks = [];
                        for (var i = 0; i < t.length; i++) {
                            var n = t[i];
                            (n = wo(n))
                                .player = void 0, e.tracks[i] = n
                        }
                        return e
                    }, i.createModal = function(e, t) {
                        var i = this;
                        (t = t || {})
                            .content = e || "";
                        var n = new gl(this, t);
                        return this.addChild(n), n.on("dispose", (function() {
                            i.removeChild(n)
                        })), n.open(), n
                    }, i.updateCurrentBreakpoint_ = function() {
                        if (this.responsive()) for (var e = this.currentBreakpoint(), t = this.currentWidth(), i = 0; i < Vc.length; i++) {
                            var n = Vc[i];
                            if (t <= this.breakpoints_[n]) {
                                if (e === n) return;
                                e && this.removeClass(Hc[e]), this.addClass(Hc[n]), this.breakpoint_ = n;
                                break
                            }
                        }
                    }, i.removeCurrentBreakpoint_ = function() {
                        var e = this.currentBreakpointClass();
                        this.breakpoint_ = "", e && this.removeClass(e)
                    }, i.breakpoints = function(e) {
                        return void 0 === e || (this.breakpoint_ = "", this.breakpoints_ = na({}, qc, e), this.updateCurrentBreakpoint_()), na(this.breakpoints_)
                    }, i.responsive = function(e) {
                        return void 0 === e ? this.responsive_ : (e = Boolean(e)) !== this.responsive_ ? (this.responsive_ = e, e ? (this.on("playerresize", this.updateCurrentBreakpoint_), this.updateCurrentBreakpoint_()) : (this.off("playerresize", this.updateCurrentBreakpoint_), this.removeCurrentBreakpoint_()), e) : void 0
                    }, i.currentBreakpoint = function() {
                        return this.breakpoint_
                    }, i.currentBreakpointClass = function() {
                        return Hc[this.breakpoint_] || ""
                    }, i.loadMedia = function(e, t) {
                        var i = this;
                        if (e && "object" == typeof e) {
                            this.reset(), this.cache_.media = wo(e);
                            var n = this.cache_.media,
                                r = n.artwork,
                                s = n.poster,
                                a = n.src,
                                o = n.textTracks;
                            !r && s && (this.cache_.media.artwork = [{
                                src: s,
                                type: nu(s)
                            }]), a && this.src(a), s && this.poster(s), Array.isArray(o) && o.forEach((function(e) {
                                return i.addRemoteTextTrack(e, !1)
                            })), this.ready(t)
                        }
                    }, i.getMedia = function() {
                        if (!this.cache_.media) {
                            var e = this.poster(),
                                t = {
                                    src: this.currentSources(),
                                    textTracks: Array.prototype.map.call(this.remoteTextTracks(), (function(e) {
                                        return {
                                            kind: e.kind,
                                            label: e.label,
                                            language: e.language,
                                            src: e.src
                                        }
                                    }))
                                };
                            return e && (t.poster = e, t.artwork = [{
                                src: t.poster,
                                type: nu(t.poster)
                            }]), t
                        }
                        return wo(this.cache_.media)
                    }, t.getTagSettings = function(e) {
                        var t = {
                            sources: [],
                            tracks: []
                        }, i = Ta(e),
                            n = i["data-setup"];
                        if (va(e, "vjs-fill") && (i.fill = !0), va(e, "vjs-fluid") && (i.fluid = !0), null !== n) {
                            var r = Li(n || "{}"),
                                s = r[0],
                                a = r[1];
                            s && Zs.error(s), na(i, a)
                        }
                        if (na(t, i), e.hasChildNodes()) for (var o = e.childNodes, l = 0, u = o.length; l < u; l++) {
                            var c = o[l],
                                d = c.nodeName.toLowerCase();
                            "source" === d ? t.sources.push(Ta(c)) : "track" === d && t.tracks.push(Ta(c))
                        }
                        return t
                    }, i.flexNotSupported_ = function() {
                        var e = Ii.createElement("i");
                        return !("flexBasis" in e.style || "webkitFlexBasis" in e.style || "mozFlexBasis" in e.style || "msFlexBasis" in e.style || "msFlexOrder" in e.style)
                    }, t
                }(Ao);
                zl.names.forEach((function(e) {
                    var t = zl[e];
                    zc.prototype[t.getterName] = function() {
                        return this.tech_ ? this.tech_[t.getterName]() : (this[t.privateName] = this[t.privateName] || new t.ListClass, this[t.privateName])
                    }
                })), zc.players = {};
                var Wc = Ci.navigator;
                zc.prototype.options_ = {
                    techOrder: Wl.defaultTechOrder_,
                    html5: {},
                    flash: {},
                    inactivityTimeout: 2e3,
                    playbackRates: [],
                    liveui: !1,
                    children: ["mediaLoader", "posterImage", "textTrackDisplay", "loadingSpinner", "bigPlayButton", "liveTracker", "controlBar", "errorDisplay", "textTrackSettings", "resizeManager"],
                    language: Wc && (Wc.languages && Wc.languages[0] || Wc.userLanguage || Wc.language) || "en",
                    languages: {},
                    notSupportedMessage: "No compatible source was found for this media.",
                    fullscreen: {
                        options: {
                            navigationUI: "hide"
                        }
                    },
                    breakpoints: {},
                    responsive: !1
                }, ["ended", "seeking", "seekable", "networkState", "readyState"].forEach((function(e) {
                    zc.prototype[e] = function() {
                        return this.techGet_(e)
                    }
                })), Nc.forEach((function(e) {
                    zc.prototype["handleTech" + jo(e) + "_"] = function() {
                        return this.trigger(e)
                    }
                })), Ao.registerComponent("Player", zc);
                var Gc = "plugin",
                    Yc = {}, Xc = function(e) {
                        return Yc.hasOwnProperty(e)
                    }, Kc = function(e) {
                        return Xc(e) ? Yc[e] : void 0
                    }, Qc = function(e, t) {
                        e.activePlugins_ = e.activePlugins_ || {}, e.activePlugins_[t] = !0
                    }, Jc = function(e, t, i) {
                        var n = (i ? "before" : "") + "pluginsetup";
                        e.trigger(n, t), e.trigger(n + ":" + t.name, t)
                    }, Zc = function(e, t) {
                        return t.prototype.name = e,
                        function() {
                            Jc(this, {
                                name: e,
                                plugin: t,
                                instance: null
                            }, !0);
                            for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
                            var s = Io(t, [this].concat(n));
                            return this[e] = function() {
                                return s
                            }, Jc(this, s.getEventHash()), s
                        }
                    }, $c = function() {
                        function e(t) {
                            if (this.constructor === e) throw new Error("Plugin must be sub-classed; not directly instantiated.");
                            this.player = t, bo(this), delete this.trigger, ko(this, this.constructor.defaultState), Qc(t, this.name), this.dispose = lo(this, this.dispose), t.on("dispose", this.dispose)
                        }
                        var t = e.prototype;
                        return t.version = function() {
                            return this.constructor.VERSION
                        }, t.getEventHash = function(e) {
                            return void 0 === e && (e = {}), e.name = this.name, e.plugin = this.constructor, e.instance = this, e
                        }, t.trigger = function(e, t) {
                            return void 0 === t && (t = {}), io(this.eventBusEl_, e, this.getEventHash(t))
                        }, t.handleStateChanged = function(e) {}, t.dispose = function() {
                            var e = this.name,
                                t = this.player;
                            this.trigger("dispose"), this.off(), t.off("dispose", this.dispose), t.activePlugins_[e] = !1, this.player = this.state = null, t[e] = Zc(e, Yc[e])
                        }, e.isBasic = function(t) {
                            var i = "string" == typeof t ? Kc(t) : t;
                            return "function" == typeof i && !e.prototype.isPrototypeOf(i.prototype)
                        }, e.registerPlugin = function(t, i) {
                            if ("string" != typeof t) throw new Error('Illegal plugin name, "' + t + '", must be a string, was ' + typeof t + ".");
                            if (Xc(t)) Zs.warn('A plugin named "' + t + '" already exists. You may want to avoid re-registering plugins!');
                            else if (zc.prototype.hasOwnProperty(t)) throw new Error('Illegal plugin name, "' + t + '", cannot share a name with an existing player method!');
                            if ("function" != typeof i) throw new Error('Illegal plugin for "' + t + '", must be a function, was ' + typeof i + ".");
                            return Yc[t] = i, t !== Gc && (e.isBasic(i) ? zc.prototype[t] = function(e, t) {
                                var i = function() {
                                    Jc(this, {
                                        name: e,
                                        plugin: t,
                                        instance: null
                                    }, !0);
                                    var i = t.apply(this, arguments);
                                    return Qc(this, e), Jc(this, {
                                        name: e,
                                        plugin: t,
                                        instance: i
                                    }), i
                                };
                                return Object.keys(t)
                                    .forEach((function(e) {
                                    i[e] = t[e]
                                })), i
                            }(t, i) : zc.prototype[t] = Zc(t, i)), i
                        }, e.deregisterPlugin = function(e) {
                            if (e === Gc) throw new Error("Cannot de-register base plugin.");
                            Xc(e) && (delete Yc[e], delete zc.prototype[e])
                        }, e.getPlugins = function(e) {
                            var t;
                            return void 0 === e && (e = Object.keys(Yc)), e.forEach((function(e) {
                                var i = Kc(e);
                                i && ((t = t || {})[e] = i)
                            })), t
                        }, e.getPluginVersion = function(e) {
                            var t = Kc(e);
                            return t && t.VERSION || ""
                        }, e
                    }();
                $c.getPlugin = Kc, $c.BASE_PLUGIN_NAME = Gc, $c.registerPlugin(Gc, $c), zc.prototype.usingPlugin = function(e) {
                    return !!this.activePlugins_ && !0 === this.activePlugins_[e]
                }, zc.prototype.hasPlugin = function(e) {
                    return !!Xc(e)
                };
                var ed = function(e) {
                    return 0 === e.indexOf("#") ? e.slice(1) : e
                };

                function td(e, t, i) {
                    var n = td.getPlayer(e);
                    if (n) return t && Zs.warn('Player "' + e + '" is already initialised. Options will not be applied.'), i && n.ready(i), n;
                    var r = "string" == typeof e ? Ma("#" + ed(e)) : e;
                    if (!ca(r)) throw new TypeError("The element or ID supplied is not valid. (videojs)");
                    r.ownerDocument.defaultView && r.ownerDocument.body.contains(r) || Zs.warn("The element supplied is not included in the DOM"), t = t || {}, td.hooks("beforesetup")
                        .forEach((function(e) {
                        var i = e(r, wo(t));
                        ra(i) && !Array.isArray(i) ? t = wo(t, i) : Zs.error("please return an object in beforesetup hooks")
                    }));
                    var s = Ao.getComponent("Player");
                    return n = new s(r, t, i), td.hooks("setup")
                        .forEach((function(e) {
                        return e(n)
                    })), n
                }
                if (td.hooks_ = {}, td.hooks = function(e, t) {
                    return td.hooks_[e] = td.hooks_[e] || [], t && (td.hooks_[e] = td.hooks_[e].concat(t)), td.hooks_[e]
                }, td.hook = function(e, t) {
                    td.hooks(e, t)
                }, td.hookOnce = function(e, t) {
                    td.hooks(e, [].concat(t)
                        .map((function(t) {
                        return function i() {
                            return td.removeHook(e, i), t.apply(void 0, arguments)
                        }
                    })))
                }, td.removeHook = function(e, t) {
                    var i = td.hooks(e)
                        .indexOf(t);
                    return !(i <= -1) && (td.hooks_[e] = td.hooks_[e].slice(), td.hooks_[e].splice(i, 1), !0)
                }, !0 !== Ci.VIDEOJS_NO_DYNAMIC_STYLE && ua()) {
                    var id = Ma(".vjs-styles-defaults");
                    if (!id) {
                        id = za("vjs-styles-defaults");
                        var nd = Ma("head");
                        nd && nd.insertBefore(id, nd.firstChild), Wa(id, "\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")
                    }
                }
                Ha(1, td), td.VERSION = Qs, td.options = zc.prototype.options_, td.getPlayers = function() {
                    return zc.players
                }, td.getPlayer = function(e) {
                    var t, i = zc.players;
                    if ("string" == typeof e) {
                        var n = ed(e),
                            r = i[n];
                        if (r) return r;
                        t = Ma("#" + n)
                    } else t = e;
                    if (ca(t)) {
                        var s = t,
                            a = s.player,
                            o = s.playerId;
                        if (a || i[o]) return a || i[o]
                    }
                }, td.getAllPlayers = function() {
                    return Object.keys(zc.players)
                        .map((function(e) {
                        return zc.players[e]
                    }))
                        .filter(Boolean)
                }, td.players = zc.players, td.getComponent = Ao.getComponent, td.registerComponent = function(e, t) {
                    Wl.isTech(t) && Zs.warn("The " + e + " tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"), Ao.registerComponent.call(Ao, e, t)
                }, td.getTech = Wl.getTech, td.registerTech = Wl.registerTech, td.use = function(e, t) {
                    Gl[e] = Gl[e] || [], Gl[e].push(t)
                }, Object.defineProperty(td, "middleware", {
                    value: {},
                    writeable: !1,
                    enumerable: !0
                }), Object.defineProperty(td.middleware, "TERMINATOR", {
                    value: Xl,
                    writeable: !1,
                    enumerable: !0
                }), td.browser = $o, td.TOUCH_ENABLED = Zo, td.extend = function(e, t) {
                    void 0 === t && (t = {});
                    var i = function() {
                        e.apply(this, arguments)
                    }, n = {};
                    for (var r in "object" == typeof t ? (t.constructor !== Object.prototype.constructor && (i = t.constructor), n = t) : "function" == typeof t && (i = t), function(e, t) {
                            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }), t && (e.super_ = t)
                        }(i, e), n) n.hasOwnProperty(r) && (i.prototype[r] = n[r]);
                    return i
                }, td.mergeOptions = wo, td.bind = lo, td.registerPlugin = $c.registerPlugin, td.deregisterPlugin = $c.deregisterPlugin, td.plugin = function(e, t) {
                    return Zs.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"), $c.registerPlugin(e, t)
                }, td.getPlugins = $c.getPlugins, td.getPlugin = $c.getPlugin, td.getPluginVersion = $c.getPluginVersion, td.addLanguage = function(e, t) {
                    var i;
                    return e = ("" + e)
                        .toLowerCase(), td.options.languages = wo(td.options.languages, ((i = {})[e] = t, i)), td.options.languages[e]
                }, td.log = Zs, td.createLogger = $s, td.createTimeRange = td.createTimeRanges = il, td.formatTime = bu, td.setFormatTime = function(e) {
                    _u = e
                }, td.resetFormatTime = function() {
                    _u = yu
                }, td.parseUrl = Pl, td.isCrossOrigin = Ul, td.EventTarget = co, td.on = eo, td.one = no, td.off = to, td.trigger = io, td.xhr = qi, td.TextTrack = Bl, td.AudioTrack = Nl, td.VideoTrack = Fl, ["isEl", "isTextNode", "createEl", "hasClass", "addClass", "removeClass", "toggleClass", "setAttributes", "getAttributes", "emptyEl", "appendContent", "insertContent"].forEach((function(e) {
                    td[e] = function() {
                        return Zs.warn("videojs." + e + "() is deprecated; use videojs.dom." + e + "() instead"), Na[e].apply(null, arguments)
                    }
                })), td.computedStyle = aa, td.dom = Na, td.url = Rl;
                /**
                 * @videojs/http-streaming
                 * @version 1.10.6
                 * @copyright 2019 Brightcove, Inc
                 * @license Apache-2.0
                 */
                var rd = function(e, t) {
                    return /^[a-z]+:/i.test(t) ? t : (/\/\//i.test(e) || (e = Pn.buildAbsoluteURL(Ci.location.href, e)), Pn.buildAbsoluteURL(e, t))
                }, sd = function(e, t, i) {
                    return e && i.responseURL && t !== i.responseURL ? i.responseURL : t
                }, ad = function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }, od = function() {
                    function e(e, t) {
                        for (var i = 0; i < t.length; i++) {
                            var n = t[i];
                            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
                        }
                    }
                    return function(t, i, n) {
                        return i && e(t.prototype, i), n && e(t, n), t
                    }
                }(),
                    ld = function e(t, i, n) {
                        null === t && (t = Function.prototype);
                        var r = Object.getOwnPropertyDescriptor(t, i);
                        if (void 0 === r) {
                            var s = Object.getPrototypeOf(t);
                            return null === s ? void 0 : e(s, i, n)
                        }
                        if ("value" in r) return r.value;
                        var a = r.get;
                        return void 0 !== a ? a.call(n) : void 0
                    }, ud = function(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }, cd = function(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }, dd = function(e, t) {
                        if (Array.isArray(e)) return e;
                        if (Symbol.iterator in Object(e)) return function(e, t) {
                            var i = [],
                                n = !0,
                                r = !1,
                                s = void 0;
                            try {
                                for (var a, o = e[Symbol.iterator](); !(n = (a = o.next())
                                    .done) && (i.push(a.value), !t || i.length !== t); n = !0);
                            } catch (l) {
                                r = !0, s = l
                            } finally {
                                try {
                                    !n && o.
                                    return &&o.
                                    return ()
                                } finally {
                                    if (r) throw s
                                }
                            }
                            return i
                        }(e, t);
                        throw new TypeError("Invalid attempt to destructure non-iterable instance")
                    }, hd = td.mergeOptions,
                    pd = td.EventTarget,
                    fd = td.log,
                    md = function(e, t) {
                        ["AUDIO", "SUBTITLES"].forEach((function(i) {
                            for (var n in e.mediaGroups[i]) for (var r in e.mediaGroups[i][n]) {
                                var s = e.mediaGroups[i][n][r];
                                t(s, i, n, r)
                            }
                        }))
                    }, vd = function(e, t) {
                        var i = hd(e, {}),
                            n = i.playlists[t.uri];
                        if (!n) return null;
                        if (n.segments && t.segments && n.segments.length === t.segments.length && n.endList === t.endList && n.mediaSequence === t.mediaSequence) return null;
                        var r = hd(n, t);
                        n.segments && (r.segments = function(e, t, i) {
                            var n = t.slice();
                            i = i || 0;
                            for (var r = Math.min(e.length, t.length + i), s = i; s < r; s++) n[s - i] = hd(e[s], n[s - i]);
                            return n
                        }(n.segments, t.segments, t.mediaSequence - n.mediaSequence)), r.segments.forEach((function(e) {
                            ! function(e, t) {
                                e.resolvedUri || (e.resolvedUri = rd(t, e.uri)), e.key && !e.key.resolvedUri && (e.key.resolvedUri = rd(t, e.key.uri)), e.map && !e.map.resolvedUri && (e.map.resolvedUri = rd(t, e.map.uri))
                            }(e, r.resolvedUri)
                        }));
                        for (var s = 0; s < i.playlists.length; s++) i.playlists[s].uri === t.uri && (i.playlists[s] = r);
                        return i.playlists[t.uri] = r, i
                    }, gd = function(e) {
                        for (var t = e.playlists.length; t--;) {
                            var i = e.playlists[t];
                            e.playlists[i.uri] = i, i.resolvedUri = rd(e.uri, i.uri), i.id = t, i.attributes || (i.attributes = {}, fd.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))
                        }
                    }, yd = function(e) {
                        md(e, (function(t) {
                            t.uri && (t.resolvedUri = rd(e.uri, t.uri))
                        }))
                    }, _d = function(e, t) {
                        var i = e.segments[e.segments.length - 1];
                        return t && i && i.duration ? 1e3 * i.duration : 500 * (e.targetDuration || 10)
                    }, bd = function(e) {
                        function t(e, i) {
                            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                            ad(this, t);
                            var r = cd(this, (t.__proto__ || Object.getPrototypeOf(t))
                                .call(this)),
                                s = n.withCredentials,
                                a = void 0 !== s && s,
                                o = n.handleManifestRedirects,
                                l = void 0 !== o && o;
                            r.srcUrl = e, r.hls_ = i, r.withCredentials = a, r.handleManifestRedirects = l;
                            var u = i.options_;
                            if (r.customTagParsers = u && u.customTagParsers || [], r.customTagMappers = u && u.customTagMappers || [], !r.srcUrl) throw new Error("A non-empty playlist URL is required");
                            return r.state = "HAVE_NOTHING", r.on("mediaupdatetimeout", (function() {
                                "HAVE_METADATA" === r.state && (r.state = "HAVE_CURRENT_METADATA", r.request = r.hls_.xhr({
                                    uri: rd(r.master.uri, r.media()
                                        .uri),
                                    withCredentials: r.withCredentials
                                }, (function(e, t) {
                                    if (r.request) return e ? r.playlistRequestError(r.request, r.media()
                                        .uri, "HAVE_METADATA") : void r.haveMetadata(r.request, r.media()
                                        .uri)
                                })))
                            })), r
                        }
                        return ud(t, e), od(t, [{
                            key: "playlistRequestError",
                            value: function(e, t, i) {
                                this.request = null, i && (this.state = i), this.error = {
                                    playlist: this.master.playlists[t],
                                    status: e.status,
                                    message: "HLS playlist request error at URL: " + t + ".",
                                    responseText: e.responseText,
                                    code: e.status >= 500 ? 4 : 2
                                }, this.trigger("error")
                            }
                        }, {
                            key: "haveMetadata",
                            value: function(e, t) {
                                var i = this;
                                this.request = null, this.state = "HAVE_METADATA";
                                var n = new Fn;
                                this.customTagParsers.forEach((function(e) {
                                    return n.addParser(e)
                                })), this.customTagMappers.forEach((function(e) {
                                    return n.addTagMapper(e)
                                })), n.push(e.responseText), n.end(), n.manifest.uri = t, n.manifest.attributes = n.manifest.attributes || {};
                                var r = vd(this.master, n.manifest);
                                this.targetDuration = n.manifest.targetDuration, r ? (this.master = r, this.media_ = this.master.playlists[n.manifest.uri]) : this.trigger("playlistunchanged"), this.media()
                                    .endList || (Ci.clearTimeout(this.mediaUpdateTimeout), this.mediaUpdateTimeout = Ci.setTimeout((function() {
                                    i.trigger("mediaupdatetimeout")
                                }), _d(this.media(), !! r))), this.trigger("loadedplaylist")
                            }
                        }, {
                            key: "dispose",
                            value: function() {
                                this.stopRequest(), Ci.clearTimeout(this.mediaUpdateTimeout), Ci.clearTimeout(this.finalRenditionTimeout)
                            }
                        }, {
                            key: "stopRequest",
                            value: function() {
                                if (this.request) {
                                    var e = this.request;
                                    this.request = null, e.onreadystatechange = null, e.abort()
                                }
                            }
                        }, {
                            key: "media",
                            value: function(e, t) {
                                var i = this;
                                if (!e) return this.media_;
                                if ("HAVE_NOTHING" === this.state) throw new Error("Cannot switch media playlist from " + this.state);
                                if ("string" == typeof e) {
                                    if (!this.master.playlists[e]) throw new Error("Unknown playlist URI: " + e);
                                    e = this.master.playlists[e]
                                }
                                if (Ci.clearTimeout(this.finalRenditionTimeout), t) {
                                    var n = e.targetDuration / 2 * 1e3 || 5e3;
                                    this.finalRenditionTimeout = Ci.setTimeout(this.media.bind(this, e, !1), n)
                                } else {
                                    var r = this.state,
                                        s = !this.media_ || e.uri !== this.media_.uri;
                                    if (this.master.playlists[e.uri].endList) return this.request && (this.request.onreadystatechange = null, this.request.abort(), this.request = null), this.state = "HAVE_METADATA", this.media_ = e, void(s && (this.trigger("mediachanging"), this.trigger("mediachange")));
                                    if (s) {
                                        if (this.state = "SWITCHING_MEDIA", this.request) {
                                            if (e.resolvedUri === this.request.url) return;
                                            this.request.onreadystatechange = null, this.request.abort(), this.request = null
                                        }
                                        this.media_ && this.trigger("mediachanging"), this.request = this.hls_.xhr({
                                            uri: e.resolvedUri,
                                            withCredentials: this.withCredentials
                                        }, (function(t, n) {
                                            if (i.request) {
                                                if (e.resolvedUri = sd(i.handleManifestRedirects, e.resolvedUri, n), t) return i.playlistRequestError(i.request, e.uri, r);
                                                i.haveMetadata(n, e.uri), "HAVE_MASTER" === r ? i.trigger("loadedmetadata") : i.trigger("mediachange")
                                            }
                                        }))
                                    }
                                }
                            }
                        }, {
                            key: "pause",
                            value: function() {
                                this.stopRequest(), Ci.clearTimeout(this.mediaUpdateTimeout), "HAVE_NOTHING" === this.state && (this.started = !1), "SWITCHING_MEDIA" === this.state ? this.media_ ? this.state = "HAVE_METADATA" : this.state = "HAVE_MASTER" : "HAVE_CURRENT_METADATA" === this.state && (this.state = "HAVE_METADATA")
                            }
                        }, {
                            key: "load",
                            value: function(e) {
                                var t = this;
                                Ci.clearTimeout(this.mediaUpdateTimeout);
                                var i = this.media();
                                if (e) {
                                    var n = i ? i.targetDuration / 2 * 1e3 : 5e3;
                                    this.mediaUpdateTimeout = Ci.setTimeout((function() {
                                        return t.load()
                                    }), n)
                                } else this.started ? i && !i.endList ? this.trigger("mediaupdatetimeout") : this.trigger("loadedplaylist") : this.start()
                            }
                        }, {
                            key: "start",
                            value: function() {
                                var e = this;
                                this.started = !0, this.request = this.hls_.xhr({
                                    uri: this.srcUrl,
                                    withCredentials: this.withCredentials
                                }, (function(t, i) {
                                    if (e.request) {
                                        if (e.request = null, t) return e.error = {
                                            status: i.status,
                                            message: "HLS playlist request error at URL: " + e.srcUrl + ".",
                                            responseText: i.responseText,
                                            code: 2
                                        }, "HAVE_NOTHING" === e.state && (e.started = !1), e.trigger("error");
                                        var n = new Fn;
                                        return e.customTagParsers.forEach((function(e) {
                                            return n.addParser(e)
                                        })), e.customTagMappers.forEach((function(e) {
                                            return n.addTagMapper(e)
                                        })), n.push(i.responseText), n.end(), e.state = "HAVE_MASTER", e.srcUrl = sd(e.handleManifestRedirects, e.srcUrl, i), n.manifest.uri = e.srcUrl, n.manifest.playlists ? (e.master = n.manifest, gd(e.master), yd(e.master), e.trigger("loadedplaylist"), void(e.request || e.media(n.manifest.playlists[0]))) : (e.master = {
                                            mediaGroups: {
                                                AUDIO: {},
                                                VIDEO: {},
                                                "CLOSED-CAPTIONS": {},
                                                SUBTITLES: {}
                                            },
                                            uri: Ci.location.href,
                                            playlists: [{
                                                uri: e.srcUrl,
                                                id: 0,
                                                resolvedUri: e.srcUrl,
                                                attributes: {}
                                            }]
                                        }, e.master.playlists[e.srcUrl] = e.master.playlists[0], e.haveMetadata(i, e.srcUrl), e.trigger("loadedmetadata"))
                                    }
                                }))
                            }
                        }]), t
                    }(pd),
                    Td = td.createTimeRange,
                    kd = function(e, t, i) {
                        var n, r;
                        return void 0 === t && (t = e.mediaSequence + e.segments.length), t < e.mediaSequence ? 0 : (n = function(e, t) {
                            var i = 0,
                                n = t - e.mediaSequence,
                                r = e.segments[n];
                            if (r) {
                                if (void 0 !== r.start) return {
                                    result: r.start,
                                    precise: !0
                                };
                                if (void 0 !== r.end) return {
                                    result: r.end - r.duration,
                                    precise: !0
                                }
                            }
                            for (; n--;) {
                                if (void 0 !== (r = e.segments[n])
                                    .end) return {
                                    result: i + r.end,
                                    precise: !0
                                };
                                if (i += r.duration, void 0 !== r.start) return {
                                    result: i + r.start,
                                    precise: !0
                                }
                            }
                            return {
                                result: i,
                                precise: !1
                            }
                        }(e, t), n.precise ? n.result : (r = function(e, t) {
                            for (var i = 0, n = void 0, r = t - e.mediaSequence; r < e.segments.length; r++) {
                                if (void 0 !== (n = e.segments[r])
                                    .start) return {
                                    result: n.start - i,
                                    precise: !0
                                };
                                if (i += n.duration, void 0 !== n.end) return {
                                    result: n.end - i,
                                    precise: !0
                                }
                            }
                            return {
                                result: -1,
                                precise: !1
                            }
                        }(e, t), r.precise ? r.result : n.result + i))
                    }, Sd = function(e, t, i) {
                        if (!e) return 0;
                        if ("number" != typeof i && (i = 0), void 0 === t) {
                            if (e.totalDuration) return e.totalDuration;
                            if (!e.endList) return Ci.Infinity
                        }
                        return kd(e, t, i)
                    }, jd = function(e, t, i) {
                        var n = 0;
                        if (t > i) {
                            var r = [i, t];
                            t = r[0], i = r[1]
                        }
                        if (t < 0) {
                            for (var s = t; s < Math.min(0, i); s++) n += e.targetDuration;
                            t = 0
                        }
                        for (var a = t; a < i; a++) n += e.segments[a].duration;
                        return n
                    }, wd = function(e) {
                        if (!e.segments.length) return 0;
                        for (var t = e.segments.length - 1, i = e.segments[t].duration || e.targetDuration, n = i + 2 * e.targetDuration; t-- && !((i += e.segments[t].duration) >= n););
                        return Math.max(0, t)
                    }, Ad = function(e, t, i) {
                        if (!e || !e.segments) return null;
                        if (e.endList) return Sd(e);
                        if (null === t) return null;
                        t = t || 0;
                        var n = i ? wd(e) : e.segments.length;
                        return kd(e, e.mediaSequence + n, t)
                    }, Cd = function(e) {
                        return e - Math.floor(e) == 0
                    }, Ed = function(e, t) {
                        if (Cd(t)) return t + .1 * e;
                        for (var i = t.toString()
                            .split(".")[1].length, n = 1; n <= i; n++) {
                            var r = Math.pow(10, n),
                                s = t * r;
                            if (Cd(s) || n === i) return (s + e) / r
                        }
                    }, xd = Ed.bind(null, 1),
                    Id = Ed.bind(null, -1),
                    Ld = function(e) {
                        return e.excludeUntil && e.excludeUntil > Date.now()
                    }, Pd = function(e) {
                        return e.excludeUntil && e.excludeUntil === 1 / 0
                    }, Od = function(e) {
                        var t = Ld(e);
                        return !e.disabled && !t
                    }, Dd = function(e, t) {
                        return t.attributes && t.attributes[e]
                    }, Ud = function(e, t) {
                        if (1 === e.playlists.length) return !0;
                        var i = t.attributes.BANDWIDTH || Number.MAX_VALUE;
                        return 0 === e.playlists.filter((function(e) {
                            return !!Od(e) && (e.attributes.BANDWIDTH || 0) < i
                        }))
                            .length
                    }, Rd = {
                        duration: Sd,
                        seekable: function(e, t) {
                            var i = t || 0,
                                n = Ad(e, t, !0);
                            return null === n ? Td() : Td(i, n)
                        },
                        safeLiveIndex: wd,
                        getMediaInfoForTime: function(e, t, i, n) {
                            var r = void 0,
                                s = void 0,
                                a = e.segments.length,
                                o = t - n;
                            if (o < 0) {
                                if (i > 0) for (r = i - 1; r >= 0; r--) if (s = e.segments[r], (o += Id(s.duration)) > 0) return {
                                    mediaIndex: r,
                                    startTime: n - jd(e, i, r)
                                };
                                return {
                                    mediaIndex: 0,
                                    startTime: t
                                }
                            }
                            if (i < 0) {
                                for (r = i; r < 0; r++) if ((o -= e.targetDuration) < 0) return {
                                    mediaIndex: 0,
                                    startTime: t
                                };
                                i = 0
                            }
                            for (r = i; r < a; r++) if (s = e.segments[r], (o -= xd(s.duration)) < 0) return {
                                mediaIndex: r,
                                startTime: n + jd(e, i, r)
                            };
                            return {
                                mediaIndex: a - 1,
                                startTime: t
                            }
                        },
                        isEnabled: Od,
                        isDisabled: function(e) {
                            return e.disabled
                        },
                        isBlacklisted: Ld,
                        isIncompatible: Pd,
                        playlistEnd: Ad,
                        isAes: function(e) {
                            for (var t = 0; t < e.segments.length; t++) if (e.segments[t].key) return !0;
                            return !1
                        },
                        isFmp4: function(e) {
                            for (var t = 0; t < e.segments.length; t++) if (e.segments[t].map) return !0;
                            return !1
                        },
                        hasAttribute: Dd,
                        estimateSegmentRequestTime: function(e, t, i) {
                            var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                            if (!Dd("BANDWIDTH", i)) return NaN;
                            var r = e * i.attributes.BANDWIDTH;
                            return (r - 8 * n) / t
                        },
                        isLowestEnabledRendition: Ud
                    }, Md = td.xhr,
                    Bd = td.mergeOptions,
                    Nd = function() {
                        return function e(t, i) {
                            t = Bd({
                                timeout: 45e3
                            }, t);
                            var n = e.beforeRequest || td.Hls.xhr.beforeRequest;
                            if (n && "function" == typeof n) {
                                var r = n(t);
                                r && (t = r)
                            }
                            var s = Md(t, (function(e, t) {
                                var n = s.response;
                                !e && n && (s.responseTime = Date.now(), s.roundTripTime = s.responseTime - s.requestTime, s.bytesReceived = n.byteLength || n.length, s.bandwidth || (s.bandwidth = Math.floor(s.bytesReceived / s.roundTripTime * 8 * 1e3))), t.headers && (s.responseHeaders = t.headers), e && "ETIMEDOUT" === e.code && (s.timedout = !0), e || s.aborted || 200 === t.statusCode || 206 === t.statusCode || 0 === t.statusCode || (e = new Error("XHR Failed with a response of: " + (s && (n || s.responseText)))), i(e, s)
                            })),
                                a = s.abort;
                            return s.abort = function() {
                                return s.aborted = !0, a.apply(s, arguments)
                            }, s.uri = t.uri, s.requestTime = Date.now(), s
                        }
                    }, Fd = function(e) {
                        var t, i, n = {};
                        return e.byterange && (n.Range = (t = e.byterange, i = t.offset + t.length - 1, "bytes=" + t.offset + "-" + i)), n
                    }, Vd = function(e, t) {
                        return e.start(t) + "-" + e.end(t)
                    }, Hd = function(e, t) {
                        var i = e.toString(16);
                        return "00".substring(0, 2 - i.length) + i + (t % 2 ? " " : "")
                    }, qd = function(e) {
                        return e >= 32 && e < 126 ? String.fromCharCode(e) : "."
                    }, zd = function(e) {
                        var t = {};
                        return Object.keys(e)
                            .forEach((function(i) {
                            var n = e[i];
                            ArrayBuffer.isView(n) ? t[i] = {
                                bytes: n.buffer,
                                byteOffset: n.byteOffset,
                                byteLength: n.byteLength
                            } : t[i] = n
                        })), t
                    }, Wd = function(e) {
                        var t = e.byterange || {
                            length: 1 / 0,
                            offset: 0
                        };
                        return [t.length, t.offset, e.resolvedUri].join(",")
                    }, Gd = function(e) {
                        return e.resolvedUri
                    }, Yd = function(e) {
                        for (var t = Array.prototype.slice.call(e), i = 16, n = "", r = 0; r < t.length / i; r++) n += t.slice(r * i, r * i + i)
                            .map(Hd)
                            .join("") + " " + t.slice(r * i, r * i + i)
                            .map(qd)
                            .join("") + "\n";
                        return n
                    }, Xd = Object.freeze({
                        createTransferableMessage: zd,
                        initSegmentId: Wd,
                        segmentKeyId: Gd,
                        hexDump: Yd,
                        tagDump: function(e) {
                            var t = e.bytes;
                            return Yd(t)
                        },
                        textRanges: function(e) {
                            var t = "",
                                i = void 0;
                            for (i = 0; i < e.length; i++) t += Vd(e, i) + " ";
                            return t
                        }
                    }),
                    Kd = function(e) {
                        var t = e.playlist,
                            i = e.time,
                            n = void 0 === i ? void 0 : i,
                            r = e.callback;
                        if (!r) throw new Error("getProgramTime: callback must be provided");
                        if (!t || void 0 === n) return r({
                            message: "getProgramTime: playlist and time must be provided"
                        });
                        var s = function(e, t) {
                            if (!t || !t.segments || 0 === t.segments.length) return null;
                            for (var i = 0, n = void 0, r = 0; r < t.segments.length && !(e <= (i = (n = t.segments[r])
                                .videoTimingInfo ? n.videoTimingInfo.transmuxedPresentationEnd : i + n.duration)); r++);
                            var s = t.segments[t.segments.length - 1];
                            if (s.videoTimingInfo && s.videoTimingInfo.transmuxedPresentationEnd < e) return null;
                            if (e > i) {
                                if (e > i + .25 * s.duration) return null;
                                n = s
                            }
                            return {
                                segment: n,
                                estimatedStart: n.videoTimingInfo ? n.videoTimingInfo.transmuxedPresentationStart : i - n.duration,
                                type: n.videoTimingInfo ? "accurate" : "estimate"
                            }
                        }(n, t);
                        if (!s) return r({
                            message: "valid programTime was not found"
                        });
                        if ("estimate" === s.type) return r({
                            message: "Accurate programTime could not be determined. Please seek to e.seekTime and try again",
                            seekTime: s.estimatedStart
                        });
                        var a = {
                            mediaSeconds: n
                        }, o = function(e, t) {
                            if (!t.dateTimeObject) return null;
                            var i = t.videoTimingInfo.transmuxerPrependedSeconds,
                                n = e - (t.videoTimingInfo.transmuxedPresentationStart + i);
                            return new Date(t.dateTimeObject.getTime() + 1e3 * n)
                        }(n, s.segment);
                        return o && (a.programDateTime = o.toISOString()), r(null, a)
                    }, Qd = function e(t) {
                        var i = t.programTime,
                            n = t.playlist,
                            r = t.retryCount,
                            s = void 0 === r ? 2 : r,
                            a = t.seekTo,
                            o = t.pauseAfterSeek,
                            l = void 0 === o || o,
                            u = t.tech,
                            c = t.callback;
                        if (!c) throw new Error("seekToProgramTime: callback must be provided");
                        if (void 0 === i || !n || !a) return c({
                            message: "seekToProgramTime: programTime, seekTo and playlist must be provided"
                        });
                        if (!n.endList && !u.hasStarted_) return c({
                            message: "player must be playing a live stream to start buffering"
                        });
                        if (! function(e) {
                            if (!e.segments || 0 === e.segments.length) return !1;
                            for (var t = 0; t < e.segments.length; t++) if (!e.segments[t].dateTimeObject) return !1;
                            return !0
                        }(n)) return c({
                            message: "programDateTime tags must be provided in the manifest " + n.resolvedUri
                        });
                        var d = function(e, t) {
                            var i = void 0;
                            try {
                                i = new Date(e)
                            } catch (u) {
                                return null
                            }
                            if (!t || !t.segments || 0 === t.segments.length) return null;
                            var n = t.segments[0];
                            if (i < n.dateTimeObject) return null;
                            for (var r = 0; r < t.segments.length - 1 && (n = t.segments[r], !(i < t.segments[r + 1].dateTimeObject)); r++);
                            var s, a = t.segments[t.segments.length - 1],
                                o = a.dateTimeObject,
                                l = a.videoTimingInfo ? (s = a.videoTimingInfo)
                                    .transmuxedPresentationEnd - s.transmuxedPresentationStart - s.transmuxerPrependedSeconds : a.duration + .25 * a.duration;
                            return i > new Date(o.getTime() + 1e3 * l) ? null : (i > o && (n = a), {
                                segment: n,
                                estimatedStart: n.videoTimingInfo ? n.videoTimingInfo.transmuxedPresentationStart : Rd.duration(t, t.mediaSequence + t.segments.indexOf(n)),
                                type: n.videoTimingInfo ? "accurate" : "estimate"
                            })
                        }(i, n);
                        if (!d) return c({
                            message: i + " was not found in the stream"
                        });
                        var h = d.segment,
                            p = function(e, t) {
                                var i = void 0,
                                    n = void 0;
                                try {
                                    i = new Date(e), n = new Date(t)
                                } catch (s) {}
                                var r = i.getTime();
                                return (n.getTime() - r) / 1e3
                            }(h.dateTimeObject, i);
                        if ("estimate" === d.type) return 0 === s ? c({
                            message: i + " is not buffered yet. Try again"
                        }) : (a(d.estimatedStart + p), void u.one("seeked", (function() {
                            e({
                                programTime: i,
                                playlist: n,
                                retryCount: s - 1,
                                seekTo: a,
                                pauseAfterSeek: l,
                                tech: u,
                                callback: c
                            })
                        })));
                        var f = h.start + p;
                        u.one("seeked", (function() {
                            return c(null, u.currentTime())
                        })), l && u.pause(), a(f)
                    }, Jd = 1 / 30,
                    Zd = .1,
                    $d = function(e, t) {
                        var i = [],
                            n = void 0;
                        if (e && e.length) for (n = 0; n < e.length; n++) t(e.start(n), e.end(n)) && i.push([e.start(n), e.end(n)]);
                        return td.createTimeRanges(i)
                    }, eh = function(e, t) {
                        return $d(e, (function(e, i) {
                            return e - Zd <= t && i + Zd >= t
                        }))
                    }, th = function(e, t) {
                        return $d(e, (function(e) {
                            return e - Jd >= t
                        }))
                    }, ih = function(e) {
                        var t = [];
                        if (!e || !e.length) return "";
                        for (var i = 0; i < e.length; i++) t.push(e.start(i) + " => " + e.end(i));
                        return t.join(", ")
                    }, nh = function(e) {
                        for (var t = [], i = 0; i < e.length; i++) t.push({
                            start: e.start(i),
                            end: e.end(i)
                        });
                        return t
                    }, rh = function(e, t, i) {
                        var n = void 0,
                            r = void 0;
                        if (i && i.cues) for (n = i.cues.length; n--;)(r = i.cues[n])
                            .startTime <= t && r.endTime >= e && i.removeCue(r)
                    }, sh = function(e) {
                        return isNaN(e) || Math.abs(e) === 1 / 0 ? Number.MAX_VALUE : e
                    }, ah = function(e, t, i) {
                        var n = Ci.WebKitDataCue || Ci.VTTCue;
                        if (t && t.forEach((function(e) {
                            var t = e.stream;
                            this.inbandTextTracks_[t].addCue(new n(e.startTime + this.timestampOffset, e.endTime + this.timestampOffset, e.text))
                        }), e), i) {
                            var r = sh(e.mediaSource_.duration);
                            if (i.forEach((function(e) {
                                var t = e.cueTime + this.timestampOffset;
                                !("number" != typeof t || Ci.isNaN(t) || t < 0) && t < 1 / 0 && e.frames.forEach((function(e) {
                                    var i = new n(t, t, e.value || e.url || e.data || "");
                                    i.frame = e, i.value = e,
                                    function(e) {
                                        Object.defineProperties(e.frame, {
                                            id: {
                                                get: function() {
                                                    return td.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."), e.value.key
                                                }
                                            },
                                            value: {
                                                get: function() {
                                                    return td.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."), e.value.data
                                                }
                                            },
                                            privateData: {
                                                get: function() {
                                                    return td.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."), e.value.data
                                                }
                                            }
                                        })
                                    }(i), this.metadataTrack_.addCue(i)
                                }), this)
                            }), e), e.metadataTrack_ && e.metadataTrack_.cues && e.metadataTrack_.cues.length) {
                                for (var s = e.metadataTrack_.cues, a = [], o = 0; o < s.length; o++) s[o] && a.push(s[o]);
                                var l = a.reduce((function(e, t) {
                                    var i = e[t.startTime] || [];
                                    return i.push(t), e[t.startTime] = i, e
                                }), {}),
                                    u = Object.keys(l)
                                        .sort((function(e, t) {
                                        return Number(e) - Number(t)
                                    }));
                                u.forEach((function(e, t) {
                                    var i = l[e],
                                        n = Number(u[t + 1]) || r;
                                    i.forEach((function(e) {
                                        e.endTime = n
                                    }))
                                }))
                            }
                        }
                    }, oh = "undefined" != typeof window ? window : {}, lh = "undefined" == typeof Symbol ? "__target" : Symbol(),
                    uh = oh.BlobBuilder || oh.WebKitBlobBuilder || oh.MozBlobBuilder || oh.MSBlobBuilder,
                    ch = oh.URL || oh.webkitURL || ch && ch.msURL,
                    dh = oh.Worker;

                function hh(e, t) {
                    return function(i) {
                        var n = this;
                        if (!t) return new dh(e);
                        if (dh && !i) {
                            var r = vh(t.toString()
                                .replace(/^function.+?{/, "")
                                .slice(0, -1));
                            return this[lh] = new dh(r),
                            function(e, t) {
                                if (!e || !t) return;
                                var i = e.terminate;
                                e.objURL = t, e.terminate = function() {
                                    e.objURL && ch.revokeObjectURL(e.objURL), i.call(e)
                                }
                            }(this[lh], r), this[lh]
                        }
                        var s = {
                            postMessage: function(e) {
                                n.onmessage && setTimeout((function() {
                                    n.onmessage({
                                        data: e,
                                        target: s
                                    })
                                }))
                            }
                        };
                        t.call(s), this.postMessage = function(e) {
                            setTimeout((function() {
                                s.onmessage({
                                    data: e,
                                    target: n
                                })
                            }))
                        }, this.isThisThread = !0
                    }
                }
                if (dh) {
                    var ph, fh = vh("self.onmessage = function () {}"),
                        mh = new Uint8Array(1);
                    try {
                        (ph = new dh(fh))
                            .postMessage(mh, [mh.buffer])
                    } catch (sf) {
                        dh = null
                    } finally {
                        ch.revokeObjectURL(fh), ph && ph.terminate()
                    }
                }
                function vh(e) {
                    try {
                        return ch.createObjectURL(new Blob([e], {
                            type: "application/javascript"
                        }))
                    } catch (sf) {
                        var t = new uh;
                        return t.append(e), ch.createObjectURL(t.getBlob(type))
                    }
                }
                var gh = new hh("./transmuxer-worker.worker.js", (function(e, t) {
                    var i = this;
                    ! function() {
                        var e = function() {
                            this.init = function() {
                                var e = {};
                                this.on = function(t, i) {
                                    e[t] || (e[t] = []), e[t] = e[t].concat(i)
                                }, this.off = function(t, i) {
                                    var n;
                                    return !!e[t] && (n = e[t].indexOf(i), e[t] = e[t].slice(), e[t].splice(n, 1), n > -1)
                                }, this.trigger = function(t) {
                                    var i, n, r, s;
                                    if (i = e[t]) if (2 === arguments.length) for (r = i.length, n = 0; n < r; ++n) i[n].call(this, arguments[1]);
                                    else {
                                        for (s = [], n = arguments.length, n = 1; n < arguments.length; ++n) s.push(arguments[n]);
                                        for (r = i.length, n = 0; n < r; ++n) i[n].apply(this, s)
                                    }
                                }, this.dispose = function() {
                                    e = {}
                                }
                            }
                        };
                        e.prototype.pipe = function(e) {
                            return this.on("data", (function(t) {
                                e.push(t)
                            })), this.on("done", (function(t) {
                                e.flush(t)
                            })), this.on("partialdone", (function(t) {
                                e.partialFlush(t)
                            })), this.on("endedtimeline", (function(t) {
                                e.endTimeline(t)
                            })), this.on("reset", (function(t) {
                                e.reset(t)
                            })), e
                        }, e.prototype.push = function(e) {
                            this.trigger("data", e)
                        }, e.prototype.flush = function(e) {
                            this.trigger("done", e)
                        }, e.prototype.partialFlush = function(e) {
                            this.trigger("partialdone", e)
                        }, e.prototype.endTimeline = function(e) {
                            this.trigger("endedtimeline", e)
                        }, e.prototype.reset = function(e) {
                            this.trigger("reset", e)
                        };
                        var t, n, r, s, a, o, l, u, c, d, h, p, f, m, v, g, y, _, b, T, k, S, j, w, A, C, E, x, I, L, P, O, D, U, R, M, B, N, F, V, H = e,
                            q = Math.pow(2, 32) - 1;
                        ! function() {
                            var e;
                            if (S = {
                                avc1: [],
                                avcC: [],
                                btrt: [],
                                dinf: [],
                                dref: [],
                                esds: [],
                                ftyp: [],
                                hdlr: [],
                                mdat: [],
                                mdhd: [],
                                mdia: [],
                                mfhd: [],
                                minf: [],
                                moof: [],
                                moov: [],
                                mp4a: [],
                                mvex: [],
                                mvhd: [],
                                pasp: [],
                                sdtp: [],
                                smhd: [],
                                stbl: [],
                                stco: [],
                                stsc: [],
                                stsd: [],
                                stsz: [],
                                stts: [],
                                styp: [],
                                tfdt: [],
                                tfhd: [],
                                traf: [],
                                trak: [],
                                trun: [],
                                trex: [],
                                tkhd: [],
                                vmhd: []
                            }, "undefined" != typeof Uint8Array) {
                                for (e in S) S.hasOwnProperty(e) && (S[e] = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)]);
                                j = new Uint8Array(["i".charCodeAt(0), "s".charCodeAt(0), "o".charCodeAt(0), "m".charCodeAt(0)]), A = new Uint8Array(["a".charCodeAt(0), "v".charCodeAt(0), "c".charCodeAt(0), "1".charCodeAt(0)]), w = new Uint8Array([0, 0, 0, 1]), C = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]), E = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]), x = {
                                    video: C,
                                    audio: E
                                }, P = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]), L = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), O = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), D = O, U = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), R = O, I = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])
                            }
                        }(), t = function(e) {
                            var t, i, n = [],
                                r = 0;
                            for (t = 1; t < arguments.length; t++) n.push(arguments[t]);
                            for (t = n.length; t--;) r += n[t].byteLength;
                            for (i = new Uint8Array(r + 8), new DataView(i.buffer, i.byteOffset, i.byteLength)
                                .setUint32(0, i.byteLength), i.set(e, 4), t = 0, r = 8; t < n.length; t++) i.set(n[t], r), r += n[t].byteLength;
                            return i
                        }, n = function() {
                            return t(S.dinf, t(S.dref, P))
                        }, r = function(e) {
                            return t(S.esds, new Uint8Array([0, 0, 0, 0, 3, 25, 0, 0, 0, 4, 17, 64, 21, 0, 6, 0, 0, 0, 218, 192, 0, 0, 218, 192, 5, 2, e.audioobjecttype << 3 | e.samplingfrequencyindex >>> 1, e.samplingfrequencyindex << 7 | e.channelcount << 3, 6, 1, 2]))
                        }, v = function(e) {
                            return t(S.hdlr, x[e])
                        }, m = function(e) {
                            var i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, 0, 1, 95, 144, e.duration >>> 24 & 255, e.duration >>> 16 & 255, e.duration >>> 8 & 255, 255 & e.duration, 85, 196, 0, 0]);
                            return e.samplerate && (i[12] = e.samplerate >>> 24 & 255, i[13] = e.samplerate >>> 16 & 255, i[14] = e.samplerate >>> 8 & 255, i[15] = 255 & e.samplerate), t(S.mdhd, i)
                        }, f = function(e) {
                            return t(S.mdia, m(e), v(e.type), o(e))
                        }, a = function(e) {
                            return t(S.mfhd, new Uint8Array([0, 0, 0, 0, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e]))
                        }, o = function(e) {
                            return t(S.minf, "video" === e.type ? t(S.vmhd, I) : t(S.smhd, L), n(), y(e))
                        }, l = function(e, i) {
                            for (var n = [], r = i.length; r--;) n[r] = b(i[r]);
                            return t.apply(null, [S.moof, a(e)].concat(n))
                        }, u = function(e) {
                            for (var i = e.length, n = []; i--;) n[i] = h(e[i]);
                            return t.apply(null, [S.moov, d(4294967295)].concat(n)
                                .concat(c(e)))
                        }, c = function(e) {
                            for (var i = e.length, n = []; i--;) n[i] = T(e[i]);
                            return t.apply(null, [S.mvex].concat(n))
                        }, d = function(e) {
                            var i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 1, 95, 144, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]);
                            return t(S.mvhd, i)
                        }, g = function(e) {
                            var i, n, r = e.samples || [],
                                s = new Uint8Array(4 + r.length);
                            for (n = 0; n < r.length; n++) i = r[n].flags, s[n + 4] = i.dependsOn << 4 | i.isDependedOn << 2 | i.hasRedundancy;
                            return t(S.sdtp, s)
                        }, y = function(e) {
                            return t(S.stbl, _(e), t(S.stts, R), t(S.stsc, D), t(S.stsz, U), t(S.stco, O))
                        }, _ = function(e) {
                            return t(S.stsd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]), "video" === e.type ? M(e) : B(e))
                        }, M = function(e) {
                            var i, n, r = e.sps || [],
                                s = e.pps || [],
                                a = [],
                                o = [];
                            for (i = 0; i < r.length; i++) a.push((65280 & r[i].byteLength) >>> 8), a.push(255 & r[i].byteLength), a = a.concat(Array.prototype.slice.call(r[i]));
                            for (i = 0; i < s.length; i++) o.push((65280 & s[i].byteLength) >>> 8), o.push(255 & s[i].byteLength), o = o.concat(Array.prototype.slice.call(s[i]));
                            if (n = [S.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, (65280 & e.height) >> 8, 255 & e.height, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 19, 118, 105, 100, 101, 111, 106, 115, 45, 99, 111, 110, 116, 114, 105, 98, 45, 104, 108, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), t(S.avcC, new Uint8Array([1, e.profileIdc, e.profileCompatibility, e.levelIdc, 255].concat([r.length], a, [s.length], o))), t(S.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192]))], e.sarRatio) {
                                var l = e.sarRatio[0],
                                    u = e.sarRatio[1];
                                n.push(t(S.pasp, new Uint8Array([(4278190080 & l) >> 24, (16711680 & l) >> 16, (65280 & l) >> 8, 255 & l, (4278190080 & u) >> 24, (16711680 & u) >> 16, (65280 & u) >> 8, 255 & u])))
                            }
                            return t.apply(null, n)
                        }, B = function(e) {
                            return t(S.mp4a, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.channelcount) >> 8, 255 & e.channelcount, (65280 & e.samplesize) >> 8, 255 & e.samplesize, 0, 0, 0, 0, (65280 & e.samplerate) >> 8, 255 & e.samplerate, 0, 0]), r(e))
                        }, p = function(e) {
                            var i = new Uint8Array([0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 0, (4278190080 & e.duration) >> 24, (16711680 & e.duration) >> 16, (65280 & e.duration) >> 8, 255 & e.duration, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, 0, 0, (65280 & e.height) >> 8, 255 & e.height, 0, 0]);
                            return t(S.tkhd, i)
                        }, b = function(e) {
                            var i, n, r, s, a, o;
                            return i = t(S.tfhd, new Uint8Array([0, 0, 0, 58, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])), a = Math.floor(e.baseMediaDecodeTime / (q + 1)), o = Math.floor(e.baseMediaDecodeTime % (q + 1)), n = t(S.tfdt, new Uint8Array([1, 0, 0, 0, a >>> 24 & 255, a >>> 16 & 255, a >>> 8 & 255, 255 & a, o >>> 24 & 255, o >>> 16 & 255, o >>> 8 & 255, 255 & o])), 92, "audio" === e.type ? (r = k(e, 92), t(S.traf, i, n, r)) : (s = g(e), r = k(e, s.length + 92), t(S.traf, i, n, r, s))
                        }, h = function(e) {
                            return e.duration = e.duration || 4294967295, t(S.trak, p(e), f(e))
                        }, T = function(e) {
                            var i = new Uint8Array([0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]);
                            return "video" !== e.type && (i[i.length - 1] = 0), t(S.trex, i)
                        }, V = function(e, t) {
                            var i = 0,
                                n = 0,
                                r = 0,
                                s = 0;
                            return e.length && (void 0 !== e[0].duration && (i = 1), void 0 !== e[0].size && (n = 2), void 0 !== e[0].flags && (r = 4), void 0 !== e[0].compositionTimeOffset && (s = 8)), [0, 0, i | n | r | s, 1, (4278190080 & e.length) >>> 24, (16711680 & e.length) >>> 16, (65280 & e.length) >>> 8, 255 & e.length, (4278190080 & t) >>> 24, (16711680 & t) >>> 16, (65280 & t) >>> 8, 255 & t]
                        }, F = function(e, i) {
                            var n, r, s, a;
                            for (i += 20 + 16 * (r = e.samples || [])
                                .length, n = V(r, i), a = 0; a < r.length; a++) s = r[a], n = n.concat([(4278190080 & s.duration) >>> 24, (16711680 & s.duration) >>> 16, (65280 & s.duration) >>> 8, 255 & s.duration, (4278190080 & s.size) >>> 24, (16711680 & s.size) >>> 16, (65280 & s.size) >>> 8, 255 & s.size, s.flags.isLeading << 2 | s.flags.dependsOn, s.flags.isDependedOn << 6 | s.flags.hasRedundancy << 4 | s.flags.paddingValue << 1 | s.flags.isNonSyncSample, 61440 & s.flags.degradationPriority, 15 & s.flags.degradationPriority, (4278190080 & s.compositionTimeOffset) >>> 24, (16711680 & s.compositionTimeOffset) >>> 16, (65280 & s.compositionTimeOffset) >>> 8, 255 & s.compositionTimeOffset]);
                            return t(S.trun, new Uint8Array(n))
                        }, N = function(e, i) {
                            var n, r, s, a;
                            for (i += 20 + 8 * (r = e.samples || [])
                                .length, n = V(r, i), a = 0; a < r.length; a++) s = r[a], n = n.concat([(4278190080 & s.duration) >>> 24, (16711680 & s.duration) >>> 16, (65280 & s.duration) >>> 8, 255 & s.duration, (4278190080 & s.size) >>> 24, (16711680 & s.size) >>> 16, (65280 & s.size) >>> 8, 255 & s.size]);
                            return t(S.trun, new Uint8Array(n))
                        }, k = function(e, t) {
                            return "audio" === e.type ? N(e, t) : F(e, t)
                        };
                        s = function() {
                            return t(S.ftyp, j, w, j, A)
                        };
                        var z, W, G, Y, X, K, Q, J, Z = function(e) {
                            return t(S.mdat, e)
                        }, $ = l,
                            ee = function(e) {
                                var t, i = s(),
                                    n = u(e);
                                return (t = new Uint8Array(i.byteLength + n.byteLength))
                                    .set(i), t.set(n, i.byteLength), t
                            }, te = function(e, t) {
                                var i = {
                                    size: 0,
                                    flags: {
                                        isLeading: 0,
                                        dependsOn: 1,
                                        isDependedOn: 0,
                                        hasRedundancy: 0,
                                        degradationPriority: 0,
                                        isNonSyncSample: 1
                                    }
                                };
                                return i.dataOffset = t, i.compositionTimeOffset = e.pts - e.dts, i.duration = e.duration, i.size = 4 * e.length, i.size += e.byteLength, e.keyFrame && (i.flags.dependsOn = 2, i.flags.isNonSyncSample = 0), i
                            }, ie = function(e) {
                                var t, i, n = [],
                                    r = [];
                                for (r.byteLength = 0, r.nalCount = 0, r.duration = 0, n.byteLength = 0, t = 0; t < e.length; t++) "access_unit_delimiter_rbsp" === (i = e[t])
                                    .nalUnitType ? (n.length && (n.duration = i.dts - n.dts, r.byteLength += n.byteLength, r.nalCount += n.length, r.duration += n.duration, r.push(n)), (n = [i])
                                    .byteLength = i.data.byteLength, n.pts = i.pts, n.dts = i.dts) : ("slice_layer_without_partitioning_rbsp_idr" === i.nalUnitType && (n.keyFrame = !0), n.duration = i.dts - n.dts, n.byteLength += i.data.byteLength, n.push(i));
                                return r.length && (!n.duration || n.duration <= 0) && (n.duration = r[r.length - 1].duration), r.byteLength += n.byteLength, r.nalCount += n.length, r.duration += n.duration, r.push(n), r
                            }, ne = function(e) {
                                var t, i, n = [],
                                    r = [];
                                for (n.byteLength = 0, n.nalCount = 0, n.duration = 0, n.pts = e[0].pts, n.dts = e[0].dts, r.byteLength = 0, r.nalCount = 0, r.duration = 0, r.pts = e[0].pts, r.dts = e[0].dts, t = 0; t < e.length; t++)(i = e[t])
                                    .keyFrame ? (n.length && (r.push(n), r.byteLength += n.byteLength, r.nalCount += n.nalCount, r.duration += n.duration), (n = [i])
                                    .nalCount = i.length, n.byteLength = i.byteLength, n.pts = i.pts, n.dts = i.dts, n.duration = i.duration) : (n.duration += i.duration, n.nalCount += i.length, n.byteLength += i.byteLength, n.push(i));
                                return r.length && n.duration <= 0 && (n.duration = r[r.length - 1].duration), r.byteLength += n.byteLength, r.nalCount += n.nalCount, r.duration += n.duration, r.push(n), r
                            }, re = function(e) {
                                var t;
                                return !e[0][0].keyFrame && e.length > 1 && (t = e.shift(), e.byteLength -= t.byteLength, e.nalCount -= t.nalCount, e[0][0].dts = t.dts, e[0][0].pts = t.pts, e[0][0].duration += t.duration), e
                            }, se = function(e, t) {
                                var i, n, r, s, a, o = t || 0,
                                    l = [];
                                for (i = 0; i < e.length; i++) for (s = e[i], n = 0; n < s.length; n++) a = s[n], o += (r = te(a, o))
                                    .size, l.push(r);
                                return l
                            }, ae = function(e) {
                                var t, i, n, r, s, a, o = 0,
                                    l = e.byteLength,
                                    u = e.nalCount,
                                    c = new Uint8Array(l + 4 * u),
                                    d = new DataView(c.buffer);
                                for (t = 0; t < e.length; t++) for (r = e[t], i = 0; i < r.length; i++) for (s = r[i], n = 0; n < s.length; n++) a = s[n], d.setUint32(o, a.data.byteLength), o += 4, c.set(a.data, o), o += a.data.byteLength;
                                return c
                            }, oe = [33, 16, 5, 32, 164, 27],
                            le = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252],
                            ue = function(e) {
                                for (var t = []; e--;) t.push(0);
                                return t
                            }, ce = {
                                96e3: [oe, [227, 64], ue(154), [56]],
                                88200: [oe, [231], ue(170), [56]],
                                64e3: [oe, [248, 192], ue(240), [56]],
                                48e3: [oe, [255, 192], ue(268), [55, 148, 128], ue(54), [112]],
                                44100: [oe, [255, 192], ue(268), [55, 163, 128], ue(84), [112]],
                                32e3: [oe, [255, 192], ue(268), [55, 234], ue(226), [112]],
                                24e3: [oe, [255, 192], ue(268), [55, 255, 128], ue(268), [111, 112], ue(126), [224]],
                                16e3: [oe, [255, 192], ue(268), [55, 255, 128], ue(268), [111, 255], ue(269), [223, 108], ue(195), [1, 192]],
                                12e3: [le, ue(268), [3, 127, 248], ue(268), [6, 255, 240], ue(268), [13, 255, 224], ue(268), [27, 253, 128], ue(259), [56]],
                                11025: [le, ue(268), [3, 127, 248], ue(268), [6, 255, 240], ue(268), [13, 255, 224], ue(268), [27, 255, 192], ue(268), [55, 175, 128], ue(108), [112]],
                                8e3: [le, ue(268), [3, 121, 16], ue(47), [7]]
                            }, de = (z = ce, Object.keys(z)
                                .reduce((function(e, t) {
                                return e[t] = new Uint8Array(z[t].reduce((function(e, t) {
                                    return e.concat(t)
                                }), [])), e
                            }), {})),
                            he = 9e4;
                        K = function(e, t) {
                            return W(X(e, t))
                        }, Q = function(e, t) {
                            return G(Y(e), t)
                        }, J = function(e, t, i) {
                            return Y(i ? e : e - t)
                        };
                        var pe = he,
                            fe = (W = function(e) {
                                return e * he
                            }, G = function(e, t) {
                                return e * t
                            }, Y = function(e) {
                                return e / he
                            }, X = function(e, t) {
                                return e / t
                            }, K),
                            me = Q,
                            ve = J,
                            ge = function(e, t, i, n) {
                                var r, s, a, o, l, u = 0,
                                    c = 0,
                                    d = 0;
                                if (t.length && (r = fe(e.baseMediaDecodeTime, e.samplerate), s = Math.ceil(pe / (e.samplerate / 1024)), i && n && (u = r - Math.max(i, n), d = (c = Math.floor(u / s)) * s), !(c < 1 || d > pe / 2))) {
                                    for ((a = de[e.samplerate]) || (a = t[0].data), o = 0; o < c; o++) l = t[0], t.splice(0, 0, {
                                        data: a,
                                        dts: l.dts - s,
                                        pts: l.pts - s
                                    });
                                    e.baseMediaDecodeTime -= Math.floor(me(d, e.samplerate))
                                }
                            }, ye = function(e, t, i) {
                                return t.minSegmentDts >= i ? e : (t.minSegmentDts = 1 / 0, e.filter((function(e) {
                                    return e.dts >= i && (t.minSegmentDts = Math.min(t.minSegmentDts, e.dts), t.minSegmentPts = t.minSegmentDts, !0)
                                })))
                            }, _e = function(e) {
                                var t, i, n = [];
                                for (t = 0; t < e.length; t++) i = e[t], n.push({
                                    size: i.data.byteLength,
                                    duration: 1024
                                });
                                return n
                            }, be = function(e) {
                                var t, i, n = 0,
                                    r = new Uint8Array(function(e) {
                                        var t, i = 0;
                                        for (t = 0; t < e.length; t++) i += e[t].data.byteLength;
                                        return i
                                    }(e));
                                for (t = 0; t < e.length; t++) i = e[t], r.set(i.data, n), n += i.data.byteLength;
                                return r
                            }, Te = pe,
                            ke = function(e) {
                                delete e.minSegmentDts, delete e.maxSegmentDts, delete e.minSegmentPts, delete e.maxSegmentPts
                            }, Se = function(e, t) {
                                var i, n = e.minSegmentDts;
                                return t || (n -= e.timelineStartInfo.dts), i = e.timelineStartInfo.baseMediaDecodeTime, i += n, i = Math.max(0, i), "audio" === e.type && (i *= e.samplerate / Te, i = Math.floor(i)), i
                            }, je = function(e, t) {
                                "number" == typeof t.pts && (void 0 === e.timelineStartInfo.pts && (e.timelineStartInfo.pts = t.pts), void 0 === e.minSegmentPts ? e.minSegmentPts = t.pts : e.minSegmentPts = Math.min(e.minSegmentPts, t.pts), void 0 === e.maxSegmentPts ? e.maxSegmentPts = t.pts : e.maxSegmentPts = Math.max(e.maxSegmentPts, t.pts)), "number" == typeof t.dts && (void 0 === e.timelineStartInfo.dts && (e.timelineStartInfo.dts = t.dts), void 0 === e.minSegmentDts ? e.minSegmentDts = t.dts : e.minSegmentDts = Math.min(e.minSegmentDts, t.dts), void 0 === e.maxSegmentDts ? e.maxSegmentDts = t.dts : e.maxSegmentDts = Math.max(e.maxSegmentDts, t.dts))
                            }, we = function(e) {
                                for (var t = 0, i = {
                                    payloadType: -1,
                                    payloadSize: 0
                                }, n = 0, r = 0; t < e.byteLength && 128 !== e[t];) {
                                    for (; 255 === e[t];) n += 255, t++;
                                    for (n += e[t++]; 255 === e[t];) r += 255, t++;
                                    if (r += e[t++], !i.payload && 4 === n) {
                                        i.payloadType = n, i.payloadSize = r, i.payload = e.subarray(t, t + r);
                                        break
                                    }
                                    t += r, n = 0, r = 0
                                }
                                return i
                            }, Ae = function(e) {
                                return 181 !== e.payload[0] || 49 != (e.payload[1] << 8 | e.payload[2]) || "GA94" !== String.fromCharCode(e.payload[3], e.payload[4], e.payload[5], e.payload[6]) || 3 !== e.payload[7] ? null : e.payload.subarray(8, e.payload.length - 1)
                            }, Ce = function(e, t) {
                                var i, n, r, s, a = [];
                                if (!(64 & t[0])) return a;
                                for (n = 31 & t[0], i = 0; i < n; i++) s = {
                                    type: 3 & t[(r = 3 * i) + 2],
                                    pts: e
                                }, 4 & t[r + 2] && (s.ccData = t[r + 3] << 8 | t[r + 4], a.push(s));
                                return a
                            }, Ee = 4,
                            xe = function e() {
                                e.prototype.init.call(this), this.captionPackets_ = [], this.ccStreams_ = [new De(0, 0), new De(0, 1), new De(1, 0), new De(1, 1)], this.reset(), this.ccStreams_.forEach((function(e) {
                                    e.on("data", this.trigger.bind(this, "data")), e.on("partialdone", this.trigger.bind(this, "partialdone")), e.on("done", this.trigger.bind(this, "done"))
                                }), this)
                            };
                        (xe.prototype = new H)
                            .push = function(e) {
                            var t, i, n;
                            if ("sei_rbsp" === e.nalUnitType && (t = we(e.escapedRBSP))
                                .payloadType === Ee && (i = Ae(t))) if (e.dts < this.latestDts_) this.ignoreNextEqualDts_ = !0;
                            else {
                                if (e.dts === this.latestDts_ && this.ignoreNextEqualDts_) return this.numSameDts_--, void(this.numSameDts_ || (this.ignoreNextEqualDts_ = !1));
                                n = Ce(e.pts, i), this.captionPackets_ = this.captionPackets_.concat(n), this.latestDts_ !== e.dts && (this.numSameDts_ = 0), this.numSameDts_++, this.latestDts_ = e.dts
                            }
                        }, xe.prototype.flushCCStreams = function(e) {
                            this.ccStreams_.forEach((function(t) {
                                return "flush" === e ? t.flush() : t.partialFlush()
                            }), this)
                        }, xe.prototype.flushStream = function(e) {
                            this.captionPackets_.length ? (this.captionPackets_.forEach((function(e, t) {
                                e.presortIndex = t
                            })), this.captionPackets_.sort((function(e, t) {
                                return e.pts === t.pts ? e.presortIndex - t.presortIndex : e.pts - t.pts
                            })), this.captionPackets_.forEach((function(e) {
                                e.type < 2 && this.dispatchCea608Packet(e)
                            }), this), this.captionPackets_.length = 0, this.flushCCStreams(e)) : this.flushCCStreams(e)
                        }, xe.prototype.flush = function() {
                            return this.flushStream("flush")
                        }, xe.prototype.partialFlush = function() {
                            return this.flushStream("partialFlush")
                        }, xe.prototype.reset = function() {
                            this.latestDts_ = null, this.ignoreNextEqualDts_ = !1, this.numSameDts_ = 0, this.activeCea608Channel_ = [null, null], this.ccStreams_.forEach((function(e) {
                                e.reset()
                            }))
                        }, xe.prototype.dispatchCea608Packet = function(e) {
                            this.setsTextOrXDSActive(e) ? this.activeCea608Channel_[e.type] = null : this.setsChannel1Active(e) ? this.activeCea608Channel_[e.type] = 0 : this.setsChannel2Active(e) && (this.activeCea608Channel_[e.type] = 1), null !== this.activeCea608Channel_[e.type] && this.ccStreams_[(e.type << 1) + this.activeCea608Channel_[e.type]].push(e)
                        }, xe.prototype.setsChannel1Active = function(e) {
                            return 4096 == (30720 & e.ccData)
                        }, xe.prototype.setsChannel2Active = function(e) {
                            return 6144 == (30720 & e.ccData)
                        }, xe.prototype.setsTextOrXDSActive = function(e) {
                            return 256 == (28928 & e.ccData) || 4138 == (30974 & e.ccData) || 6186 == (30974 & e.ccData)
                        };
                        var Ie = {
                            42: 225,
                            92: 233,
                            94: 237,
                            95: 243,
                            96: 250,
                            123: 231,
                            124: 247,
                            125: 209,
                            126: 241,
                            127: 9608,
                            304: 174,
                            305: 176,
                            306: 189,
                            307: 191,
                            308: 8482,
                            309: 162,
                            310: 163,
                            311: 9834,
                            312: 224,
                            313: 160,
                            314: 232,
                            315: 226,
                            316: 234,
                            317: 238,
                            318: 244,
                            319: 251,
                            544: 193,
                            545: 201,
                            546: 211,
                            547: 218,
                            548: 220,
                            549: 252,
                            550: 8216,
                            551: 161,
                            552: 42,
                            553: 39,
                            554: 8212,
                            555: 169,
                            556: 8480,
                            557: 8226,
                            558: 8220,
                            559: 8221,
                            560: 192,
                            561: 194,
                            562: 199,
                            563: 200,
                            564: 202,
                            565: 203,
                            566: 235,
                            567: 206,
                            568: 207,
                            569: 239,
                            570: 212,
                            571: 217,
                            572: 249,
                            573: 219,
                            574: 171,
                            575: 187,
                            800: 195,
                            801: 227,
                            802: 205,
                            803: 204,
                            804: 236,
                            805: 210,
                            806: 242,
                            807: 213,
                            808: 245,
                            809: 123,
                            810: 125,
                            811: 92,
                            812: 94,
                            813: 95,
                            814: 124,
                            815: 126,
                            816: 196,
                            817: 228,
                            818: 214,
                            819: 246,
                            820: 223,
                            821: 165,
                            822: 164,
                            823: 9474,
                            824: 197,
                            825: 229,
                            826: 216,
                            827: 248,
                            828: 9484,
                            829: 9488,
                            830: 9492,
                            831: 9496
                        }, Le = function(e) {
                            return null === e ? "" : (e = Ie[e] || e, String.fromCharCode(e))
                        }, Pe = [4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096, 4864, 4896, 5120, 5152],
                            Oe = function() {
                                for (var e = [], t = 15; t--;) e.push("");
                                return e
                            }, De = function e(t, i) {
                                e.prototype.init.call(this), this.field_ = t || 0, this.dataChannel_ = i || 0, this.name_ = "CC" + (1 + (this.field_ << 1 | this.dataChannel_)), this.setConstants(), this.reset(), this.push = function(e) {
                                    var t, i, n, r, s;
                                    if ((t = 32639 & e.ccData) !== this.lastControlCode_) {
                                        if (4096 == (61440 & t) ? this.lastControlCode_ = t : t !== this.PADDING_ && (this.lastControlCode_ = null), n = t >>> 8, r = 255 & t, t !== this.PADDING_) if (t === this.RESUME_CAPTION_LOADING_) this.mode_ = "popOn";
                                        else if (t === this.END_OF_CAPTION_) this.mode_ = "popOn", this.clearFormatting(e.pts), this.flushDisplayed(e.pts), i = this.displayed_, this.displayed_ = this.nonDisplayed_, this.nonDisplayed_ = i, this.startPts_ = e.pts;
                                        else if (t === this.ROLL_UP_2_ROWS_) this.rollUpRows_ = 2, this.setRollUp(e.pts);
                                        else if (t === this.ROLL_UP_3_ROWS_) this.rollUpRows_ = 3, this.setRollUp(e.pts);
                                        else if (t === this.ROLL_UP_4_ROWS_) this.rollUpRows_ = 4, this.setRollUp(e.pts);
                                        else if (t === this.CARRIAGE_RETURN_) this.clearFormatting(e.pts), this.flushDisplayed(e.pts), this.shiftRowsUp_(), this.startPts_ = e.pts;
                                        else if (t === this.BACKSPACE_) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);
                                        else if (t === this.ERASE_DISPLAYED_MEMORY_) this.flushDisplayed(e.pts), this.displayed_ = Oe();
                                        else if (t === this.ERASE_NON_DISPLAYED_MEMORY_) this.nonDisplayed_ = Oe();
                                        else if (t === this.RESUME_DIRECT_CAPTIONING_) "paintOn" !== this.mode_ && (this.flushDisplayed(e.pts), this.displayed_ = Oe()), this.mode_ = "paintOn", this.startPts_ = e.pts;
                                        else if (this.isSpecialCharacter(n, r)) s = Le((n = (3 & n) << 8) | r), this[this.mode_](e.pts, s), this.column_++;
                                        else if (this.isExtCharacter(n, r)) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1), s = Le((n = (3 & n) << 8) | r), this[this.mode_](e.pts, s), this.column_++;
                                        else if (this.isMidRowCode(n, r)) this.clearFormatting(e.pts), this[this.mode_](e.pts, " "), this.column_++, 14 == (14 & r) && this.addFormatting(e.pts, ["i"]), 1 == (1 & r) && this.addFormatting(e.pts, ["u"]);
                                        else if (this.isOffsetControlCode(n, r)) this.column_ += 3 & r;
                                        else if (this.isPAC(n, r)) {
                                            var a = Pe.indexOf(7968 & t);
                                            "rollUp" === this.mode_ && (a - this.rollUpRows_ + 1 < 0 && (a = this.rollUpRows_ - 1), this.setRollUp(e.pts, a)), a !== this.row_ && (this.clearFormatting(e.pts), this.row_ = a), 1 & r && -1 === this.formatting_.indexOf("u") && this.addFormatting(e.pts, ["u"]), 16 == (16 & t) && (this.column_ = 4 * ((14 & t) >> 1)), this.isColorPAC(r) && 14 == (14 & r) && this.addFormatting(e.pts, ["i"])
                                        } else this.isNormalChar(n) && (0 === r && (r = null), s = Le(n), s += Le(r), this[this.mode_](e.pts, s), this.column_ += s.length)
                                    } else this.lastControlCode_ = null
                                }
                            };
                        De.prototype = new H, De.prototype.flushDisplayed = function(e) {
                            var t = this.displayed_.map((function(e) {
                                try {
                                    return e.trim()
                                } catch (sf) {
                                    return console.error("Skipping malformed caption."), ""
                                }
                            }))
                                .join("\n")
                                .replace(/^\n+|\n+$/g, "");
                            t.length && this.trigger("data", {
                                startPts: this.startPts_,
                                endPts: e,
                                text: t,
                                stream: this.name_
                            })
                        }, De.prototype.reset = function() {
                            this.mode_ = "popOn", this.topRow_ = 0, this.startPts_ = 0, this.displayed_ = Oe(), this.nonDisplayed_ = Oe(), this.lastControlCode_ = null, this.column_ = 0, this.row_ = 14, this.rollUpRows_ = 2, this.formatting_ = []
                        }, De.prototype.setConstants = function() {
                            0 === this.dataChannel_ ? (this.BASE_ = 16, this.EXT_ = 17, this.CONTROL_ = (20 | this.field_) << 8, this.OFFSET_ = 23) : 1 === this.dataChannel_ && (this.BASE_ = 24, this.EXT_ = 25, this.CONTROL_ = (28 | this.field_) << 8, this.OFFSET_ = 31), this.PADDING_ = 0, this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_, this.END_OF_CAPTION_ = 47 | this.CONTROL_, this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_, this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_, this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_, this.CARRIAGE_RETURN_ = 45 | this.CONTROL_, this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_, this.BACKSPACE_ = 33 | this.CONTROL_, this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_, this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_
                        }, De.prototype.isSpecialCharacter = function(e, t) {
                            return e === this.EXT_ && t >= 48 && t <= 63
                        }, De.prototype.isExtCharacter = function(e, t) {
                            return (e === this.EXT_ + 1 || e === this.EXT_ + 2) && t >= 32 && t <= 63
                        }, De.prototype.isMidRowCode = function(e, t) {
                            return e === this.EXT_ && t >= 32 && t <= 47
                        }, De.prototype.isOffsetControlCode = function(e, t) {
                            return e === this.OFFSET_ && t >= 33 && t <= 35
                        }, De.prototype.isPAC = function(e, t) {
                            return e >= this.BASE_ && e < this.BASE_ + 8 && t >= 64 && t <= 127
                        }, De.prototype.isColorPAC = function(e) {
                            return e >= 64 && e <= 79 || e >= 96 && e <= 127
                        }, De.prototype.isNormalChar = function(e) {
                            return e >= 32 && e <= 127
                        }, De.prototype.setRollUp = function(e, t) {
                            if ("rollUp" !== this.mode_ && (this.row_ = 14, this.mode_ = "rollUp", this.flushDisplayed(e), this.nonDisplayed_ = Oe(), this.displayed_ = Oe()), void 0 !== t && t !== this.row_) for (var i = 0; i < this.rollUpRows_; i++) this.displayed_[t - i] = this.displayed_[this.row_ - i], this.displayed_[this.row_ - i] = "";
                            void 0 === t && (t = this.row_), this.topRow_ = t - this.rollUpRows_ + 1
                        }, De.prototype.addFormatting = function(e, t) {
                            this.formatting_ = this.formatting_.concat(t);
                            var i = t.reduce((function(e, t) {
                                return e + "<" + t + ">"
                            }), "");
                            this[this.mode_](e, i)
                        }, De.prototype.clearFormatting = function(e) {
                            if (this.formatting_.length) {
                                var t = this.formatting_.reverse()
                                    .reduce((function(e, t) {
                                    return e + "</" + t + ">"
                                }), "");
                                this.formatting_ = [], this[this.mode_](e, t)
                            }
                        }, De.prototype.popOn = function(e, t) {
                            var i = this.nonDisplayed_[this.row_];
                            i += t, this.nonDisplayed_[this.row_] = i
                        }, De.prototype.rollUp = function(e, t) {
                            var i = this.displayed_[this.row_];
                            i += t, this.displayed_[this.row_] = i
                        }, De.prototype.shiftRowsUp_ = function() {
                            var e;
                            for (e = 0; e < this.topRow_; e++) this.displayed_[e] = "";
                            for (e = this.row_ + 1; e < 15; e++) this.displayed_[e] = "";
                            for (e = this.topRow_; e < this.row_; e++) this.displayed_[e] = this.displayed_[e + 1];
                            this.displayed_[this.row_] = ""
                        }, De.prototype.paintOn = function(e, t) {
                            var i = this.displayed_[this.row_];
                            i += t, this.displayed_[this.row_] = i
                        };
                        var Ue = {
                            CaptionStream: xe,
                            Cea608Stream: De
                        }, Re = {
                            H264_STREAM_TYPE: 27,
                            ADTS_STREAM_TYPE: 15,
                            METADATA_STREAM_TYPE: 21
                        }, Me = "shared",
                            Be = function(e, t) {
                                var i = 1;
                                for (e > t && (i = -1); Math.abs(t - e) > 4294967296;) e += 8589934592 * i;
                                return e
                            }, Ne = function e(t) {
                                var i, n;
                                e.prototype.init.call(this), this.type_ = t || Me, this.push = function(e) {
                                    this.type_ !== Me && e.type !== this.type_ || (void 0 === n && (n = e.dts), e.dts = Be(e.dts, n), e.pts = Be(e.pts, n), i = e.dts, this.trigger("data", e))
                                }, this.flush = function() {
                                    n = i, this.trigger("done")
                                }, this.endTimeline = function() {
                                    this.flush(), this.trigger("endedtimeline")
                                }, this.discontinuity = function() {
                                    n = void 0, i = void 0
                                }, this.reset = function() {
                                    this.discontinuity(), this.trigger("reset")
                                }
                            };
                        Ne.prototype = new H;
                        var Fe, Ve = Ne,
                            He = function(e, t, i) {
                                var n, r = "";
                                for (n = t; n < i; n++) r += "%" + ("00" + e[n].toString(16))
                                    .slice(-2);
                                return r
                            }, qe = function(e, t, i) {
                                return decodeURIComponent(He(e, t, i))
                            }, ze = function(e) {
                                return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
                            }, We = {
                                TXXX: function(e) {
                                    var t;
                                    if (3 === e.data[0]) {
                                        for (t = 1; t < e.data.length; t++) if (0 === e.data[t]) {
                                            e.description = qe(e.data, 1, t), e.value = qe(e.data, t + 1, e.data.length)
                                                .replace(/\0*$/, "");
                                            break
                                        }
                                        e.data = e.value
                                    }
                                },
                                WXXX: function(e) {
                                    var t;
                                    if (3 === e.data[0]) for (t = 1; t < e.data.length; t++) if (0 === e.data[t]) {
                                        e.description = qe(e.data, 1, t), e.url = qe(e.data, t + 1, e.data.length);
                                        break
                                    }
                                },
                                PRIV: function(e) {
                                    var t, i;
                                    for (t = 0; t < e.data.length; t++) if (0 === e.data[t]) {
                                        e.owner = (i = e.data, unescape(He(i, 0, t)));
                                        break
                                    }
                                    e.privateData = e.data.subarray(t + 1), e.data = e.privateData
                                }
                            };
                        Fe = function(e) {
                            var t, i = {
                                debug: !(!e || !e.debug),
                                descriptor: e && e.descriptor
                            }, n = 0,
                                r = [],
                                s = 0;
                            if (Fe.prototype.init.call(this), this.dispatchType = Re.METADATA_STREAM_TYPE.toString(16), i.descriptor) for (t = 0; t < i.descriptor.length; t++) this.dispatchType += ("00" + i.descriptor[t].toString(16))
                                .slice(-2);
                            this.push = function(e) {
                                var t, a, o, l, u;
                                if ("timed-metadata" === e.type) if (e.dataAlignmentIndicator && (s = 0, r.length = 0), 0 === r.length && (e.data.length < 10 || e.data[0] !== "I".charCodeAt(0) || e.data[1] !== "D".charCodeAt(0) || e.data[2] !== "3".charCodeAt(0))) i.debug && console.log("Skipping unrecognized metadata packet");
                                else if (r.push(e), s += e.data.byteLength, 1 === r.length && (n = ze(e.data.subarray(6, 10)), n += 10), !(s < n)) {
                                    for (t = {
                                        data: new Uint8Array(n),
                                        frames: [],
                                        pts: r[0].pts,
                                        dts: r[0].dts
                                    }, u = 0; u < n;) t.data.set(r[0].data.subarray(0, n - u), u), u += r[0].data.byteLength, s -= r[0].data.byteLength, r.shift();
                                    a = 10, 64 & t.data[5] && (a += 4, a += ze(t.data.subarray(10, 14)), n -= ze(t.data.subarray(16, 20)));
                                    do {
                                        if ((o = ze(t.data.subarray(a + 4, a + 8))) < 1) return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");
                                        if ((l = {
                                            id: String.fromCharCode(t.data[a], t.data[a + 1], t.data[a + 2], t.data[a + 3]),
                                            data: t.data.subarray(a + 10, a + o + 10)
                                        })
                                            .key = l.id, We[l.id] && (We[l.id](l), "com.apple.streaming.transportStreamTimestamp" === l.owner)) {
                                            var c = l.data,
                                                d = (1 & c[3]) << 30 | c[4] << 22 | c[5] << 14 | c[6] << 6 | c[7] >>> 2;
                                            d *= 4, d += 3 & c[7], l.timeStamp = d, void 0 === t.pts && void 0 === t.dts && (t.pts = l.timeStamp, t.dts = l.timeStamp), this.trigger("timestamp", l)
                                        }
                                        t.frames.push(l), a += 10, a += o
                                    } while (a < n);
                                    this.trigger("data", t)
                                }
                            }
                        }, Fe.prototype = new H;
                        var Ge, Ye, Xe, Ke = Fe,
                            Qe = Ve,
                            Je = 188;
                        (Ge = function() {
                            var e = new Uint8Array(Je),
                                t = 0;
                            Ge.prototype.init.call(this), this.push = function(i) {
                                var n, r = 0,
                                    s = Je;
                                for (t ? ((n = new Uint8Array(i.byteLength + t))
                                    .set(e.subarray(0, t)), n.set(i, t), t = 0) : n = i; s < n.byteLength;) 71 !== n[r] || 71 !== n[s] ? (r++, s++) : (this.trigger("data", n.subarray(r, s)), r += Je, s += Je);
                                r < n.byteLength && (e.set(n.subarray(r), 0), t = n.byteLength - r)
                            }, this.flush = function() {
                                t === Je && 71 === e[0] && (this.trigger("data", e), t = 0), this.trigger("done")
                            }, this.endTimeline = function() {
                                this.flush(), this.trigger("endedtimeline")
                            }, this.reset = function() {
                                t = 0, this.trigger("reset")
                            }
                        })
                            .prototype = new H, Ye = function() {
                            var e, t, i, n;
                            Ye.prototype.init.call(this), n = this, this.packetsWaitingForPmt = [], this.programMapTable = void 0, e = function(e, n) {
                                var r = 0;
                                n.payloadUnitStartIndicator && (r += e[r] + 1), "pat" === n.type ? t(e.subarray(r), n) : i(e.subarray(r), n)
                            }, t = function(e, t) {
                                t.section_number = e[7], t.last_section_number = e[8], n.pmtPid = (31 & e[10]) << 8 | e[11], t.pmtPid = n.pmtPid
                            }, i = function(e, t) {
                                var i, r;
                                if (1 & e[5]) {
                                    for (n.programMapTable = {
                                        video: null,
                                        audio: null,
                                        "timed-metadata": {}
                                    }, i = 3 + ((15 & e[1]) << 8 | e[2]) - 4, r = 12 + ((15 & e[10]) << 8 | e[11]); r < i;) {
                                        var s = e[r],
                                            a = (31 & e[r + 1]) << 8 | e[r + 2];
                                        s === Re.H264_STREAM_TYPE && null === n.programMapTable.video ? n.programMapTable.video = a : s === Re.ADTS_STREAM_TYPE && null === n.programMapTable.audio ? n.programMapTable.audio = a : s === Re.METADATA_STREAM_TYPE && (n.programMapTable["timed-metadata"][a] = s), r += 5 + ((15 & e[r + 3]) << 8 | e[r + 4])
                                    }
                                    t.programMapTable = n.programMapTable
                                }
                            }, this.push = function(t) {
                                var i = {}, n = 4;
                                if (i.payloadUnitStartIndicator = !! (64 & t[1]), i.pid = 31 & t[1], i.pid <<= 8, i.pid |= t[2], (48 & t[3]) >>> 4 > 1 && (n += t[n] + 1), 0 === i.pid) i.type = "pat", e(t.subarray(n), i), this.trigger("data", i);
                                else if (i.pid === this.pmtPid) for (i.type = "pmt", e(t.subarray(n), i), this.trigger("data", i); this.packetsWaitingForPmt.length;) this.processPes_.apply(this, this.packetsWaitingForPmt.shift());
                                else void 0 === this.programMapTable ? this.packetsWaitingForPmt.push([t, n, i]) : this.processPes_(t, n, i)
                            }, this.processPes_ = function(e, t, i) {
                                i.pid === this.programMapTable.video ? i.streamType = Re.H264_STREAM_TYPE : i.pid === this.programMapTable.audio ? i.streamType = Re.ADTS_STREAM_TYPE : i.streamType = this.programMapTable["timed-metadata"][i.pid], i.type = "pes", i.data = e.subarray(t), this.trigger("data", i)
                            }
                        }, Ye.prototype = new H, Ye.STREAM_TYPES = {
                            h264: 27,
                            adts: 15
                        }, Xe = function() {
                            var e, t = this,
                                i = {
                                    data: [],
                                    size: 0
                                }, n = {
                                    data: [],
                                    size: 0
                                }, r = {
                                    data: [],
                                    size: 0
                                }, s = function(e, i, n) {
                                    var r, s, a = new Uint8Array(e.size),
                                        o = {
                                            type: i
                                        }, l = 0,
                                        u = 0;
                                    if (e.data.length && !(e.size < 9)) {
                                        for (o.trackId = e.data[0].pid, l = 0; l < e.data.length; l++) s = e.data[l], a.set(s.data, u), u += s.data.byteLength;
                                        var c, d, h;
                                        c = a, (d = o)
                                            .packetLength = 6 + (c[4] << 8 | c[5]), d.dataAlignmentIndicator = 0 != (4 & c[6]), 192 & (h = c[7]) && (d.pts = (14 & c[9]) << 27 | (255 & c[10]) << 20 | (254 & c[11]) << 12 | (255 & c[12]) << 5 | (254 & c[13]) >>> 3, d.pts *= 4, d.pts += (6 & c[13]) >>> 1, d.dts = d.pts, 64 & h && (d.dts = (14 & c[14]) << 27 | (255 & c[15]) << 20 | (254 & c[16]) << 12 | (255 & c[17]) << 5 | (254 & c[18]) >>> 3, d.dts *= 4, d.dts += (6 & c[18]) >>> 1)), d.data = c.subarray(9 + c[8]), r = "video" === i || o.packetLength <= e.size, (n || r) && (e.size = 0, e.data.length = 0), r && t.trigger("data", o)
                                    }
                                };
                            Xe.prototype.init.call(this), this.push = function(a) {
                                ({
                                    pat: function() {},
                                    pes: function() {
                                        var e, t;
                                        switch (a.streamType) {
                                            case Re.H264_STREAM_TYPE:
                                            case Re.H264_STREAM_TYPE:
                                                e = i, t = "video";
                                                break;
                                            case Re.ADTS_STREAM_TYPE:
                                                e = n, t = "audio";
                                                break;
                                            case Re.METADATA_STREAM_TYPE:
                                                e = r, t = "timed-metadata";
                                                break;
                                            default:
                                                return
                                        }
                                        a.payloadUnitStartIndicator && s(e, t, !0), e.data.push(a), e.size += a.data.byteLength
                                    },
                                    pmt: function() {
                                        var i = {
                                            type: "metadata",
                                            tracks: []
                                        };
                                        null !== (e = a.programMapTable)
                                            .video && i.tracks.push({
                                            timelineStartInfo: {
                                                baseMediaDecodeTime: 0
                                            },
                                            id: +e.video,
                                            codec: "avc",
                                            type: "video"
                                        }), null !== e.audio && i.tracks.push({
                                            timelineStartInfo: {
                                                baseMediaDecodeTime: 0
                                            },
                                            id: +e.audio,
                                            codec: "adts",
                                            type: "audio"
                                        }), t.trigger("data", i)
                                    }
                                })[a.type]()
                            }, this.reset = function() {
                                i.size = 0, i.data.length = 0, n.size = 0, n.data.length = 0, this.trigger("reset")
                            }, this.flushStreams_ = function() {
                                s(i, "video"), s(n, "audio"), s(r, "timed-metadata")
                            }, this.flush = function() {
                                this.flushStreams_(), this.trigger("done")
                            }
                        }, Xe.prototype = new H;
                        var Ze = {
                            PAT_PID: 0,
                            MP2T_PACKET_LENGTH: Je,
                            TransportPacketStream: Ge,
                            TransportParseStream: Ye,
                            ElementaryStream: Xe,
                            TimestampRolloverStream: Qe,
                            CaptionStream: Ue.CaptionStream,
                            Cea608Stream: Ue.Cea608Stream,
                            MetadataStream: Ke
                        };
                        for (var $e in Re) Re.hasOwnProperty($e) && (Ze[$e] = Re[$e]);
                        var et, tt = Ze,
                            it = pe,
                            nt = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350];
                        et = function(e) {
                            var t, i = 0;
                            et.prototype.init.call(this), this.push = function(n) {
                                var r, s, a, o, l, u, c = 0;
                                if (e || (i = 0), "audio" === n.type) for (t ? (o = t, (t = new Uint8Array(o.byteLength + n.data.byteLength))
                                    .set(o), t.set(n.data, o.byteLength)) : t = n.data; c + 5 < t.length;) if (255 === t[c] && 240 == (246 & t[c + 1])) {
                                    if (s = 2 * (1 & ~t[c + 1]), r = (3 & t[c + 3]) << 11 | t[c + 4] << 3 | (224 & t[c + 5]) >> 5, u = (l = 1024 * (1 + (3 & t[c + 6]))) * it / nt[(60 & t[c + 2]) >>> 2], a = c + r, t.byteLength < a) return;
                                    if (this.trigger("data", {
                                        pts: n.pts + i * u,
                                        dts: n.dts + i * u,
                                        sampleCount: l,
                                        audioobjecttype: 1 + (t[c + 2] >>> 6 & 3),
                                        channelcount: (1 & t[c + 2]) << 2 | (192 & t[c + 3]) >>> 6,
                                        samplerate: nt[(60 & t[c + 2]) >>> 2],
                                        samplingfrequencyindex: (60 & t[c + 2]) >>> 2,
                                        samplesize: 16,
                                        data: t.subarray(c + 7 + s, a)
                                    }), i++, t.byteLength === a) return void(t = void 0);
                                    t = t.subarray(a)
                                } else c++
                            }, this.flush = function() {
                                i = 0, this.trigger("done")
                            }, this.reset = function() {
                                t = void 0, this.trigger("reset")
                            }, this.endTimeline = function() {
                                t = void 0, this.trigger("endedtimeline")
                            }
                        }, et.prototype = new H;
                        var rt, st, at, ot = et,
                            lt = function(e) {
                                var t = e.byteLength,
                                    i = 0,
                                    n = 0;
                                this.length = function() {
                                    return 8 * t
                                }, this.bitsAvailable = function() {
                                    return 8 * t + n
                                }, this.loadWord = function() {
                                    var r = e.byteLength - t,
                                        s = new Uint8Array(4),
                                        a = Math.min(4, t);
                                    if (0 === a) throw new Error("no bytes available");
                                    s.set(e.subarray(r, r + a)), i = new DataView(s.buffer)
                                        .getUint32(0), n = 8 * a, t -= a
                                }, this.skipBits = function(e) {
                                    var r;
                                    n > e ? (i <<= e, n -= e) : (e -= n, e -= 8 * (r = Math.floor(e / 8)), t -= r, this.loadWord(), i <<= e, n -= e)
                                }, this.readBits = function(e) {
                                    var r = Math.min(n, e),
                                        s = i >>> 32 - r;
                                    return (n -= r) > 0 ? i <<= r : t > 0 && this.loadWord(), (r = e - r) > 0 ? s << r | this.readBits(r) : s
                                }, this.skipLeadingZeros = function() {
                                    var e;
                                    for (e = 0; e < n; ++e) if (0 != (i & 2147483648 >>> e)) return i <<= e, n -= e, e;
                                    return this.loadWord(), e + this.skipLeadingZeros()
                                }, this.skipUnsignedExpGolomb = function() {
                                    this.skipBits(1 + this.skipLeadingZeros())
                                }, this.skipExpGolomb = function() {
                                    this.skipBits(1 + this.skipLeadingZeros())
                                }, this.readUnsignedExpGolomb = function() {
                                    var e = this.skipLeadingZeros();
                                    return this.readBits(e + 1) - 1
                                }, this.readExpGolomb = function() {
                                    var e = this.readUnsignedExpGolomb();
                                    return 1 & e ? 1 + e >>> 1 : -1 * (e >>> 1)
                                }, this.readBoolean = function() {
                                    return 1 === this.readBits(1)
                                }, this.readUnsignedByte = function() {
                                    return this.readBits(8)
                                }, this.loadWord()
                            };
                        st = function() {
                            var e, t, i = 0;
                            st.prototype.init.call(this), this.push = function(n) {
                                var r;
                                t ? ((r = new Uint8Array(t.byteLength + n.data.byteLength))
                                    .set(t), r.set(n.data, t.byteLength), t = r) : t = n.data;
                                for (var s = t.byteLength; i < s - 3; i++) if (1 === t[i + 2]) {
                                    e = i + 5;
                                    break
                                }
                                for (; e < s;) switch (t[e]) {
                                    case 0:
                                        if (0 !== t[e - 1]) {
                                            e += 2;
                                            break
                                        }
                                        if (0 !== t[e - 2]) {
                                            e++;
                                            break
                                        }
                                        i + 3 !== e - 2 && this.trigger("data", t.subarray(i + 3, e - 2));
                                        do {
                                            e++
                                        } while (1 !== t[e] && e < s);
                                        i = e - 2, e += 3;
                                        break;
                                    case 1:
                                        if (0 !== t[e - 1] || 0 !== t[e - 2]) {
                                            e += 3;
                                            break
                                        }
                                        this.trigger("data", t.subarray(i + 3, e - 2)), i = e - 2, e += 3;
                                        break;
                                    default:
                                        e += 3
                                }
                                t = t.subarray(i), e -= i, i = 0
                            }, this.reset = function() {
                                t = null, i = 0, this.trigger("reset")
                            }, this.flush = function() {
                                t && t.byteLength > 3 && this.trigger("data", t.subarray(i + 3)), t = null, i = 0, this.trigger("done")
                            }, this.endTimeline = function() {
                                this.flush(), this.trigger("endedtimeline")
                            }
                        }, st.prototype = new H, at = {
                            100: !0,
                            110: !0,
                            122: !0,
                            244: !0,
                            44: !0,
                            83: !0,
                            86: !0,
                            118: !0,
                            128: !0,
                            138: !0,
                            139: !0,
                            134: !0
                        }, rt = function() {
                            var e, t, i, n, r, s, a, o = new st;
                            rt.prototype.init.call(this), e = this, this.push = function(e) {
                                "video" === e.type && (t = e.trackId, i = e.pts, n = e.dts, o.push(e))
                            }, o.on("data", (function(a) {
                                var o = {
                                    trackId: t,
                                    pts: i,
                                    dts: n,
                                    data: a
                                };
                                switch (31 & a[0]) {
                                    case 5:
                                        o.nalUnitType = "slice_layer_without_partitioning_rbsp_idr";
                                        break;
                                    case 6:
                                        o.nalUnitType = "sei_rbsp", o.escapedRBSP = r(a.subarray(1));
                                        break;
                                    case 7:
                                        o.nalUnitType = "seq_parameter_set_rbsp", o.escapedRBSP = r(a.subarray(1)), o.config = s(o.escapedRBSP);
                                        break;
                                    case 8:
                                        o.nalUnitType = "pic_parameter_set_rbsp";
                                        break;
                                    case 9:
                                        o.nalUnitType = "access_unit_delimiter_rbsp"
                                }
                                e.trigger("data", o)
                            })), o.on("done", (function() {
                                e.trigger("done")
                            })), o.on("partialdone", (function() {
                                e.trigger("partialdone")
                            })), o.on("reset", (function() {
                                e.trigger("reset")
                            })), o.on("endedtimeline", (function() {
                                e.trigger("endedtimeline")
                            })), this.flush = function() {
                                o.flush()
                            }, this.partialFlush = function() {
                                o.partialFlush()
                            }, this.reset = function() {
                                o.reset()
                            }, this.endTimeline = function() {
                                o.endTimeline()
                            }, a = function(e, t) {
                                var i, n = 8,
                                    r = 8;
                                for (i = 0; i < e; i++) 0 !== r && (r = (n + t.readExpGolomb() + 256) % 256), n = 0 === r ? n : r
                            }, r = function(e) {
                                for (var t, i, n = e.byteLength, r = [], s = 1; s < n - 2;) 0 === e[s] && 0 === e[s + 1] && 3 === e[s + 2] ? (r.push(s + 2), s += 2) : s++;
                                if (0 === r.length) return e;
                                t = n - r.length, i = new Uint8Array(t);
                                var a = 0;
                                for (s = 0; s < t; a++, s++) a === r[0] && (a++, r.shift()), i[s] = e[a];
                                return i
                            }, s = function(e) {
                                var t, i, n, r, s, o, l, u, c, d, h, p, f, m = 0,
                                    v = 0,
                                    g = 0,
                                    y = 0,
                                    _ = 1;
                                if (i = (t = new lt(e))
                                    .readUnsignedByte(), r = t.readUnsignedByte(), n = t.readUnsignedByte(), t.skipUnsignedExpGolomb(), at[i] && (3 === (s = t.readUnsignedExpGolomb()) && t.skipBits(1), t.skipUnsignedExpGolomb(), t.skipUnsignedExpGolomb(), t.skipBits(1), t.readBoolean())) for (h = 3 !== s ? 8 : 12, f = 0; f < h; f++) t.readBoolean() && a(f < 6 ? 16 : 64, t);
                                if (t.skipUnsignedExpGolomb(), 0 === (o = t.readUnsignedExpGolomb())) t.readUnsignedExpGolomb();
                                else if (1 === o) for (t.skipBits(1), t.skipExpGolomb(), t.skipExpGolomb(), l = t.readUnsignedExpGolomb(), f = 0; f < l; f++) t.skipExpGolomb();
                                if (t.skipUnsignedExpGolomb(), t.skipBits(1), u = t.readUnsignedExpGolomb(), c = t.readUnsignedExpGolomb(), 0 === (d = t.readBits(1)) && t.skipBits(1), t.skipBits(1), t.readBoolean() && (m = t.readUnsignedExpGolomb(), v = t.readUnsignedExpGolomb(), g = t.readUnsignedExpGolomb(), y = t.readUnsignedExpGolomb()), t.readBoolean() && t.readBoolean()) {
                                    switch (t.readUnsignedByte()) {
                                        case 1:
                                            p = [1, 1];
                                            break;
                                        case 2:
                                            p = [12, 11];
                                            break;
                                        case 3:
                                            p = [10, 11];
                                            break;
                                        case 4:
                                            p = [16, 11];
                                            break;
                                        case 5:
                                            p = [40, 33];
                                            break;
                                        case 6:
                                            p = [24, 11];
                                            break;
                                        case 7:
                                            p = [20, 11];
                                            break;
                                        case 8:
                                            p = [32, 11];
                                            break;
                                        case 9:
                                            p = [80, 33];
                                            break;
                                        case 10:
                                            p = [18, 11];
                                            break;
                                        case 11:
                                            p = [15, 11];
                                            break;
                                        case 12:
                                            p = [64, 33];
                                            break;
                                        case 13:
                                            p = [160, 99];
                                            break;
                                        case 14:
                                            p = [4, 3];
                                            break;
                                        case 15:
                                            p = [3, 2];
                                            break;
                                        case 16:
                                            p = [2, 1];
                                            break;
                                        case 255:
                                            p = [t.readUnsignedByte() << 8 | t.readUnsignedByte(), t.readUnsignedByte() << 8 | t.readUnsignedByte()]
                                    }
                                    p && (_ = p[0] / p[1])
                                }
                                return {
                                    profileIdc: i,
                                    levelIdc: n,
                                    profileCompatibility: r,
                                    width: Math.ceil((16 * (u + 1) - 2 * m - 2 * v) * _),
                                    height: (2 - d) * (c + 1) * 16 - 2 * g - 2 * y,
                                    sarRatio: p
                                }
                            }
                        }, rt.prototype = new H;
                        var ut, ct = {
                            H264Stream: rt,
                            NalByteStream: st
                        }, dt = function(e) {
                            return e[0] === "I".charCodeAt(0) && e[1] === "D".charCodeAt(0) && e[2] === "3".charCodeAt(0)
                        }, ht = function(e, t) {
                            var i = e[t + 6] << 21 | e[t + 7] << 14 | e[t + 8] << 7 | e[t + 9];
                            return (16 & e[t + 5]) >> 4 ? i + 20 : i + 10
                        }, pt = function(e, t) {
                            var i = (224 & e[t + 5]) >> 5,
                                n = e[t + 4] << 3;
                            return 6144 & e[t + 3] | n | i
                        };
                        (ut = function() {
                            var e = new Uint8Array,
                                t = 0;
                            ut.prototype.init.call(this), this.setTimestamp = function(e) {
                                t = e
                            }, this.push = function(i) {
                                var n, r, s, a, o = 0,
                                    l = 0;
                                for (e.length ? (a = e.length, (e = new Uint8Array(i.byteLength + a))
                                    .set(e.subarray(0, a)), e.set(i, a)) : e = i; e.length - l >= 3;) if (e[l] !== "I".charCodeAt(0) || e[l + 1] !== "D".charCodeAt(0) || e[l + 2] !== "3".charCodeAt(0)) if (255 != (255 & e[l]) || 240 != (240 & e[l + 1])) l++;
                                else {
                                    if (e.length - l < 7) break;
                                    if (l + (o = pt(e, l)) > e.length) break;
                                    s = {
                                        type: "audio",
                                        data: e.subarray(l, l + o),
                                        pts: t,
                                        dts: t
                                    }, this.trigger("data", s), l += o
                                } else {
                                    if (e.length - l < 10) break;
                                    if (l + (o = ht(e, l)) > e.length) break;
                                    r = {
                                        type: "timed-metadata",
                                        data: e.subarray(l, l + o)
                                    }, this.trigger("data", r), l += o
                                }
                                n = e.length - l, e = n > 0 ? e.subarray(l) : new Uint8Array
                            }, this.reset = function() {
                                e = new Uint8Array, this.trigger("reset")
                            }, this.endTimeline = function() {
                                e = new Uint8Array, this.trigger("endedtimeline")
                            }
                        })
                            .prototype = new H;
                        var ft, mt, vt, gt, yt = ut,
                            _t = ct.H264Stream,
                            bt = dt,
                            Tt = pe,
                            kt = ["audioobjecttype", "channelcount", "samplerate", "samplingfrequencyindex", "samplesize"],
                            St = ["width", "height", "profileIdc", "levelIdc", "profileCompatibility", "sarRatio"],
                            jt = function(e, t) {
                                var i;
                                if (e.length !== t.length) return !1;
                                for (i = 0; i < e.length; i++) if (e[i] !== t[i]) return !1;
                                return !0
                            }, wt = function(e, t, i, n, r, s) {
                                return {
                                    start: {
                                        dts: e,
                                        pts: e + (i - t)
                                    },
                                    end: {
                                        dts: e + (n - t),
                                        pts: e + (r - i)
                                    },
                                    prependedContentDuration: s,
                                    baseMediaDecodeTime: e
                                }
                            };
                        mt = function(e, t) {
                            var i = [],
                                n = 0,
                                r = 0,
                                s = 0,
                                a = 1 / 0;
                            t = t || {}, mt.prototype.init.call(this), this.push = function(t) {
                                je(e, t), e && kt.forEach((function(i) {
                                    e[i] = t[i]
                                })), i.push(t)
                            }, this.setEarliestDts = function(t) {
                                r = t - e.timelineStartInfo.baseMediaDecodeTime
                            }, this.setVideoBaseMediaDecodeTime = function(e) {
                                a = e
                            }, this.setAudioAppendStart = function(e) {
                                s = e
                            }, this.flush = function() {
                                var o, l, u, c, d;
                                0 !== i.length ? (o = ye(i, e, r), e.baseMediaDecodeTime = Se(e, t.keepOriginalTimestamps), ge(e, o, s, a), e.samples = _e(o), u = Z(be(o)), i = [], l = $(n, [e]), c = new Uint8Array(l.byteLength + u.byteLength), n++, c.set(l), c.set(u, l.byteLength), ke(e), d = Math.ceil(1024 * Tt / e.samplerate), o.length && this.trigger("timingInfo", {
                                    start: o[0].dts,
                                    end: o[0].dts + o.length * d
                                }), this.trigger("data", {
                                    track: e,
                                    boxes: c
                                }), this.trigger("done", "AudioSegmentStream")) : this.trigger("done", "AudioSegmentStream")
                            }, this.reset = function() {
                                ke(e), i = [], this.trigger("reset")
                            }
                        }, mt.prototype = new H, ft = function(e, t) {
                            var i, n, r = 0,
                                s = [],
                                a = [];
                            t = t || {}, ft.prototype.init.call(this), delete e.minPTS, this.gopCache_ = [], this.push = function(t) {
                                je(e, t), "seq_parameter_set_rbsp" !== t.nalUnitType || i || (i = t.config, e.sps = [t.data], St.forEach((function(t) {
                                    e[t] = i[t]
                                }), this)), "pic_parameter_set_rbsp" !== t.nalUnitType || n || (n = t.data, e.pps = [t.data]), s.push(t)
                            }, this.flush = function() {
                                for (var i, n, o, l, u, c, d, h, p = 0; s.length && "access_unit_delimiter_rbsp" !== s[0].nalUnitType;) s.shift();
                                if (0 === s.length) return this.resetStream_(), void this.trigger("done", "VideoSegmentStream");
                                if (i = ie(s), (o = ne(i))[0][0].keyFrame || ((n = this.getGopForFusion_(s[0], e)) ? (p = n.duration, o.unshift(n), o.byteLength += n.byteLength, o.nalCount += n.nalCount, o.pts = n.pts, o.dts = n.dts, o.duration += n.duration) : o = re(o)), a.length) {
                                    var f;
                                    if (!(f = t.alignGopsAtEnd ? this.alignGopsAtEnd_(o) : this.alignGopsAtStart_(o))) return this.gopCache_.unshift({
                                        gop: o.pop(),
                                        pps: e.pps,
                                        sps: e.sps
                                    }), this.gopCache_.length = Math.min(6, this.gopCache_.length), s = [], this.resetStream_(), void this.trigger("done", "VideoSegmentStream");
                                    ke(e), o = f
                                }
                                je(e, o), e.samples = se(o), u = Z(ae(o)), e.baseMediaDecodeTime = Se(e, t.keepOriginalTimestamps), this.trigger("processedGopsInfo", o.map((function(e) {
                                    return {
                                        pts: e.pts,
                                        dts: e.dts,
                                        byteLength: e.byteLength
                                    }
                                }))), d = o[0], h = o[o.length - 1], this.trigger("segmentTimingInfo", wt(e.baseMediaDecodeTime, d.dts, d.pts, h.dts + h.duration, h.pts + h.duration, p)), this.trigger("timingInfo", {
                                    start: o[0].dts,
                                    end: o[o.length - 1].dts + o[o.length - 1].duration
                                }), this.gopCache_.unshift({
                                    gop: o.pop(),
                                    pps: e.pps,
                                    sps: e.sps
                                }), this.gopCache_.length = Math.min(6, this.gopCache_.length), s = [], this.trigger("baseMediaDecodeTime", e.baseMediaDecodeTime), this.trigger("timelineStartInfo", e.timelineStartInfo), l = $(r, [e]), c = new Uint8Array(l.byteLength + u.byteLength), r++, c.set(l), c.set(u, l.byteLength), this.trigger("data", {
                                    track: e,
                                    boxes: c
                                }), this.resetStream_(), this.trigger("done", "VideoSegmentStream")
                            }, this.reset = function() {
                                this.resetStream_(), s = [], this.gopCache_.length = 0, a.length = 0, this.trigger("reset")
                            }, this.resetStream_ = function() {
                                ke(e), i = void 0, n = void 0
                            }, this.getGopForFusion_ = function(t) {
                                var i, n, r, s, a, o = 1 / 0;
                                for (a = 0; a < this.gopCache_.length; a++) r = (s = this.gopCache_[a])
                                    .gop, e.pps && jt(e.pps[0], s.pps[0]) && e.sps && jt(e.sps[0], s.sps[0]) && (r.dts < e.timelineStartInfo.dts || (i = t.dts - r.dts - r.duration) >= -1e4 && i <= 45e3 && (!n || o > i) && (n = s, o = i));
                                return n ? n.gop : null
                            }, this.alignGopsAtStart_ = function(e) {
                                var t, i, n, r, s, o, l, u;
                                for (s = e.byteLength, o = e.nalCount, l = e.duration, t = i = 0; t < a.length && i < e.length && (n = a[t], r = e[i], n.pts !== r.pts);) r.pts > n.pts ? t++ : (i++, s -= r.byteLength, o -= r.nalCount, l -= r.duration);
                                return 0 === i ? e : i === e.length ? null : ((u = e.slice(i))
                                    .byteLength = s, u.duration = l, u.nalCount = o, u.pts = u[0].pts, u.dts = u[0].dts, u)
                            }, this.alignGopsAtEnd_ = function(e) {
                                var t, i, n, r, s, o, l;
                                for (t = a.length - 1, i = e.length - 1, s = null, o = !1; t >= 0 && i >= 0;) {
                                    if (n = a[t], r = e[i], n.pts === r.pts) {
                                        o = !0;
                                        break
                                    }
                                    n.pts > r.pts ? t-- : (t === a.length - 1 && (s = i), i--)
                                }
                                if (!o && null === s) return null;
                                if (0 === (l = o ? i : s)) return e;
                                var u = e.slice(l),
                                    c = u.reduce((function(e, t) {
                                        return e.byteLength += t.byteLength, e.duration += t.duration, e.nalCount += t.nalCount, e
                                    }), {
                                        byteLength: 0,
                                        duration: 0,
                                        nalCount: 0
                                    });
                                return u.byteLength = c.byteLength, u.duration = c.duration, u.nalCount = c.nalCount, u.pts = u[0].pts, u.dts = u[0].dts, u
                            }, this.alignGopsWith = function(e) {
                                a = e
                            }
                        }, ft.prototype = new H, gt = function(e, t) {
                            this.numberOfTracks = 0, this.metadataStream = t, void 0 !== (e = e || {})
                                .remux ? this.remuxTracks = !! e.remux : this.remuxTracks = !0, "boolean" == typeof e.keepOriginalTimestamps ? this.keepOriginalTimestamps = e.keepOriginalTimestamps : this.keepOriginalTimestamps = !1, this.pendingTracks = [], this.videoTrack = null, this.pendingBoxes = [], this.pendingCaptions = [], this.pendingMetadata = [], this.pendingBytes = 0, this.emittedTracks = 0, gt.prototype.init.call(this), this.push = function(e) {
                                return e.text ? this.pendingCaptions.push(e) : e.frames ? this.pendingMetadata.push(e) : (this.pendingTracks.push(e.track), this.pendingBytes += e.boxes.byteLength, "video" === e.track.type && (this.videoTrack = e.track, this.pendingBoxes.push(e.boxes)), void("audio" === e.track.type && (this.audioTrack = e.track, this.pendingBoxes.unshift(e.boxes))))
                            }
                        }, gt.prototype = new H, gt.prototype.flush = function(e) {
                            var t, i, n, r, s = 0,
                                a = {
                                    captions: [],
                                    captionStreams: {},
                                    metadata: [],
                                    info: {}
                                }, o = 0;
                            if (this.pendingTracks.length < this.numberOfTracks) {
                                if ("VideoSegmentStream" !== e && "AudioSegmentStream" !== e) return;
                                if (this.remuxTracks) return;
                                if (0 === this.pendingTracks.length) return this.emittedTracks++, void(this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), this.emittedTracks = 0))
                            }
                            if (this.videoTrack ? (o = this.videoTrack.timelineStartInfo.pts, St.forEach((function(e) {
                                a.info[e] = this.videoTrack[e]
                            }), this)) : this.audioTrack && (o = this.audioTrack.timelineStartInfo.pts, kt.forEach((function(e) {
                                a.info[e] = this.audioTrack[e]
                            }), this)), this.videoTrack || this.audioTrack) {
                                for (1 === this.pendingTracks.length ? a.type = this.pendingTracks[0].type : a.type = "combined", this.emittedTracks += this.pendingTracks.length, n = ee(this.pendingTracks), a.initSegment = new Uint8Array(n.byteLength), a.initSegment.set(n), a.data = new Uint8Array(this.pendingBytes), r = 0; r < this.pendingBoxes.length; r++) a.data.set(this.pendingBoxes[r], s), s += this.pendingBoxes[r].byteLength;
                                for (r = 0; r < this.pendingCaptions.length; r++)(t = this.pendingCaptions[r])
                                    .startTime = ve(t.startPts, o, this.keepOriginalTimestamps), t.endTime = ve(t.endPts, o, this.keepOriginalTimestamps), a.captionStreams[t.stream] = !0, a.captions.push(t);
                                for (r = 0; r < this.pendingMetadata.length; r++)(i = this.pendingMetadata[r])
                                    .cueTime = ve(i.pts, o, this.keepOriginalTimestamps), a.metadata.push(i);
                                for (a.metadata.dispatchType = this.metadataStream.dispatchType, this.pendingTracks.length = 0, this.videoTrack = null, this.pendingBoxes.length = 0, this.pendingCaptions.length = 0, this.pendingBytes = 0, this.pendingMetadata.length = 0, this.trigger("data", a), r = 0; r < a.captions.length; r++) t = a.captions[r], this.trigger("caption", t);
                                for (r = 0; r < a.metadata.length; r++) i = a.metadata[r], this.trigger("id3Frame", i)
                            }
                            this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), this.emittedTracks = 0)
                        }, gt.prototype.setRemux = function(e) {
                            this.remuxTracks = e
                        }, vt = function(e) {
                            var t, i, n = this,
                                r = !0;
                            vt.prototype.init.call(this), e = e || {}, this.baseMediaDecodeTime = e.baseMediaDecodeTime || 0, this.transmuxPipeline_ = {}, this.setupAacPipeline = function() {
                                var r = {};
                                this.transmuxPipeline_ = r, r.type = "aac", r.metadataStream = new tt.MetadataStream, r.aacStream = new yt, r.audioTimestampRolloverStream = new tt.TimestampRolloverStream("audio"), r.timedMetadataTimestampRolloverStream = new tt.TimestampRolloverStream("timed-metadata"), r.adtsStream = new ot, r.coalesceStream = new gt(e, r.metadataStream), r.headOfPipeline = r.aacStream, r.aacStream.pipe(r.audioTimestampRolloverStream)
                                    .pipe(r.adtsStream), r.aacStream.pipe(r.timedMetadataTimestampRolloverStream)
                                    .pipe(r.metadataStream)
                                    .pipe(r.coalesceStream), r.metadataStream.on("timestamp", (function(e) {
                                    r.aacStream.setTimestamp(e.timeStamp)
                                })), r.aacStream.on("data", (function(s) {
                                    "timed-metadata" !== s.type || r.audioSegmentStream || (i = i || {
                                        timelineStartInfo: {
                                            baseMediaDecodeTime: n.baseMediaDecodeTime
                                        },
                                        codec: "adts",
                                        type: "audio"
                                    }, r.coalesceStream.numberOfTracks++, r.audioSegmentStream = new mt(i, e), r.audioSegmentStream.on("timingInfo", n.trigger.bind(n, "audioTimingInfo")), r.adtsStream.pipe(r.audioSegmentStream)
                                        .pipe(r.coalesceStream)), n.trigger("trackinfo", {
                                        hasAudio: !! i,
                                        hasVideo: !! t
                                    })
                                })), r.coalesceStream.on("data", this.trigger.bind(this, "data")), r.coalesceStream.on("done", this.trigger.bind(this, "done"))
                            }, this.setupTsPipeline = function() {
                                var r = {};
                                this.transmuxPipeline_ = r, r.type = "ts", r.metadataStream = new tt.MetadataStream, r.packetStream = new tt.TransportPacketStream, r.parseStream = new tt.TransportParseStream, r.elementaryStream = new tt.ElementaryStream, r.timestampRolloverStream = new tt.TimestampRolloverStream, r.adtsStream = new ot, r.h264Stream = new _t, r.captionStream = new tt.CaptionStream, r.coalesceStream = new gt(e, r.metadataStream), r.headOfPipeline = r.packetStream, r.packetStream.pipe(r.parseStream)
                                    .pipe(r.elementaryStream)
                                    .pipe(r.timestampRolloverStream), r.timestampRolloverStream.pipe(r.h264Stream), r.timestampRolloverStream.pipe(r.adtsStream), r.timestampRolloverStream.pipe(r.metadataStream)
                                    .pipe(r.coalesceStream), r.h264Stream.pipe(r.captionStream)
                                    .pipe(r.coalesceStream), r.elementaryStream.on("data", (function(s) {
                                    var a;
                                    if ("metadata" === s.type) {
                                        for (a = s.tracks.length; a--;) t || "video" !== s.tracks[a].type ? i || "audio" !== s.tracks[a].type || ((i = s.tracks[a])
                                            .timelineStartInfo.baseMediaDecodeTime = n.baseMediaDecodeTime) : (t = s.tracks[a])
                                            .timelineStartInfo.baseMediaDecodeTime = n.baseMediaDecodeTime;
                                        t && !r.videoSegmentStream && (r.coalesceStream.numberOfTracks++, r.videoSegmentStream = new ft(t, e), r.videoSegmentStream.on("timelineStartInfo", (function(e) {
                                            i && (i.timelineStartInfo = e, r.audioSegmentStream.setEarliestDts(e.dts))
                                        })), r.videoSegmentStream.on("processedGopsInfo", n.trigger.bind(n, "gopInfo")), r.videoSegmentStream.on("segmentTimingInfo", n.trigger.bind(n, "videoSegmentTimingInfo")), r.videoSegmentStream.on("baseMediaDecodeTime", (function(e) {
                                            i && r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)
                                        })), r.videoSegmentStream.on("timingInfo", n.trigger.bind(n, "videoTimingInfo")), r.h264Stream.pipe(r.videoSegmentStream)
                                            .pipe(r.coalesceStream)), i && !r.audioSegmentStream && (r.coalesceStream.numberOfTracks++, r.audioSegmentStream = new mt(i, e), r.audioSegmentStream.on("timingInfo", n.trigger.bind(n, "audioTimingInfo")), r.adtsStream.pipe(r.audioSegmentStream)
                                            .pipe(r.coalesceStream)), n.trigger("trackinfo", {
                                            hasAudio: !! i,
                                            hasVideo: !! t
                                        })
                                    }
                                })), r.coalesceStream.on("data", this.trigger.bind(this, "data")), r.coalesceStream.on("id3Frame", (function(e) {
                                    e.dispatchType = r.metadataStream.dispatchType, n.trigger("id3Frame", e)
                                })), r.coalesceStream.on("caption", this.trigger.bind(this, "caption")), r.coalesceStream.on("done", this.trigger.bind(this, "done"))
                            }, this.setBaseMediaDecodeTime = function(n) {
                                var r = this.transmuxPipeline_;
                                e.keepOriginalTimestamps || (this.baseMediaDecodeTime = n), i && (i.timelineStartInfo.dts = void 0, i.timelineStartInfo.pts = void 0, ke(i), e.keepOriginalTimestamps || (i.timelineStartInfo.baseMediaDecodeTime = n), r.audioTimestampRolloverStream && r.audioTimestampRolloverStream.discontinuity()), t && (r.videoSegmentStream && (r.videoSegmentStream.gopCache_ = []), t.timelineStartInfo.dts = void 0, t.timelineStartInfo.pts = void 0, ke(t), r.captionStream.reset(), e.keepOriginalTimestamps || (t.timelineStartInfo.baseMediaDecodeTime = n)), r.timestampRolloverStream && r.timestampRolloverStream.discontinuity()
                            }, this.setAudioAppendStart = function(e) {
                                i && this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)
                            }, this.setRemux = function(t) {
                                var i = this.transmuxPipeline_;
                                e.remux = t, i && i.coalesceStream && i.coalesceStream.setRemux(t)
                            }, this.alignGopsWith = function(e) {
                                t && this.transmuxPipeline_.videoSegmentStream && this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)
                            }, this.push = function(e) {
                                if (r) {
                                    var t = bt(e);
                                    t && "aac" !== this.transmuxPipeline_.type ? this.setupAacPipeline() : t || "ts" === this.transmuxPipeline_.type || this.setupTsPipeline(), r = !1
                                }
                                this.transmuxPipeline_.headOfPipeline.push(e)
                            }, this.flush = function() {
                                r = !0, this.transmuxPipeline_.headOfPipeline.flush()
                            }, this.endTimeline = function() {
                                this.transmuxPipeline_.headOfPipeline.endTimeline()
                            }, this.reset = function() {
                                this.transmuxPipeline_.headOfPipeline && this.transmuxPipeline_.headOfPipeline.reset()
                            }, this.resetCaptions = function() {
                                this.transmuxPipeline_.captionStream && this.transmuxPipeline_.captionStream.reset()
                            }
                        }, vt.prototype = new H;
                        var At = {
                            Transmuxer: vt,
                            VideoSegmentStream: ft,
                            AudioSegmentStream: mt,
                            AUDIO_PROPERTIES: kt,
                            VIDEO_PROPERTIES: St,
                            generateVideoSegmentTimingInfo: wt
                        }, Ct = function() {
                            function e(e, t) {
                                for (var i = 0; i < t.length; i++) {
                                    var n = t[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
                                }
                            }
                            return function(t, i, n) {
                                return i && e(t.prototype, i), n && e(t, n), t
                            }
                        }(),
                            Et = function() {
                                function e(t, i) {
                                    ! function(e, t) {
                                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                                    }(this, e), this.options = i || {}, this.self = t, this.init()
                                }
                                return Ct(e, [{
                                    key: "init",
                                    value: function() {
                                        this.transmuxer && this.transmuxer.dispose(), this.transmuxer = new At.Transmuxer(this.options),
                                        function(e, t) {
                                            t.on("data", (function(t) {
                                                var i = t.initSegment;
                                                t.initSegment = {
                                                    data: i.buffer,
                                                    byteOffset: i.byteOffset,
                                                    byteLength: i.byteLength
                                                };
                                                var n = t.data;
                                                t.data = n.buffer, e.postMessage({
                                                    action: "data",
                                                    segment: t,
                                                    byteOffset: n.byteOffset,
                                                    byteLength: n.byteLength
                                                }, [t.data])
                                            })), t.captionStream && t.captionStream.on("data", (function(t) {
                                                e.postMessage({
                                                    action: "caption",
                                                    data: t
                                                })
                                            })), t.on("done", (function(t) {
                                                e.postMessage({
                                                    action: "done"
                                                })
                                            })), t.on("gopInfo", (function(t) {
                                                e.postMessage({
                                                    action: "gopInfo",
                                                    gopInfo: t
                                                })
                                            })), t.on("videoSegmentTimingInfo", (function(t) {
                                                e.postMessage({
                                                    action: "videoSegmentTimingInfo",
                                                    videoSegmentTimingInfo: t
                                                })
                                            }))
                                        }(this.self, this.transmuxer)
                                    }
                                }, {
                                    key: "push",
                                    value: function(e) {
                                        var t = new Uint8Array(e.data, e.byteOffset, e.byteLength);
                                        this.transmuxer.push(t)
                                    }
                                }, {
                                    key: "reset",
                                    value: function() {
                                        this.init()
                                    }
                                }, {
                                    key: "setTimestampOffset",
                                    value: function(e) {
                                        var t = e.timestampOffset || 0;
                                        this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4 * t))
                                    }
                                }, {
                                    key: "setAudioAppendStart",
                                    value: function(e) {
                                        this.transmuxer.setAudioAppendStart(Math.ceil(9e4 * e.appendStart))
                                    }
                                }, {
                                    key: "flush",
                                    value: function(e) {
                                        this.transmuxer.flush()
                                    }
                                }, {
                                    key: "resetCaptions",
                                    value: function() {
                                        this.transmuxer.resetCaptions()
                                    }
                                }, {
                                    key: "alignGopsWith",
                                    value: function(e) {
                                        this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())
                                    }
                                }]), e
                            }(),
                            xt = new function(e) {
                                e.onmessage = function(t) {
                                    "init" === t.data.action && t.data.options ? this.messageHandlers = new Et(e, t.data.options) : (this.messageHandlers || (this.messageHandlers = new Et(e)), t.data && t.data.action && "init" !== t.data.action && this.messageHandlers[t.data.action] && this.messageHandlers[t.data.action](t.data))
                                }
                            }(i)
                    }()
                })),
                    yh = {
                        videoCodec: "avc1",
                        videoObjectTypeIndicator: ".4d400d",
                        audioProfile: "2"
                    }, _h = function(e) {
                        return e.map((function(e) {
                            return e.replace(/avc1\.(\d+)\.(\d+)/i, (function(e, t, i) {
                                return "avc1." + ("00" + Number(t)
                                    .toString(16))
                                    .slice(-2) + "00" + ("00" + Number(i)
                                    .toString(16))
                                    .slice(-2)
                            }))
                        }))
                    }, bh = function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                            t = {
                                codecCount: 0
                            }, i = void 0;
                        return t.codecCount = e.split(",")
                            .length, t.codecCount = t.codecCount || 2, (i = /(^|\s|,)+(avc[13])([^ ,]*)/i.exec(e)) && (t.videoCodec = i[2], t.videoObjectTypeIndicator = i[3]), t.audioProfile = /(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e), t.audioProfile = t.audioProfile && t.audioProfile[2], t
                    }, Th = function(e, t, i) {
                        return e + "/" + t + '; codecs="' + i.filter((function(e) {
                            return !!e
                        }))
                            .join(", ") + '"'
                    }, kh = function(e, t) {
                        var i = function(e) {
                            return e.segments && e.segments.length && e.segments[0].map ? "mp4" : "mp2t"
                        }(t),
                            n = function(e) {
                                var t = e.attributes || {};
                                return t.CODECS ? bh(t.CODECS) : yh
                            }(t),
                            r = t.attributes || {}, s = !0,
                            a = !1;
                        if (!t) return [];
                        if (e.mediaGroups.AUDIO && r.AUDIO) {
                            var o = e.mediaGroups.AUDIO[r.AUDIO];
                            if (o) for (var l in a = !0, s = !1, o) if (!o[l].uri && !o[l].playlists) {
                                s = !0;
                                break
                            }
                        }
                        a && !n.audioProfile && (s || (n.audioProfile = function(e, t) {
                            if (!e.mediaGroups.AUDIO || !t) return null;
                            var i = e.mediaGroups.AUDIO[t];
                            if (!i) return null;
                            for (var n in i) {
                                var r = i[n];
                                if (r.
                                default && r.playlists) return bh(r.playlists[0].attributes.CODECS)
                                    .audioProfile
                            }
                            return null
                        }(e, r.AUDIO)), n.audioProfile || (td.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"), n.audioProfile = yh.audioProfile));
                        var u = {};
                        n.videoCodec && (u.video = "" + n.videoCodec + n.videoObjectTypeIndicator), n.audioProfile && (u.audio = "mp4a.40." + n.audioProfile);
                        var c = Th("audio", i, [u.audio]),
                            d = Th("video", i, [u.video]),
                            h = Th("video", i, [u.video, u.audio]);
                        return a ? !s && u.video ? [d, c] : s || u.video ? [h, c] : [c, c] : u.video ? [h] : [c]
                    }, Sh = function(e) {
                        return /mp4a\.\d+.\d+/i.test(e)
                    }, jh = function(e) {
                        return /avc1\.[\da-f]+/i.test(e)
                    }, wh = function(e, t, i) {
                        if (null == t || !e.length) return [];
                        var n = Math.ceil(9e4 * (t - i + 3)),
                            r = void 0;
                        for (r = 0; r < e.length && !(e[r].pts > n); r++);
                        return e.slice(r)
                    }, Ah = 9e4,
                    Ch = function(e) {
                        function t(e, i) {
                            ad(this, t);
                            var n = cd(this, (t.__proto__ || Object.getPrototypeOf(t))
                                .call(this, td.EventTarget));
                            n.timestampOffset_ = 0, n.pendingBuffers_ = [], n.bufferUpdating_ = !1, n.mediaSource_ = e, n.codecs_ = i, n.audioCodec_ = null, n.videoCodec_ = null, n.audioDisabled_ = !1, n.appendAudioInitSegment_ = !0, n.gopBuffer_ = [], n.timeMapping_ = 0, n.safeAppend_ = td.browser.IE_VERSION >= 11;
                            var r = {
                                remux: !1,
                                alignGopsAtEnd: n.safeAppend_
                            };
                            return n.codecs_.forEach((function(e) {
                                Sh(e) ? n.audioCodec_ = e : jh(e) && (n.videoCodec_ = e)
                            })), n.transmuxer_ = new gh, n.transmuxer_.postMessage({
                                action: "init",
                                options: r
                            }), n.transmuxer_.onmessage = function(e) {
                                return "data" === e.data.action ? n.data_(e) : "done" === e.data.action ? n.done_(e) : "gopInfo" === e.data.action ? n.appendGopInfo_(e) : "videoSegmentTimingInfo" === e.data.action ? n.videoSegmentTimingInfo_(e.data.videoSegmentTimingInfo) : void 0
                            }, Object.defineProperty(n, "timestampOffset", {
                                get: function() {
                                    return this.timestampOffset_
                                },
                                set: function(e) {
                                    "number" == typeof e && e >= 0 && (this.timestampOffset_ = e, this.appendAudioInitSegment_ = !0, this.gopBuffer_.length = 0, this.timeMapping_ = 0, this.transmuxer_.postMessage({
                                        action: "setTimestampOffset",
                                        timestampOffset: e
                                    }))
                                }
                            }), Object.defineProperty(n, "appendWindowStart", {
                                get: function() {
                                    return (this.videoBuffer_ || this.audioBuffer_)
                                        .appendWindowStart
                                },
                                set: function(e) {
                                    this.videoBuffer_ && (this.videoBuffer_.appendWindowStart = e), this.audioBuffer_ && (this.audioBuffer_.appendWindowStart = e)
                                }
                            }), Object.defineProperty(n, "updating", {
                                get: function() {
                                    return !!(this.bufferUpdating_ || !this.audioDisabled_ && this.audioBuffer_ && this.audioBuffer_.updating || this.videoBuffer_ && this.videoBuffer_.updating)
                                }
                            }), Object.defineProperty(n, "buffered", {
                                get: function() {
                                    return function(e, t, i) {
                                        var n = null,
                                            r = null,
                                            s = 0,
                                            a = [],
                                            o = [];
                                        if (!e && !t) return td.createTimeRange();
                                        if (!e) return t.buffered;
                                        if (!t) return e.buffered;
                                        if (i) return e.buffered;
                                        if (0 === e.buffered.length && 0 === t.buffered.length) return td.createTimeRange();
                                        for (var l = e.buffered, u = t.buffered, c = l.length; c--;) a.push({
                                            time: l.start(c),
                                            type: "start"
                                        }), a.push({
                                            time: l.end(c),
                                            type: "end"
                                        });
                                        for (c = u.length; c--;) a.push({
                                            time: u.start(c),
                                            type: "start"
                                        }), a.push({
                                            time: u.end(c),
                                            type: "end"
                                        });
                                        for (a.sort((function(e, t) {
                                            return e.time - t.time
                                        })), c = 0; c < a.length; c++) "start" === a[c].type ? 2 == ++s && (n = a[c].time) : "end" === a[c].type && 1 == --s && (r = a[c].time), null !== n && null !== r && (o.push([n, r]), n = null, r = null);
                                        return td.createTimeRanges(o)
                                    }(this.videoBuffer_, this.audioBuffer_, this.audioDisabled_)
                                }
                            }), n
                        }
                        return ud(t, e), od(t, [{
                            key: "data_",
                            value: function(e) {
                                var t = e.data.segment;
                                t.data = new Uint8Array(t.data, e.data.byteOffset, e.data.byteLength), t.initSegment = new Uint8Array(t.initSegment.data, t.initSegment.byteOffset, t.initSegment.byteLength),
                                function(e, t, i) {
                                    var n = t.player_;
                                    if (i.captions && i.captions.length) for (var r in e.inbandTextTracks_ || (e.inbandTextTracks_ = {}), i.captionStreams) if (!e.inbandTextTracks_[r]) {
                                        n.tech_.trigger({
                                            type: "usage",
                                            name: "hls-608"
                                        });
                                        var s = n.textTracks()
                                            .getTrackById(r);
                                        e.inbandTextTracks_[r] = s || n.addRemoteTextTrack({
                                            kind: "captions",
                                            id: r,
                                            label: r
                                        }, !1)
                                            .track
                                    }
                                    i.metadata && i.metadata.length && !e.metadataTrack_ && (e.metadataTrack_ = n.addRemoteTextTrack({
                                        kind: "metadata",
                                        label: "Timed Metadata"
                                    }, !1)
                                        .track, e.metadataTrack_.inBandMetadataTrackDispatchType = i.metadata.dispatchType)
                                }(this, this.mediaSource_, t), this.pendingBuffers_.push(t)
                            }
                        }, {
                            key: "done_",
                            value: function(e) {
                                "closed" !== this.mediaSource_.readyState ? this.processPendingSegments_() : this.pendingBuffers_.length = 0
                            }
                        }, {
                            key: "videoSegmentTimingInfo_",
                            value: function(e) {
                                var t = {
                                    start: {
                                        decode: e.start.dts / Ah,
                                        presentation: e.start.pts / Ah
                                    },
                                    end: {
                                        decode: e.end.dts / Ah,
                                        presentation: e.end.pts / Ah
                                    },
                                    baseMediaDecodeTime: e.baseMediaDecodeTime / Ah
                                };
                                e.prependedContentDuration && (t.prependedContentDuration = e.prependedContentDuration / Ah), this.trigger({
                                    type: "videoSegmentTimingInfo",
                                    videoSegmentTimingInfo: t
                                })
                            }
                        }, {
                            key: "createRealSourceBuffers_",
                            value: function() {
                                var e = this,
                                    t = ["audio", "video"];
                                t.forEach((function(i) {
                                    if (e[i + "Codec_"] && !e[i + "Buffer_"]) {
                                        var n = null;
                                        if (e.mediaSource_[i + "Buffer_"])(n = e.mediaSource_[i + "Buffer_"])
                                            .updating = !1;
                                        else {
                                            var r = i + '/mp4;codecs="' + e[i + "Codec_"] + '"';
                                            n = function(e, t) {
                                                var i = e.addSourceBuffer(t),
                                                    n = Object.create(null);
                                                n.updating = !1, n.realBuffer_ = i;
                                                var r = function(e) {
                                                    "function" == typeof i[e] ? n[e] = function() {
                                                        return i[e].apply(i, arguments)
                                                    } : void 0 === n[e] && Object.defineProperty(n, e, {
                                                        get: function() {
                                                            return i[e]
                                                        },
                                                        set: function(t) {
                                                            return i[e] = t
                                                        }
                                                    })
                                                };
                                                for (var s in i) r(s);
                                                return n
                                            }(e.mediaSource_.nativeMediaSource_, r), e.mediaSource_[i + "Buffer_"] = n
                                        }
                                        e[i + "Buffer_"] = n, ["update", "updatestart", "updateend"].forEach((function(r) {
                                            n.addEventListener(r, (function() {
                                                if ("audio" !== i || !e.audioDisabled_) return "updateend" === r && (e[i + "Buffer_"].updating = !1), t.every((function(t) {
                                                    return !("audio" !== t || !e.audioDisabled_) || (i === t || !e[t + "Buffer_"] || !e[t + "Buffer_"].updating)
                                                })) ? e.trigger(r) : void 0
                                            }))
                                        }))
                                    }
                                }))
                            }
                        }, {
                            key: "appendBuffer",
                            value: function(e) {
                                if (this.bufferUpdating_ = !0, this.audioBuffer_ && this.audioBuffer_.buffered.length) {
                                    var t = this.audioBuffer_.buffered;
                                    this.transmuxer_.postMessage({
                                        action: "setAudioAppendStart",
                                        appendStart: t.end(t.length - 1)
                                    })
                                }
                                this.videoBuffer_ && this.transmuxer_.postMessage({
                                    action: "alignGopsWith",
                                    gopsToAlignWith: wh(this.gopBuffer_, this.mediaSource_.player_ ? this.mediaSource_.player_.currentTime() : null, this.timeMapping_)
                                }), this.transmuxer_.postMessage({
                                    action: "push",
                                    data: e.buffer,
                                    byteOffset: e.byteOffset,
                                    byteLength: e.byteLength
                                }, [e.buffer]), this.transmuxer_.postMessage({
                                    action: "flush"
                                })
                            }
                        }, {
                            key: "appendGopInfo_",
                            value: function(e) {
                                this.gopBuffer_ = function(e, t, i) {
                                    if (!t.length) return e;
                                    if (i) return t.slice();
                                    for (var n = t[0].pts, r = 0; r < e.length && !(e[r].pts >= n); r++);
                                    return e.slice(0, r)
                                        .concat(t)
                                }(this.gopBuffer_, e.data.gopInfo, this.safeAppend_)
                            }
                        }, {
                            key: "remove",
                            value: function(e, t) {
                                if (this.videoBuffer_ && (this.videoBuffer_.updating = !0, this.videoBuffer_.remove(e, t), this.gopBuffer_ = function(e, t, i, n) {
                                    for (var r = Math.ceil(9e4 * (t - n)), s = Math.ceil(9e4 * (i - n)), a = e.slice(), o = e.length; o-- && !(e[o].pts <= s););
                                    if (-1 === o) return a;
                                    for (var l = o + 1; l-- && !(e[l].pts <= r););
                                    return l = Math.max(l, 0), a.splice(l, o - l + 1), a
                                }(this.gopBuffer_, e, t, this.timeMapping_)), !this.audioDisabled_ && this.audioBuffer_ && (this.audioBuffer_.updating = !0, this.audioBuffer_.remove(e, t)), rh(e, t, this.metadataTrack_), this.inbandTextTracks_) for (var i in this.inbandTextTracks_) rh(e, t, this.inbandTextTracks_[i])
                            }
                        }, {
                            key: "processPendingSegments_",
                            value: function() {
                                var e = {
                                    video: {
                                        segments: [],
                                        bytes: 0
                                    },
                                    audio: {
                                        segments: [],
                                        bytes: 0
                                    },
                                    captions: [],
                                    metadata: []
                                };
                                if (!this.pendingBuffers_.length) return this.trigger("updateend"), void(this.bufferUpdating_ = !1);
                                e = this.pendingBuffers_.reduce((function(e, t) {
                                    var i = t.type,
                                        n = t.data,
                                        r = t.initSegment;
                                    return e[i].segments.push(n), e[i].bytes += n.byteLength, e[i].initSegment = r, t.captions && (e.captions = e.captions.concat(t.captions)), t.info && (e[i].info = t.info), t.metadata && (e.metadata = e.metadata.concat(t.metadata)), e
                                }), e), this.videoBuffer_ || this.audioBuffer_ || (0 === e.video.bytes && (this.videoCodec_ = null), 0 === e.audio.bytes && (this.audioCodec_ = null), this.createRealSourceBuffers_()), e.audio.info && this.mediaSource_.trigger({
                                    type: "audioinfo",
                                    info: e.audio.info
                                }), e.video.info && this.mediaSource_.trigger({
                                    type: "videoinfo",
                                    info: e.video.info
                                }), this.appendAudioInitSegment_ && (!this.audioDisabled_ && this.audioBuffer_ && (e.audio.segments.unshift(e.audio.initSegment), e.audio.bytes += e.audio.initSegment.byteLength), this.appendAudioInitSegment_ = !1);
                                var t = !1;
                                this.videoBuffer_ && e.video.bytes ? (e.video.segments.unshift(e.video.initSegment), e.video.bytes += e.video.initSegment.byteLength, this.concatAndAppendSegments_(e.video, this.videoBuffer_)) : !this.videoBuffer_ || !this.audioDisabled_ && this.audioBuffer_ || (t = !0), ah(this, e.captions, e.metadata), !this.audioDisabled_ && this.audioBuffer_ && this.concatAndAppendSegments_(e.audio, this.audioBuffer_), this.pendingBuffers_.length = 0, t && this.trigger("updateend"), this.bufferUpdating_ = !1
                            }
                        }, {
                            key: "concatAndAppendSegments_",
                            value: function(e, t) {
                                var i = 0,
                                    n = void 0;
                                if (e.bytes) {
                                    n = new Uint8Array(e.bytes), e.segments.forEach((function(e) {
                                        n.set(e, i), i += e.byteLength
                                    }));
                                    try {
                                        t.updating = !0, t.appendBuffer(n)
                                    } catch (r) {
                                        this.mediaSource_.player_ && this.mediaSource_.player_.error({
                                            code: -3,
                                            type: "APPEND_BUFFER_ERR",
                                            message: r.message,
                                            originalError: r
                                        })
                                    }
                                }
                            }
                        }, {
                            key: "abort",
                            value: function() {
                                this.videoBuffer_ && this.videoBuffer_.abort(), !this.audioDisabled_ && this.audioBuffer_ && this.audioBuffer_.abort(), this.transmuxer_ && this.transmuxer_.postMessage({
                                    action: "reset"
                                }), this.pendingBuffers_.length = 0, this.bufferUpdating_ = !1
                            }
                        }]), t
                    }(td.EventTarget),
                    Eh = function(e) {
                        function t() {
                            ad(this, t);
                            var e = cd(this, (t.__proto__ || Object.getPrototypeOf(t))
                                .call(this)),
                                i = void 0;
                            for (i in e.nativeMediaSource_ = new Ci.MediaSource, e.nativeMediaSource_) i in t.prototype || "function" != typeof e.nativeMediaSource_[i] || (e[i] = e.nativeMediaSource_[i].bind(e.nativeMediaSource_));
                            return e.duration_ = NaN, Object.defineProperty(e, "duration", {
                                get: function() {
                                    return this.duration_ === 1 / 0 ? this.duration_ : this.nativeMediaSource_.duration
                                },
                                set: function(e) {
                                    this.duration_ = e, e === 1 / 0 || (this.nativeMediaSource_.duration = e)
                                }
                            }), Object.defineProperty(e, "seekable", {
                                get: function() {
                                    return this.duration_ === 1 / 0 ? td.createTimeRanges([
                                        [0, this.nativeMediaSource_.duration]
                                    ]) : this.nativeMediaSource_.seekable
                                }
                            }), Object.defineProperty(e, "readyState", {
                                get: function() {
                                    return this.nativeMediaSource_.readyState
                                }
                            }), Object.defineProperty(e, "activeSourceBuffers", {
                                get: function() {
                                    return this.activeSourceBuffers_
                                }
                            }), e.sourceBuffers = [], e.activeSourceBuffers_ = [], e.updateActiveSourceBuffers_ = function() {
                                if (e.activeSourceBuffers_.length = 0, 1 === e.sourceBuffers.length) {
                                    var t = e.sourceBuffers[0];
                                    return t.appendAudioInitSegment_ = !0, t.audioDisabled_ = !t.audioCodec_, void e.activeSourceBuffers_.push(t)
                                }
                                for (var i = !1, n = !0, r = 0; r < e.player_.audioTracks()
                                    .length; r++) {
                                    var s = e.player_.audioTracks()[r];
                                    if (s.enabled && "main" !== s.kind) {
                                        i = !0, n = !1;
                                        break
                                    }
                                }
                                e.sourceBuffers.forEach((function(t, r) {
                                    if (t.appendAudioInitSegment_ = !0, t.videoCodec_ && t.audioCodec_) t.audioDisabled_ = i;
                                    else if (t.videoCodec_ && !t.audioCodec_) t.audioDisabled_ = !0, n = !1;
                                    else if (!t.videoCodec_ && t.audioCodec_ && (t.audioDisabled_ = r ? n : !n, t.audioDisabled_)) return;
                                    e.activeSourceBuffers_.push(t)
                                }))
                            }, e.onPlayerMediachange_ = function() {
                                e.sourceBuffers.forEach((function(e) {
                                    e.appendAudioInitSegment_ = !0
                                }))
                            }, e.onHlsReset_ = function() {
                                e.sourceBuffers.forEach((function(e) {
                                    e.transmuxer_ && e.transmuxer_.postMessage({
                                        action: "resetCaptions"
                                    })
                                }))
                            }, e.onHlsSegmentTimeMapping_ = function(t) {
                                e.sourceBuffers.forEach((function(e) {
                                    return e.timeMapping_ = t.mapping
                                }))
                            }, ["sourceopen", "sourceclose", "sourceended"].forEach((function(e) {
                                this.nativeMediaSource_.addEventListener(e, this.trigger.bind(this))
                            }), e), e.on("sourceopen", (function(t) {
                                var i = Ii.querySelector('[src="' + e.url_ + '"]');
                                i && (e.player_ = td(i.parentNode), e.player_ && (e.player_.tech_.on("hls-reset", e.onHlsReset_), e.player_.tech_.on("hls-segment-time-mapping", e.onHlsSegmentTimeMapping_), e.player_.audioTracks && e.player_.audioTracks() && (e.player_.audioTracks()
                                    .on("change", e.updateActiveSourceBuffers_), e.player_.audioTracks()
                                    .on("addtrack", e.updateActiveSourceBuffers_), e.player_.audioTracks()
                                    .on("removetrack", e.updateActiveSourceBuffers_)), e.player_.on("mediachange", e.onPlayerMediachange_)))
                            })), e.on("sourceended", (function(t) {
                                for (var i = sh(e.duration), n = 0; n < e.sourceBuffers.length; n++) {
                                    var r = e.sourceBuffers[n],
                                        s = r.metadataTrack_ && r.metadataTrack_.cues;
                                    s && s.length && (s[s.length - 1].endTime = i)
                                }
                            })), e.on("sourceclose", (function(e) {
                                this.sourceBuffers.forEach((function(e) {
                                    e.transmuxer_ && e.transmuxer_.terminate()
                                })), this.sourceBuffers.length = 0, this.player_ && (this.player_.audioTracks && this.player_.audioTracks() && (this.player_.audioTracks()
                                    .off("change", this.updateActiveSourceBuffers_), this.player_.audioTracks()
                                    .off("addtrack", this.updateActiveSourceBuffers_), this.player_.audioTracks()
                                    .off("removetrack", this.updateActiveSourceBuffers_)), this.player_.el_ && this.player_.off("mediachange", this.onPlayerMediachange_), this.player_.tech_ && this.player_.tech_.el_ && (this.player_.tech_.off("hls-reset", this.onHlsReset_), this.player_.tech_.off("hls-segment-time-mapping", this.onHlsSegmentTimeMapping_)))
                            })), e
                        }
                        return ud(t, e), od(t, [{
                            key: "addSeekableRange_",
                            value: function(e, t) {
                                var i = void 0;
                                if (this.duration !== 1 / 0) throw (i = new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"))
                                    .name = "InvalidStateError", i.code = 11, i;
                                (t > this.nativeMediaSource_.duration || isNaN(this.nativeMediaSource_.duration)) && (this.nativeMediaSource_.duration = t)
                            }
                        }, {
                            key: "addSourceBuffer",
                            value: function(e) {
                                var t = void 0,
                                    i = function(e) {
                                        var t = {
                                            type: "",
                                            parameters: {}
                                        }, i = e.trim()
                                            .split(";");
                                        return t.type = i.shift()
                                            .trim(), i.forEach((function(e) {
                                            var i = e.trim()
                                                .split("=");
                                            if (i.length > 1) {
                                                var n = i[0].replace(/"/g, "")
                                                    .trim(),
                                                    r = i[1].replace(/"/g, "")
                                                        .trim();
                                                t.parameters[n] = r
                                            }
                                        })), t
                                    }(e);
                                if (/^(video|audio)\/mp2t$/i.test(i.type)) {
                                    var n = [];
                                    i.parameters && i.parameters.codecs && (n = i.parameters.codecs.split(","), n = (n = _h(n))
                                        .filter((function(e) {
                                        return Sh(e) || jh(e)
                                    }))), 0 === n.length && (n = ["avc1.4d400d", "mp4a.40.2"]), t = new Ch(this, n), 0 !== this.sourceBuffers.length && (this.sourceBuffers[0].createRealSourceBuffers_(), t.createRealSourceBuffers_(), this.sourceBuffers[0].audioDisabled_ = !0)
                                } else t = this.nativeMediaSource_.addSourceBuffer(e);
                                return this.sourceBuffers.push(t), t
                            }
                        }]), t
                    }(td.EventTarget),
                    xh = 0;
                td.mediaSources = {};
                var Ih = function(e, t) {
                    var i = td.mediaSources[e];
                    if (!i) throw new Error("Media Source not found (Video.js)");
                    i.trigger({
                        type: "sourceopen",
                        swfId: t
                    })
                }, Lh = function() {
                    return !!Ci.MediaSource && !! Ci.MediaSource.isTypeSupported && Ci.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')
                }, Ph = function() {
                    if (this.MediaSource = {
                        open: Ih,
                        supportsNativeMediaSources: Lh
                    }, Lh()) return new Eh;
                    throw new Error("Cannot use create a virtual MediaSource for this video")
                };
                Ph.open = Ih, Ph.supportsNativeMediaSources = Lh;
                var Oh = {
                    createObjectURL: function(e) {
                        var t = void 0;
                        return e instanceof Eh ? (t = Ci.URL.createObjectURL(e.nativeMediaSource_), e.url_ = t, t) : e instanceof Eh ? (t = "blob:vjs-media-source/" + xh, xh++, td.mediaSources[t] = e, t) : (t = Ci.URL.createObjectURL(e), e.url_ = t, t)
                    }
                };
                td.MediaSource = Ph, td.URL = Oh;
                var Dh = td.EventTarget,
                    Uh = td.mergeOptions,
                    Rh = function(e, t) {
                        for (var i = void 0, n = Uh(e, {
                            duration: t.duration,
                            minimumUpdatePeriod: t.minimumUpdatePeriod
                        }), r = 0; r < t.playlists.length; r++) {
                            var s = vd(n, t.playlists[r]);
                            s ? n = s : i = !0
                        }
                        return md(t, (function(e, t, r, s) {
                            if (e.playlists && e.playlists.length) {
                                var a = e.playlists[0].uri,
                                    o = vd(n, e.playlists[0]);
                                o && ((n = o)
                                    .mediaGroups[t][r][s].playlists[0] = n.playlists[a], i = !1)
                            }
                        })), i ? null : n
                    }, Mh = function(e) {
                        var t = e.byterange.offset + e.byterange.length - 1;
                        return e.uri + "-" + e.byterange.offset + "-" + t
                    }, Bh = function(e, t) {
                        var i, n, r = {};
                        for (var s in e) {
                            var a = e[s].sidx;
                            if (a) {
                                var o = Mh(a);
                                if (!t[o]) break;
                                var l = t[o].sidxInfo;
                                i = l, n = a, (Boolean(!i.map && !n.map) || Boolean(i.map && n.map && i.map.byterange.offset === n.map.byterange.offset && i.map.byterange.length === n.map.byterange.length)) && i.uri === n.uri && i.byterange.offset === n.byterange.offset && i.byterange.length === n.byterange.length && (r[o] = t[o])
                            }
                        }
                        return r
                    }, Nh = function(e, t, i, n, r) {
                        var s = {
                            uri: sd(n.handleManifestRedirects, e.resolvedUri),
                            byterange: e.byterange,
                            playlist: t
                        };
                        return i(td.mergeOptions(s, {
                            responseType: "arraybuffer",
                            headers: Fd(s)
                        }), r)
                    }, Fh = function(e) {
                        function t(e, i) {
                            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r = arguments[3];
                            ad(this, t);
                            var s = cd(this, (t.__proto__ || Object.getPrototypeOf(t))
                                .call(this)),
                                a = n.withCredentials,
                                o = void 0 !== a && a,
                                l = n.handleManifestRedirects,
                                u = void 0 !== l && l;
                            if (s.hls_ = i, s.withCredentials = o, s.handleManifestRedirects = u, !e) throw new Error("A non-empty playlist URL or playlist is required");
                            return s.on("minimumUpdatePeriod", (function() {
                                s.refreshXml_()
                            })), s.on("mediaupdatetimeout", (function() {
                                s.refreshMedia_(s.media()
                                    .uri)
                            })), s.state = "HAVE_NOTHING", s.loadedPlaylists_ = {}, "string" == typeof e ? (s.srcUrl = e, s.sidxMapping_ = {}, cd(s)) : (s.setupChildLoader(r, e), s)
                        }
                        return ud(t, e), od(t, [{
                            key: "setupChildLoader",
                            value: function(e, t) {
                                this.masterPlaylistLoader_ = e, this.childPlaylist_ = t
                            }
                        }, {
                            key: "dispose",
                            value: function() {
                                this.stopRequest(), this.loadedPlaylists_ = {}, Ci.clearTimeout(this.minimumUpdatePeriodTimeout_), Ci.clearTimeout(this.mediaRequest_), Ci.clearTimeout(this.mediaUpdateTimeout)
                            }
                        }, {
                            key: "hasPendingRequest",
                            value: function() {
                                return this.request || this.mediaRequest_
                            }
                        }, {
                            key: "stopRequest",
                            value: function() {
                                if (this.request) {
                                    var e = this.request;
                                    this.request = null, e.onreadystatechange = null, e.abort()
                                }
                            }
                        }, {
                            key: "sidxRequestFinished_",
                            value: function(e, t, i, n) {
                                var r = this;
                                return function(s, a) {
                                    if (r.request) {
                                        if (r.request = null, s) return r.error = {
                                            status: a.status,
                                            message: "DASH playlist request error at URL: " + e.uri,
                                            response: a.response,
                                            code: 2
                                        }, i && (r.state = i), r.trigger("error"), n(t, null);
                                        var o = new Uint8Array(a.response),
                                            l = Gr.parseSidx(o.subarray(8));
                                        return n(t, l)
                                    }
                                }
                            }
                        }, {
                            key: "media",
                            value: function(e) {
                                var t = this;
                                if (!e) return this.media_;
                                if ("HAVE_NOTHING" === this.state) throw new Error("Cannot switch media playlist from " + this.state);
                                var i = this.state;
                                if ("string" == typeof e) {
                                    if (!this.master.playlists[e]) throw new Error("Unknown playlist URI: " + e);
                                    e = this.master.playlists[e]
                                }
                                var n = !this.media_ || e.uri !== this.media_.uri;
                                if (n && this.loadedPlaylists_[e.uri] && this.loadedPlaylists_[e.uri].endList) return this.state = "HAVE_METADATA", this.media_ = e, void(n && (this.trigger("mediachanging"), this.trigger("mediachange")));
                                if (n) if (this.media_ && this.trigger("mediachanging"), e.sidx) {
                                    var r = void 0,
                                        s = void 0;
                                    this.masterPlaylistLoader_ ? (r = this.masterPlaylistLoader_.master, s = this.masterPlaylistLoader_.sidxMapping_) : (r = this.master, s = this.sidxMapping_);
                                    var a = Mh(e.sidx);
                                    s[a] = {
                                        sidxInfo: e.sidx
                                    }, this.request = Nh(e.sidx, e, this.hls_.xhr, {
                                        handleManifestRedirects: this.handleManifestRedirects
                                    }, this.sidxRequestFinished_(e, r, i, (function(n, r) {
                                        if (!n || !r) throw new Error("failed to request sidx");
                                        s[a].sidx = r, t.haveMetadata({
                                            startingState: i,
                                            playlist: n.playlists[e.uri]
                                        })
                                    })))
                                } else this.mediaRequest_ = Ci.setTimeout(this.haveMetadata.bind(this, {
                                    startingState: i,
                                    playlist: e
                                }), 0)
                            }
                        }, {
                            key: "haveMetadata",
                            value: function(e) {
                                var t = e.startingState,
                                    i = e.playlist;
                                this.state = "HAVE_METADATA", this.loadedPlaylists_[i.uri] = i, this.mediaRequest_ = null, this.refreshMedia_(i.uri), "HAVE_MASTER" === t ? this.trigger("loadedmetadata") : this.trigger("mediachange")
                            }
                        }, {
                            key: "pause",
                            value: function() {
                                this.stopRequest(), Ci.clearTimeout(this.mediaUpdateTimeout), Ci.clearTimeout(this.minimumUpdatePeriodTimeout_), "HAVE_NOTHING" === this.state && (this.started = !1)
                            }
                        }, {
                            key: "load",
                            value: function(e) {
                                var t = this;
                                Ci.clearTimeout(this.mediaUpdateTimeout), Ci.clearTimeout(this.minimumUpdatePeriodTimeout_);
                                var i = this.media();
                                if (e) {
                                    var n = i ? i.targetDuration / 2 * 1e3 : 5e3;
                                    this.mediaUpdateTimeout = Ci.setTimeout((function() {
                                        return t.load()
                                    }), n)
                                } else this.started ? this.trigger("loadedplaylist") : this.start()
                            }
                        }, {
                            key: "parseMasterXml",
                            value: function() {
                                var e = Dr(this.masterXml_, {
                                    manifestUri: this.srcUrl,
                                    clientOffset: this.clientOffset_,
                                    sidxMapping: this.sidxMapping_
                                });
                                e.uri = this.srcUrl;
                                for (var t = 0; t < e.playlists.length; t++) {
                                    var i = "placeholder-uri-" + t;
                                    e.playlists[t].uri = i, e.playlists[i] = e.playlists[t]
                                }
                                return md(e, (function(t, i, n, r) {
                                    if (t.playlists && t.playlists.length) {
                                        var s = "placeholder-uri-" + i + "-" + n + "-" + r;
                                        t.playlists[0].uri = s, e.playlists[s] = t.playlists[0]
                                    }
                                })), gd(e), yd(e), e
                            }
                        }, {
                            key: "start",
                            value: function() {
                                var e = this;
                                this.started = !0, this.masterPlaylistLoader_ ? this.mediaRequest_ = Ci.setTimeout(this.haveMaster_.bind(this), 0) : this.request = this.hls_.xhr({
                                    uri: this.srcUrl,
                                    withCredentials: this.withCredentials
                                }, (function(t, i) {
                                    if (e.request) {
                                        if (e.request = null, t) return e.error = {
                                            status: i.status,
                                            message: "DASH playlist request error at URL: " + e.srcUrl,
                                            responseText: i.responseText,
                                            code: 2
                                        }, "HAVE_NOTHING" === e.state && (e.started = !1), e.trigger("error");
                                        e.masterXml_ = i.responseText, i.responseHeaders && i.responseHeaders.date ? e.masterLoaded_ = Date.parse(i.responseHeaders.date) : e.masterLoaded_ = Date.now(), e.srcUrl = sd(e.handleManifestRedirects, e.srcUrl, i), e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))
                                    }
                                }))
                            }
                        }, {
                            key: "syncClientServerClock_",
                            value: function(e) {
                                var t = this,
                                    i = Ur(this.masterXml_);
                                return null === i ? (this.clientOffset_ = this.masterLoaded_ - Date.now(), e()) : "DIRECT" === i.method ? (this.clientOffset_ = i.value - Date.now(), e()) : void(this.request = this.hls_.xhr({
                                    uri: rd(this.srcUrl, i.value),
                                    method: i.method,
                                    withCredentials: this.withCredentials
                                }, (function(n, r) {
                                    if (t.request) {
                                        if (n) return t.clientOffset_ = t.masterLoaded_ - Date.now(), e();
                                        var s = void 0;
                                        s = "HEAD" === i.method ? r.responseHeaders && r.responseHeaders.date ? Date.parse(r.responseHeaders.date) : t.masterLoaded_ : Date.parse(r.responseText), t.clientOffset_ = s - Date.now(), e()
                                    }
                                })))
                            }
                        }, {
                            key: "haveMaster_",
                            value: function() {
                                this.state = "HAVE_MASTER", this.mediaRequest_ = null, this.masterPlaylistLoader_ ? this.media_ || this.media(this.childPlaylist_) : (this.master = this.parseMasterXml(), this.trigger("loadedplaylist"))
                            }
                        }, {
                            key: "onClientServerClockSync_",
                            value: function() {
                                var e = this;
                                this.haveMaster_(), this.hasPendingRequest() || this.media_ || this.media(this.master.playlists[0]), this.master && this.master.minimumUpdatePeriod && (this.minimumUpdatePeriodTimeout_ = Ci.setTimeout((function() {
                                    e.trigger("minimumUpdatePeriod")
                                }), this.master.minimumUpdatePeriod))
                            }
                        }, {
                            key: "refreshXml_",
                            value: function() {
                                var e = this;
                                this.request = this.hls_.xhr({
                                    uri: this.srcUrl,
                                    withCredentials: this.withCredentials
                                }, (function(t, i) {
                                    if (e.request) {
                                        if (e.request = null, t) return e.error = {
                                            status: i.status,
                                            message: "DASH playlist request error at URL: " + e.srcUrl,
                                            responseText: i.responseText,
                                            code: 2
                                        }, "HAVE_NOTHING" === e.state && (e.started = !1), e.trigger("error");
                                        e.masterXml_ = i.responseText, e.sidxMapping_ = function(e, t, i, n) {
                                            var r = Dr(e, {
                                                manifestUri: t,
                                                clientOffset: i
                                            }),
                                                s = Bh(r.playlists, n);
                                            return md(r, (function(e, t, i, r) {
                                                if (e.playlists && e.playlists.length) {
                                                    var a = e.playlists;
                                                    s = Uh(s, Bh(a, n))
                                                }
                                            })), s
                                        }(e.masterXml_, e.srcUrl, e.clientOffset_, e.sidxMapping_);
                                        var n = e.parseMasterXml(),
                                            r = Rh(e.master, n),
                                            s = e.media()
                                                .sidx;
                                        if (r) if (s) {
                                            var a = Mh(s);
                                            if (!e.sidxMapping_[a]) {
                                                var o = e.media();
                                                e.request = Nh(o.sidx, o, e.hls_.xhr, {
                                                    handleManifestRedirects: e.handleManifestRedirects
                                                }, e.sidxRequestFinished_(o, n, e.state, (function(t, i) {
                                                    if (!t || !i) throw new Error("failed to request sidx on minimumUpdatePeriod");
                                                    e.sidxMapping_[a].sidx = i, e.minimumUpdatePeriodTimeout_ = Ci.setTimeout((function() {
                                                        e.trigger("minimumUpdatePeriod")
                                                    }), e.master.minimumUpdatePeriod), e.refreshMedia_(e.media()
                                                        .uri)
                                                })))
                                            }
                                        } else e.master = r;
                                        e.minimumUpdatePeriodTimeout_ = Ci.setTimeout((function() {
                                            e.trigger("minimumUpdatePeriod")
                                        }), e.master.minimumUpdatePeriod)
                                    }
                                }))
                            }
                        }, {
                            key: "refreshMedia_",
                            value: function(e) {
                                var t = this;
                                if (!e) throw new Error("refreshMedia_ must take a media uri");
                                var i = void 0,
                                    n = void 0;
                                this.masterPlaylistLoader_ ? (i = this.masterPlaylistLoader_.master, n = this.masterPlaylistLoader_.parseMasterXml()) : (i = this.master, n = this.parseMasterXml());
                                var r = Rh(i, n);
                                r ? (this.masterPlaylistLoader_ ? this.masterPlaylistLoader_.master = r : this.master = r, this.media_ = r.playlists[e]) : (this.media_ = n.playlists[e], this.trigger("playlistunchanged")), this.media()
                                    .endList || (this.mediaUpdateTimeout = Ci.setTimeout((function() {
                                    t.trigger("mediaupdatetimeout")
                                }), _d(this.media(), !! r))), this.trigger("loadedplaylist")
                            }
                        }]), t
                    }(Dh),
                    Vh = function(e) {
                        return td.log.debug ? td.log.debug.bind(td, "VHS:", e + " >") : function() {}
                    };

                function Hh() {}
                var qh = function() {
                    function e(t, i, n, r) {
                        ad(this, e), this.callbacks_ = [], this.pendingCallback_ = null, this.timestampOffset_ = 0, this.mediaSource = t, this.processedAppend_ = !1, this.type_ = n, this.mimeType_ = i, this.logger_ = Vh("SourceUpdater[" + n + "][" + i + "]"), "closed" === t.readyState ? t.addEventListener("sourceopen", this.createSourceBuffer_.bind(this, i, r)) : this.createSourceBuffer_(i, r)
                    }
                    return od(e, [{
                        key: "createSourceBuffer_",
                        value: function(e, t) {
                            var i = this;
                            this.sourceBuffer_ = this.mediaSource.addSourceBuffer(e), this.logger_("created SourceBuffer"), t && (t.trigger("sourcebufferadded"), this.mediaSource.sourceBuffers.length < 2) ? t.on("sourcebufferadded", (function() {
                                i.start_()
                            })) : this.start_()
                        }
                    }, {
                        key: "start_",
                        value: function() {
                            var e = this;
                            this.started_ = !0, this.onUpdateendCallback_ = function() {
                                var t = e.pendingCallback_;
                                e.pendingCallback_ = null, e.sourceBuffer_.removing = !1, e.logger_("buffered [" + ih(e.buffered()) + "]"), t && t(), e.runCallback_()
                            }, this.sourceBuffer_.addEventListener("updateend", this.onUpdateendCallback_), this.runCallback_()
                        }
                    }, {
                        key: "abort",
                        value: function(e) {
                            var t = this;
                            this.processedAppend_ && this.queueCallback_((function() {
                                t.sourceBuffer_.abort()
                            }), e)
                        }
                    }, {
                        key: "appendBuffer",
                        value: function(e, t) {
                            var i = this;
                            this.processedAppend_ = !0, this.queueCallback_((function() {
                                e.videoSegmentTimingInfoCallback && i.sourceBuffer_.addEventListener("videoSegmentTimingInfo", e.videoSegmentTimingInfoCallback), i.sourceBuffer_.appendBuffer(e.bytes)
                            }), (function() {
                                e.videoSegmentTimingInfoCallback && i.sourceBuffer_.removeEventListener("videoSegmentTimingInfo", e.videoSegmentTimingInfoCallback), t()
                            }))
                        }
                    }, {
                        key: "buffered",
                        value: function() {
                            return this.sourceBuffer_ ? this.sourceBuffer_.buffered : td.createTimeRanges()
                        }
                    }, {
                        key: "remove",
                        value: function(e, t) {
                            var i = this,
                                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Hh;
                            this.processedAppend_ && this.queueCallback_((function() {
                                i.logger_("remove [" + e + " => " + t + "]"), i.sourceBuffer_.removing = !0, i.sourceBuffer_.remove(e, t)
                            }), n)
                        }
                    }, {
                        key: "updating",
                        value: function() {
                            return !this.sourceBuffer_ || this.sourceBuffer_.updating || !! this.pendingCallback_ && this.pendingCallback_ !== Hh
                        }
                    }, {
                        key: "timestampOffset",
                        value: function(e) {
                            var t = this;
                            return void 0 !== e && (this.queueCallback_((function() {
                                t.sourceBuffer_.timestampOffset = e, t.runCallback_()
                            })), this.timestampOffset_ = e), this.timestampOffset_
                        }
                    }, {
                        key: "queueCallback_",
                        value: function(e, t) {
                            this.callbacks_.push([e.bind(this), t]), this.runCallback_()
                        }
                    }, {
                        key: "runCallback_",
                        value: function() {
                            var e = void 0;
                            !this.updating() && this.callbacks_.length && this.started_ && (e = this.callbacks_.shift(), this.pendingCallback_ = e[1], e[0]())
                        }
                    }, {
                        key: "dispose",
                        value: function() {
                            var e = this,
                                t = function t() {
                                    e.sourceBuffer_ && "open" === e.mediaSource.readyState && e.sourceBuffer_.abort(), e.sourceBuffer_.removeEventListener("updateend", t)
                                };
                            this.sourceBuffer_.removeEventListener("updateend", this.onUpdateendCallback_), this.sourceBuffer_.removing ? this.sourceBuffer_.addEventListener("updateend", t) : t()
                        }
                    }]), e
                }(),
                    zh = {
                        GOAL_BUFFER_LENGTH: 30,
                        MAX_GOAL_BUFFER_LENGTH: 60,
                        GOAL_BUFFER_LENGTH_RATE: 1,
                        INITIAL_BANDWIDTH: 4194304,
                        BANDWIDTH_VARIANCE: 1.2,
                        BUFFER_LOW_WATER_LINE: 0,
                        MAX_BUFFER_LOW_WATER_LINE: 30,
                        BUFFER_LOW_WATER_LINE_RATE: 1
                    }, Wh = 2,
                    Gh = -101,
                    Yh = -102,
                    Xh = function(e) {
                        e.forEach((function(e) {
                            e.abort()
                        }))
                    }, Kh = function(e, t) {
                        return t.timedout ? {
                            status: t.status,
                            message: "HLS request timed-out at URL: " + t.uri,
                            code: Gh,
                            xhr: t
                        } : t.aborted ? {
                            status: t.status,
                            message: "HLS request aborted at URL: " + t.uri,
                            code: Yh,
                            xhr: t
                        } : e ? {
                            status: t.status,
                            message: "HLS request errored at URL: " + t.uri,
                            code: Wh,
                            xhr: t
                        } : null
                    }, Qh = function(e, t, i) {
                        var n = 0,
                            r = !1;
                        return function(s, a) {
                            if (!r) return s ? (r = !0, Xh(e), i(s, a)) : (n += 1) === e.length ? (a.endOfAllRequests = Date.now(), a.encryptedBytes ? function(e, t, i) {
                                e.addEventListener("message", (function n(r) {
                                    if (r.data.source === t.requestId) {
                                        e.removeEventListener("message", n);
                                        var s = r.data.decrypted;
                                        return t.bytes = new Uint8Array(s.bytes, s.byteOffset, s.byteLength), i(null, t)
                                    }
                                }));
                                var n = void 0;
                                n = t.key.bytes.slice ? t.key.bytes.slice() : new Uint32Array(Array.prototype.slice.call(t.key.bytes)), e.postMessage(zd({
                                    source: t.requestId,
                                    encrypted: t.encryptedBytes,
                                    key: n,
                                    iv: t.key.iv
                                }), [t.encryptedBytes.buffer, n.buffer])
                            }(t, a, i) : i(null, a)) : void 0
                        }
                    }, Jh = function(e, t) {
                        return function(i) {
                            var n, r, s;
                            return e.stats = td.mergeOptions(e.stats, (r = (n = i)
                                .target, (s = {
                                bandwidth: 1 / 0,
                                bytesReceived: 0,
                                roundTripTime: Date.now() - r.requestTime || 0
                            })
                                .bytesReceived = n.loaded, s.bandwidth = Math.floor(s.bytesReceived / s.roundTripTime * 8 * 1e3), s)), !e.stats.firstBytesReceivedAt && e.stats.bytesReceived && (e.stats.firstBytesReceivedAt = Date.now()), t(i, e)
                        }
                    }, Zh = function(e, t, i, n, r, s, a) {
                        var o = [],
                            l = Qh(o, i, a);
                        if (r.key && !r.key.bytes) {
                            var u = td.mergeOptions(t, {
                                uri: r.key.resolvedUri,
                                responseType: "arraybuffer"
                            }),
                                c = function(e, t) {
                                    return function(i, n) {
                                        var r = n.response,
                                            s = Kh(i, n);
                                        if (s) return t(s, e);
                                        if (16 !== r.byteLength) return t({
                                            status: n.status,
                                            message: "Invalid HLS key at URL: " + n.uri,
                                            code: Wh,
                                            xhr: n
                                        }, e);
                                        var a = new DataView(r);
                                        return e.key.bytes = new Uint32Array([a.getUint32(0), a.getUint32(4), a.getUint32(8), a.getUint32(12)]), t(null, e)
                                    }
                                }(r, l),
                                d = e(u, c);
                            o.push(d)
                        }
                        if (r.map && !r.map.bytes) {
                            var h = td.mergeOptions(t, {
                                uri: r.map.resolvedUri,
                                responseType: "arraybuffer",
                                headers: Fd(r.map)
                            }),
                                p = function(e, t, i) {
                                    return function(n, r) {
                                        var s = r.response,
                                            a = Kh(n, r);
                                        return a ? i(a, e) : 0 === s.byteLength ? i({
                                            status: r.status,
                                            message: "Empty HLS segment content at URL: " + r.uri,
                                            code: Wh,
                                            xhr: r
                                        }, e) : (e.map.bytes = new Uint8Array(r.response), t && !t.isInitialized() && t.init(), e.map.timescales = Fr.timescale(e.map.bytes), e.map.videoTrackIds = Fr.videoTrackIds(e.map.bytes), i(null, e))
                                    }
                                }(r, n, l),
                                f = e(h, p);
                            o.push(f)
                        }
                        var m = td.mergeOptions(t, {
                            uri: r.resolvedUri,
                            responseType: "arraybuffer",
                            headers: Fd(r)
                        }),
                            v = function(e, t, i) {
                                return function(n, r) {
                                    var s = r.response,
                                        a = Kh(n, r),
                                        o = void 0;
                                    return a ? i(a, e) : 0 === s.byteLength ? i({
                                        status: r.status,
                                        message: "Empty HLS segment content at URL: " + r.uri,
                                        code: Wh,
                                        xhr: r
                                    }, e) : (e.stats = function(e) {
                                        return {
                                            bandwidth: e.bandwidth,
                                            bytesReceived: e.bytesReceived || 0,
                                            roundTripTime: e.roundTripTime || 0
                                        }
                                    }(r), e.key ? e.encryptedBytes = new Uint8Array(r.response) : e.bytes = new Uint8Array(r.response), t && e.map && e.map.bytes && (t.isInitialized() || t.init(), (o = t.parse(e.bytes, e.map.videoTrackIds, e.map.timescales)) && o.captions && (e.captionStreams = o.captionStreams, e.fmp4Captions = o.captions)), i(null, e))
                                }
                            }(r, n, l),
                            g = e(m, v);
                        return g.addEventListener("progress", Jh(r, s)), o.push(g),
                        function() {
                            return Xh(o)
                        }
                    }, $h = function(e, t) {
                        var i;
                        return e && (i = Ci.getComputedStyle(e)) ? i[t] : ""
                    }, ep = function(e, t) {
                        var i = e.slice();
                        e.sort((function(e, n) {
                            var r = t(e, n);
                            return 0 === r ? i.indexOf(e) - i.indexOf(n) : r
                        }))
                    }, tp = function(e, t) {
                        var i = void 0,
                            n = void 0;
                        return e.attributes.BANDWIDTH && (i = e.attributes.BANDWIDTH), i = i || Ci.Number.MAX_VALUE, t.attributes.BANDWIDTH && (n = t.attributes.BANDWIDTH), i - (n = n || Ci.Number.MAX_VALUE)
                    }, ip = function(e, t, i) {
                        if (!e || !t) return !1;
                        var n = i === e.segments.length;
                        return e.endList && "open" === t.readyState && n
                    }, np = function(e) {
                        return "number" == typeof e && isFinite(e)
                    }, rp = function(e) {
                        function t(e) {
                            ad(this, t);
                            var i = cd(this, (t.__proto__ || Object.getPrototypeOf(t))
                                .call(this));
                            if (!e) throw new TypeError("Initialization settings are required");
                            if ("function" != typeof e.currentTime) throw new TypeError("No currentTime getter specified");
                            if (!e.mediaSource) throw new TypeError("No MediaSource specified");
                            return i.bandwidth = e.bandwidth, i.throughput = {
                                rate: 0,
                                count: 0
                            }, i.roundTrip = NaN, i.resetStats_(), i.mediaIndex = null, i.hasPlayed_ = e.hasPlayed, i.currentTime_ = e.currentTime, i.seekable_ = e.seekable, i.seeking_ = e.seeking, i.duration_ = e.duration, i.mediaSource_ = e.mediaSource, i.hls_ = e.hls, i.loaderType_ = e.loaderType, i.startingMedia_ = void 0, i.segmentMetadataTrack_ = e.segmentMetadataTrack, i.goalBufferLength_ = e.goalBufferLength, i.sourceType_ = e.sourceType, i.inbandTextTracks_ = e.inbandTextTracks, i.state_ = "INIT", i.checkBufferTimeout_ = null, i.error_ = void 0, i.currentTimeline_ = -1, i.pendingSegment_ = null, i.mimeType_ = null, i.sourceUpdater_ = null, i.xhrOptions_ = null, i.activeInitSegmentId_ = null, i.initSegments_ = {}, i.cacheEncryptionKeys_ = e.cacheEncryptionKeys, i.keyCache_ = {}, "main" === i.loaderType_ ? i.captionParser_ = new cs : i.captionParser_ = null, i.decrypter_ = e.decrypter, i.syncController_ = e.syncController, i.syncPoint_ = {
                                segmentIndex: 0,
                                time: 0
                            }, i.syncController_.on("syncinfoupdate", (function() {
                                return i.trigger("syncinfoupdate")
                            })), i.mediaSource_.addEventListener("sourceopen", (function() {
                                return i.ended_ = !1
                            })), i.fetchAtBuffer_ = !1, i.logger_ = Vh("SegmentLoader[" + i.loaderType_ + "]"), Object.defineProperty(i, "state", {
                                get: function() {
                                    return this.state_
                                },
                                set: function(e) {
                                    e !== this.state_ && (this.logger_(this.state_ + " -> " + e), this.state_ = e)
                                }
                            }), i
                        }
                        return ud(t, e), od(t, [{
                            key: "resetStats_",
                            value: function() {
                                this.mediaBytesTransferred = 0, this.mediaRequests = 0, this.mediaRequestsAborted = 0, this.mediaRequestsTimedout = 0, this.mediaRequestsErrored = 0, this.mediaTransferDuration = 0, this.mediaSecondsLoaded = 0
                            }
                        }, {
                            key: "dispose",
                            value: function() {
                                this.state = "DISPOSED", this.pause(), this.abort_(), this.sourceUpdater_ && this.sourceUpdater_.dispose(), this.resetStats_(), this.captionParser_ && this.captionParser_.reset()
                            }
                        }, {
                            key: "abort",
                            value: function() {
                                "WAITING" === this.state ? (this.abort_(), this.state = "READY", this.paused() || this.monitorBuffer_()) : this.pendingSegment_ && (this.pendingSegment_ = null)
                            }
                        }, {
                            key: "abort_",
                            value: function() {
                                this.pendingSegment_ && this.pendingSegment_.abortRequests(), this.pendingSegment_ = null
                            }
                        }, {
                            key: "error",
                            value: function(e) {
                                return void 0 !== e && (this.error_ = e), this.pendingSegment_ = null, this.error_
                            }
                        }, {
                            key: "endOfStream",
                            value: function() {
                                this.ended_ = !0, this.pause(), this.trigger("ended")
                            }
                        }, {
                            key: "buffered_",
                            value: function() {
                                return this.sourceUpdater_ ? this.sourceUpdater_.buffered() : td.createTimeRanges()
                            }
                        }, {
                            key: "initSegment",
                            value: function(e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                                if (!e) return null;
                                var i = Wd(e),
                                    n = this.initSegments_[i];
                                return t && !n && e.bytes && (this.initSegments_[i] = n = {
                                    resolvedUri: e.resolvedUri,
                                    byterange: e.byterange,
                                    bytes: e.bytes,
                                    timescales: e.timescales,
                                    videoTrackIds: e.videoTrackIds
                                }), n || e
                            }
                        }, {
                            key: "segmentKey",
                            value: function(e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                                if (!e) return null;
                                var i = Gd(e),
                                    n = this.keyCache_[i];
                                this.cacheEncryptionKeys_ && t && !n && e.bytes && (this.keyCache_[i] = n = {
                                    resolvedUri: e.resolvedUri,
                                    bytes: e.bytes
                                });
                                var r = {
                                    resolvedUri: (n || e)
                                        .resolvedUri
                                };
                                return n && (r.bytes = n.bytes), r
                            }
                        }, {
                            key: "couldBeginLoading_",
                            value: function() {
                                return this.playlist_ && (this.sourceUpdater_ || this.mimeType_ && "INIT" === this.state) && !this.paused()
                            }
                        }, {
                            key: "load",
                            value: function() {
                                if (this.monitorBuffer_(), this.playlist_) {
                                    if (this.syncController_.setDateTimeMapping(this.playlist_), "INIT" === this.state && this.couldBeginLoading_()) return this.init_();
                                    !this.couldBeginLoading_() || "READY" !== this.state && "INIT" !== this.state || (this.state = "READY")
                                }
                            }
                        }, {
                            key: "init_",
                            value: function() {
                                return this.state = "READY", this.sourceUpdater_ = new qh(this.mediaSource_, this.mimeType_, this.loaderType_, this.sourceBufferEmitter_), this.resetEverything(), this.monitorBuffer_()
                            }
                        }, {
                            key: "playlist",
                            value: function(e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                                if (e) {
                                    var i = this.playlist_,
                                        n = this.pendingSegment_;
                                    this.playlist_ = e, this.xhrOptions_ = t, this.hasPlayed_() || (e.syncInfo = {
                                        mediaSequence: e.mediaSequence,
                                        time: 0
                                    });
                                    var r = null;
                                    if (i && (i.id ? r = i.id : i.uri && (r = i.uri)), this.logger_("playlist update [" + r + " => " + (e.id || e.uri) + "]"), this.trigger("syncinfoupdate"), "INIT" === this.state && this.couldBeginLoading_()) return this.init_();
                                    if (i && i.uri === e.uri) {
                                        var s = e.mediaSequence - i.mediaSequence;
                                        this.logger_("live window shift [" + s + "]"), null !== this.mediaIndex && (this.mediaIndex -= s), n && (n.mediaIndex -= s, n.mediaIndex >= 0 && (n.segment = e.segments[n.mediaIndex])), this.syncController_.saveExpiredSegmentInfo(i, e)
                                    } else null !== this.mediaIndex && this.resyncLoader()
                                }
                            }
                        }, {
                            key: "pause",
                            value: function() {
                                this.checkBufferTimeout_ && (Ci.clearTimeout(this.checkBufferTimeout_), this.checkBufferTimeout_ = null)
                            }
                        }, {
                            key: "paused",
                            value: function() {
                                return null === this.checkBufferTimeout_
                            }
                        }, {
                            key: "mimeType",
                            value: function(e, t) {
                                this.mimeType_ || (this.mimeType_ = e, this.sourceBufferEmitter_ = t, "INIT" === this.state && this.couldBeginLoading_() && this.init_())
                            }
                        }, {
                            key: "resetEverything",
                            value: function(e) {
                                this.ended_ = !1, this.resetLoader(), this.remove(0, this.duration_(), e), this.captionParser_ && this.captionParser_.clearAllCaptions(), this.trigger("reseteverything")
                            }
                        }, {
                            key: "resetLoader",
                            value: function() {
                                this.fetchAtBuffer_ = !1, this.resyncLoader()
                            }
                        }, {
                            key: "resyncLoader",
                            value: function() {
                                this.mediaIndex = null, this.syncPoint_ = null, this.abort()
                            }
                        }, {
                            key: "remove",
                            value: function(e, t, i) {
                                if (this.sourceUpdater_ && this.sourceUpdater_.remove(e, t, i), rh(e, t, this.segmentMetadataTrack_), this.inbandTextTracks_) for (var n in this.inbandTextTracks_) rh(e, t, this.inbandTextTracks_[n])
                            }
                        }, {
                            key: "monitorBuffer_",
                            value: function() {
                                this.checkBufferTimeout_ && Ci.clearTimeout(this.checkBufferTimeout_), this.checkBufferTimeout_ = Ci.setTimeout(this.monitorBufferTick_.bind(this), 1)
                            }
                        }, {
                            key: "monitorBufferTick_",
                            value: function() {
                                "READY" === this.state && this.fillBuffer_(), this.checkBufferTimeout_ && Ci.clearTimeout(this.checkBufferTimeout_), this.checkBufferTimeout_ = Ci.setTimeout(this.monitorBufferTick_.bind(this), 500)
                            }
                        }, {
                            key: "fillBuffer_",
                            value: function() {
                                if (!this.sourceUpdater_.updating()) {
                                    this.syncPoint_ || (this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_()));
                                    var e = this.checkBuffer_(this.buffered_(), this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);
                                    e && (this.isEndOfStream_(e.mediaIndex) ? this.endOfStream() : (e.mediaIndex !== this.playlist_.segments.length - 1 || "ended" !== this.mediaSource_.readyState || this.seeking_()) && (e.timeline !== this.currentTimeline_ && (this.syncController_.reset(), e.timestampOffset = e.startOfSegment, this.captionParser_ && this.captionParser_.clearAllCaptions()), this.loadSegment_(e)))
                                }
                            }
                        }, {
                            key: "isEndOfStream_",
                            value: function(e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.playlist_;
                                return ip(t, this.mediaSource_, e) && !this.sourceUpdater_.updating()
                            }
                        }, {
                            key: "checkBuffer_",
                            value: function(e, t, i, n, r, s) {
                                var a = 0,
                                    o = void 0;
                                e.length && (a = e.end(e.length - 1));
                                var l = Math.max(0, a - r);
                                if (!t.segments.length) return null;
                                if (l >= this.goalBufferLength_()) return null;
                                if (!n && l >= 1) return null;
                                if (null === s) return i = this.getSyncSegmentCandidate_(t), this.generateSegmentInfo_(t, i, null, !0);
                                if (null !== i) return t.segments[i], o = a, this.generateSegmentInfo_(t, i + 1, o, !1);
                                if (this.fetchAtBuffer_) {
                                    var u = Rd.getMediaInfoForTime(t, a, s.segmentIndex, s.time);
                                    i = u.mediaIndex, o = u.startTime
                                } else {
                                    var c = Rd.getMediaInfoForTime(t, r, s.segmentIndex, s.time);
                                    i = c.mediaIndex, o = c.startTime
                                }
                                return this.generateSegmentInfo_(t, i, o, !1)
                            }
                        }, {
                            key: "getSyncSegmentCandidate_",
                            value: function(e) {
                                var t = this;
                                if (-1 === this.currentTimeline_) return 0;
                                var i = e.segments.map((function(e, t) {
                                    return {
                                        timeline: e.timeline,
                                        segmentIndex: t
                                    }
                                }))
                                    .filter((function(e) {
                                    return e.timeline === t.currentTimeline_
                                }));
                                return i.length ? i[Math.min(i.length - 1, 1)].segmentIndex : Math.max(e.segments.length - 1, 0)
                            }
                        }, {
                            key: "generateSegmentInfo_",
                            value: function(e, t, i, n) {
                                if (t < 0 || t >= e.segments.length) return null;
                                var r = e.segments[t];
                                return {
                                    requestId: "segment-loader-" + Math.random(),
                                    uri: r.resolvedUri,
                                    mediaIndex: t,
                                    isSyncRequest: n,
                                    startOfSegment: i,
                                    playlist: e,
                                    bytes: null,
                                    encryptedBytes: null,
                                    timestampOffset: null,
                                    timeline: r.timeline,
                                    duration: r.duration,
                                    segment: r
                                }
                            }
                        }, {
                            key: "abortRequestEarly_",
                            value: function(e) {
                                if (this.hls_.tech_.paused() || !this.xhrOptions_.timeout || !this.playlist_.attributes.BANDWIDTH) return !1;
                                if (Date.now() - (e.firstBytesReceivedAt || Date.now()) < 1e3) return !1;
                                var t = this.currentTime_(),
                                    i = e.bandwidth,
                                    n = this.pendingSegment_.duration,
                                    r = Rd.estimateSegmentRequestTime(n, i, this.playlist_, e.bytesReceived),
                                    s = function(e, t) {
                                        var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                                        return ((e.length ? e.end(e.length - 1) : 0) - t) / i
                                    }(this.buffered_(), t, this.hls_.tech_.playbackRate()) - 1;
                                if (r <= s) return !1;
                                var a = function(e) {
                                    var t = e.master,
                                        i = e.currentTime,
                                        n = e.bandwidth,
                                        r = e.duration,
                                        s = e.segmentDuration,
                                        a = e.timeUntilRebuffer,
                                        o = e.currentTimeline,
                                        l = e.syncController,
                                        u = t.playlists.filter((function(e) {
                                            return !Rd.isIncompatible(e)
                                        })),
                                        c = u.filter(Rd.isEnabled);
                                    c.length || (c = u.filter((function(e) {
                                        return !Rd.isDisabled(e)
                                    })));
                                    var d = c.filter(Rd.hasAttribute.bind(null, "BANDWIDTH"))
                                        .map((function(e) {
                                        var t = l.getSyncPoint(e, r, o, i) ? 1 : 2;
                                        return {
                                            playlist: e,
                                            rebufferingImpact: Rd.estimateSegmentRequestTime(s, n, e) * t - a
                                        }
                                    })),
                                        h = d.filter((function(e) {
                                            return e.rebufferingImpact <= 0
                                        }));
                                    return ep(h, (function(e, t) {
                                        return tp(t.playlist, e.playlist)
                                    })), h.length ? h[0] : (ep(d, (function(e, t) {
                                        return e.rebufferingImpact - t.rebufferingImpact
                                    })), d[0] || null)
                                }({
                                    master: this.hls_.playlists.master,
                                    currentTime: t,
                                    bandwidth: i,
                                    duration: this.duration_(),
                                    segmentDuration: n,
                                    timeUntilRebuffer: s,
                                    currentTimeline: this.currentTimeline_,
                                    syncController: this.syncController_
                                });
                                if (a) {
                                    var o = r - s - a.rebufferingImpact,
                                        l = .5;
                                    return s <= Jd && (l = 1), !a.playlist || a.playlist.uri === this.playlist_.uri || o < l ? !1 : (this.bandwidth = a.playlist.attributes.BANDWIDTH * zh.BANDWIDTH_VARIANCE + 1, this.abort(), this.trigger("earlyabort"), !0)
                                }
                            }
                        }, {
                            key: "handleProgress_",
                            value: function(e, t) {
                                this.pendingSegment_ && t.requestId === this.pendingSegment_.requestId && !this.abortRequestEarly_(t.stats) && this.trigger("progress")
                            }
                        }, {
                            key: "loadSegment_",
                            value: function(e) {
                                this.state = "WAITING", this.pendingSegment_ = e, this.trimBackBuffer_(e), e.abortRequests = Zh(this.hls_.xhr, this.xhrOptions_, this.decrypter_, this.captionParser_, this.createSimplifiedSegmentObj_(e), this.handleProgress_.bind(this), this.segmentRequestFinished_.bind(this))
                            }
                        }, {
                            key: "trimBackBuffer_",
                            value: function(e) {
                                var t = function(e, t, i) {
                                    var n = void 0;
                                    return n = e.length && e.start(0) > 0 && e.start(0) < t ? e.start(0) : t - 30, Math.min(n, t - i)
                                }(this.seekable_(), this.currentTime_(), this.playlist_.targetDuration || 10);
                                t > 0 && this.remove(0, t)
                            }
                        }, {
                            key: "createSimplifiedSegmentObj_",
                            value: function(e) {
                                var t = e.segment,
                                    i = {
                                        resolvedUri: t.resolvedUri,
                                        byterange: t.byterange,
                                        requestId: e.requestId
                                    };
                                if (t.key) {
                                    var n = t.key.iv || new Uint32Array([0, 0, 0, e.mediaIndex + e.playlist.mediaSequence]);
                                    i.key = this.segmentKey(t.key), i.key.iv = n
                                }
                                return t.map && (i.map = this.initSegment(t.map)), i
                            }
                        }, {
                            key: "segmentRequestFinished_",
                            value: function(e, t) {
                                if (this.mediaRequests += 1, t.stats && (this.mediaBytesTransferred += t.stats.bytesReceived, this.mediaTransferDuration += t.stats.roundTripTime), this.pendingSegment_) {
                                    if (t.requestId === this.pendingSegment_.requestId) {
                                        if (e) return this.pendingSegment_ = null, this.state = "READY", e.code === Yh ? void(this.mediaRequestsAborted += 1) : (this.pause(), e.code === Gh ? (this.mediaRequestsTimedout += 1, this.bandwidth = 1, this.roundTrip = NaN, void this.trigger("bandwidthupdate")) : (this.mediaRequestsErrored += 1, this.error(e), void this.trigger("error")));
                                        this.bandwidth = t.stats.bandwidth, this.roundTrip = t.stats.roundTripTime, t.map && (t.map = this.initSegment(t.map, !0)), t.key && this.segmentKey(t.key, !0), this.processSegmentResponse_(t)
                                    }
                                } else this.mediaRequestsAborted += 1
                            }
                        }, {
                            key: "processSegmentResponse_",
                            value: function(e) {
                                var t = this.pendingSegment_;
                                t.bytes = e.bytes, e.map && (t.segment.map.bytes = e.map.bytes), t.endOfAllRequests = e.endOfAllRequests, e.fmp4Captions && (! function(e, t, i) {
                                    for (var n in i) if (!e[n]) {
                                        t.trigger({
                                            type: "usage",
                                            name: "hls-608"
                                        });
                                        var r = t.textTracks()
                                            .getTrackById(n);
                                        e[n] = r || t.addRemoteTextTrack({
                                            kind: "captions",
                                            id: n,
                                            label: n
                                        }, !1)
                                            .track
                                    }
                                }(this.inbandTextTracks_, this.hls_.tech_, e.captionStreams), function(e) {
                                    var t = e.inbandTextTracks,
                                        i = e.captionArray,
                                        n = e.timestampOffset;
                                    if (i) {
                                        var r = window.WebKitDataCue || window.VTTCue;
                                        i.forEach((function(e) {
                                            var i = e.stream,
                                                s = e.startTime,
                                                a = e.endTime;
                                            t[i] && (s += n, a += n, t[i].addCue(new r(s, a, e.text)))
                                        }))
                                    }
                                }({
                                    inbandTextTracks: this.inbandTextTracks_,
                                    captionArray: e.fmp4Captions,
                                    timestampOffset: 0
                                }), this.captionParser_ && this.captionParser_.clearParsedCaptions()), this.handleSegment_()
                            }
                        }, {
                            key: "handleSegment_",
                            value: function() {
                                var e = this;
                                if (this.pendingSegment_) {
                                    var t = this.pendingSegment_,
                                        i = t.segment,
                                        n = this.syncController_.probeSegmentInfo(t);
                                    void 0 === this.startingMedia_ && n && (n.containsAudio || n.containsVideo) && (this.startingMedia_ = {
                                        containsAudio: n.containsAudio,
                                        containsVideo: n.containsVideo
                                    });
                                    var r, s, a, o = (r = this.loaderType_, s = this.startingMedia_, a = n, "main" === r && s && a ? a.containsAudio || a.containsVideo ? s.containsVideo && !a.containsVideo ? "Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest." : !s.containsVideo && a.containsVideo ? "Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest." : null : "Neither audio nor video found in segment." : null);
                                    if (o) return this.error({
                                        message: o,
                                        blacklistDuration: 1 / 0
                                    }), void this.trigger("error");
                                    if (t.isSyncRequest) return this.trigger("syncinfoupdate"), this.pendingSegment_ = null, void(this.state = "READY");
                                    if (null !== t.timestampOffset && t.timestampOffset !== this.sourceUpdater_.timestampOffset()) {
                                        if (n && n.segmentTimestampInfo) {
                                            var l = n.segmentTimestampInfo[0].ptsTime,
                                                u = n.segmentTimestampInfo[0].dtsTime;
                                            t.timestampOffset -= l - u
                                        }
                                        this.sourceUpdater_.timestampOffset(t.timestampOffset), this.trigger("timestampoffset")
                                    }
                                    var c = this.syncController_.mappingForTimeline(t.timeline);
                                    if (null !== c && this.trigger({
                                        type: "segmenttimemapping",
                                        mapping: c
                                    }), this.state = "APPENDING", i.map) {
                                        var d = Wd(i.map);
                                        if (!this.activeInitSegmentId_ || this.activeInitSegmentId_ !== d) {
                                            var h = this.initSegment(i.map);
                                            this.sourceUpdater_.appendBuffer({
                                                bytes: h.bytes
                                            }, (function() {
                                                e.activeInitSegmentId_ = d
                                            }))
                                        }
                                    }
                                    t.byteLength = t.bytes.byteLength, "number" == typeof i.start && "number" == typeof i.end ? this.mediaSecondsLoaded += i.end - i.start : this.mediaSecondsLoaded += i.duration, this.logger_(function(e) {
                                        var t = e.segment,
                                            i = t.start,
                                            n = t.end,
                                            r = e.playlist,
                                            s = r.mediaSequence,
                                            a = r.id,
                                            o = r.segments,
                                            l = void 0 === o ? [] : o,
                                            u = e.mediaIndex,
                                            c = e.timeline;
                                        return ["appending [" + u + "] of [" + s + ", " + (s + l.length) + "] from playlist [" + a + "]", "[" + i + " => " + n + "] in timeline [" + c + "]"].join(" ")
                                    }(t)), this.sourceUpdater_.appendBuffer({
                                        bytes: t.bytes,
                                        videoSegmentTimingInfoCallback: this.handleVideoSegmentTimingInfo_.bind(this, t.requestId)
                                    }, this.handleUpdateEnd_.bind(this))
                                } else this.state = "READY"
                            }
                        }, {
                            key: "handleVideoSegmentTimingInfo_",
                            value: function(e, t) {
                                if (this.pendingSegment_ && e === this.pendingSegment_.requestId) {
                                    var i = this.pendingSegment_.segment;
                                    i.videoTimingInfo || (i.videoTimingInfo = {}), i.videoTimingInfo.transmuxerPrependedSeconds = t.videoSegmentTimingInfo.prependedContentDuration || 0, i.videoTimingInfo.transmuxedPresentationStart = t.videoSegmentTimingInfo.start.presentation, i.videoTimingInfo.transmuxedPresentationEnd = t.videoSegmentTimingInfo.end.presentation, i.videoTimingInfo.baseMediaDecodeTime = t.videoSegmentTimingInfo.baseMediaDecodeTime
                                }
                            }
                        }, {
                            key: "handleUpdateEnd_",
                            value: function() {
                                if (!this.pendingSegment_) return this.state = "READY", void(this.paused() || this.monitorBuffer_());
                                var e = this.pendingSegment_,
                                    t = e.segment,
                                    i = null !== this.mediaIndex;
                                this.pendingSegment_ = null, this.recordThroughput_(e), this.addSegmentMetadataCue_(e), this.state = "READY", this.mediaIndex = e.mediaIndex, this.fetchAtBuffer_ = !0, this.currentTimeline_ = e.timeline, this.trigger("syncinfoupdate"), t.end && this.currentTime_() - t.end > 3 * e.playlist.targetDuration ? this.resetEverything() : (i && this.trigger("bandwidthupdate"), this.trigger("progress"), this.isEndOfStream_(e.mediaIndex + 1, e.playlist) && this.endOfStream(), this.paused() || this.monitorBuffer_())
                            }
                        }, {
                            key: "recordThroughput_",
                            value: function(e) {
                                var t = this.throughput.rate,
                                    i = Date.now() - e.endOfAllRequests + 1,
                                    n = Math.floor(e.byteLength / i * 8 * 1e3);
                                this.throughput.rate += (n - t) / ++this.throughput.count
                            }
                        }, {
                            key: "addSegmentMetadataCue_",
                            value: function(e) {
                                if (this.segmentMetadataTrack_) {
                                    var t = e.segment,
                                        i = t.start,
                                        n = t.end;
                                    if (np(i) && np(n)) {
                                        rh(i, n, this.segmentMetadataTrack_);
                                        var r = Ci.WebKitDataCue || Ci.VTTCue,
                                            s = {
                                                custom: t.custom,
                                                dateTimeObject: t.dateTimeObject,
                                                dateTimeString: t.dateTimeString,
                                                bandwidth: e.playlist.attributes.BANDWIDTH,
                                                resolution: e.playlist.attributes.RESOLUTION,
                                                codecs: e.playlist.attributes.CODECS,
                                                byteLength: e.byteLength,
                                                uri: e.uri,
                                                timeline: e.timeline,
                                                playlist: e.playlist.uri,
                                                start: i,
                                                end: n
                                            }, a = new r(i, n, JSON.stringify(s));
                                        a.value = s, this.segmentMetadataTrack_.addCue(a)
                                    }
                                }
                            }
                        }]), t
                    }(td.EventTarget),
                    sp = function(e) {
                        return decodeURIComponent(escape(String.fromCharCode.apply(null, e)))
                    }, ap = new Uint8Array("\n\n".split("")
                        .map((function(e) {
                        return e.charCodeAt(0)
                    }))),
                    op = function(e) {
                        function t(e) {
                            var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                            ad(this, t);
                            var n = cd(this, (t.__proto__ || Object.getPrototypeOf(t))
                                .call(this, e, i));
                            return n.mediaSource_ = null, n.subtitlesTrack_ = null, n
                        }
                        return ud(t, e), od(t, [{
                            key: "buffered_",
                            value: function() {
                                if (!this.subtitlesTrack_ || !this.subtitlesTrack_.cues.length) return td.createTimeRanges();
                                var e = this.subtitlesTrack_.cues,
                                    t = e[0].startTime,
                                    i = e[e.length - 1].startTime;
                                return td.createTimeRanges([
                                    [t, i]
                                ])
                            }
                        }, {
                            key: "initSegment",
                            value: function(e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                                if (!e) return null;
                                var i = Wd(e),
                                    n = this.initSegments_[i];
                                if (t && !n && e.bytes) {
                                    var r = ap.byteLength + e.bytes.byteLength,
                                        s = new Uint8Array(r);
                                    s.set(e.bytes), s.set(ap, e.bytes.byteLength), this.initSegments_[i] = n = {
                                        resolvedUri: e.resolvedUri,
                                        byterange: e.byterange,
                                        bytes: s
                                    }
                                }
                                return n || e
                            }
                        }, {
                            key: "couldBeginLoading_",
                            value: function() {
                                return this.playlist_ && this.subtitlesTrack_ && !this.paused()
                            }
                        }, {
                            key: "init_",
                            value: function() {
                                return this.state = "READY", this.resetEverything(), this.monitorBuffer_()
                            }
                        }, {
                            key: "track",
                            value: function(e) {
                                return void 0 === e || (this.subtitlesTrack_ = e, "INIT" === this.state && this.couldBeginLoading_() && this.init_()), this.subtitlesTrack_
                            }
                        }, {
                            key: "remove",
                            value: function(e, t) {
                                rh(e, t, this.subtitlesTrack_)
                            }
                        }, {
                            key: "fillBuffer_",
                            value: function() {
                                var e = this;
                                this.syncPoint_ || (this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_()));
                                var t = this.checkBuffer_(this.buffered_(), this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);
                                if (t = this.skipEmptySegments_(t)) {
                                    if (null === this.syncController_.timestampOffsetForTimeline(t.timeline)) {
                                        return this.syncController_.one("timestampoffset", (function() {
                                            e.state = "READY", e.paused() || e.monitorBuffer_()
                                        })), void(this.state = "WAITING_ON_TIMELINE")
                                    }
                                    this.loadSegment_(t)
                                }
                            }
                        }, {
                            key: "skipEmptySegments_",
                            value: function(e) {
                                for (; e && e.segment.empty;) e = this.generateSegmentInfo_(e.playlist, e.mediaIndex + 1, e.startOfSegment + e.duration, e.isSyncRequest);
                                return e
                            }
                        }, {
                            key: "handleSegment_",
                            value: function() {
                                var e = this;
                                if (this.pendingSegment_ && this.subtitlesTrack_) {
                                    this.state = "APPENDING";
                                    var t = this.pendingSegment_,
                                        i = t.segment;
                                    if ("function" != typeof Ci.WebVTT && this.subtitlesTrack_ && this.subtitlesTrack_.tech_) {
                                        var n = void 0,
                                            r = function() {
                                                e.subtitlesTrack_.tech_.off("vttjsloaded", n), e.error({
                                                    message: "Error loading vtt.js"
                                                }), e.state = "READY", e.pause(), e.trigger("error")
                                            };
                                        return n = function() {
                                            e.subtitlesTrack_.tech_.off("vttjserror", r), e.handleSegment_()
                                        }, this.state = "WAITING_ON_VTTJS", this.subtitlesTrack_.tech_.one("vttjsloaded", n), void this.subtitlesTrack_.tech_.one("vttjserror", r)
                                    }
                                    i.requested = !0;
                                    try {
                                        this.parseVTTCues_(t)
                                    } catch (sf) {
                                        return this.error({
                                            message: sf.message
                                        }), this.state = "READY", this.pause(), this.trigger("error")
                                    }
                                    if (this.updateTimeMapping_(t, this.syncController_.timelines[t.timeline], this.playlist_), t.isSyncRequest) return this.trigger("syncinfoupdate"), this.pendingSegment_ = null, void(this.state = "READY");
                                    t.byteLength = t.bytes.byteLength, this.mediaSecondsLoaded += i.duration, t.cues.length && this.remove(t.cues[0].endTime, t.cues[t.cues.length - 1].endTime), t.cues.forEach((function(t) {
                                        e.subtitlesTrack_.addCue(t)
                                    })), this.handleUpdateEnd_()
                                } else this.state = "READY"
                            }
                        }, {
                            key: "parseVTTCues_",
                            value: function(e) {
                                var t = void 0,
                                    i = !1;
                                "function" == typeof Ci.TextDecoder ? t = new Ci.TextDecoder("utf8") : (t = Ci.WebVTT.StringDecoder(), i = !0);
                                var n = new Ci.WebVTT.Parser(Ci, Ci.vttjs, t);
                                if (e.cues = [], e.timestampmap = {
                                    MPEGTS: 0,
                                    LOCAL: 0
                                }, n.oncue = e.cues.push.bind(e.cues), n.ontimestampmap = function(t) {
                                    return e.timestampmap = t
                                }, n.onparsingerror = function(e) {
                                    td.log.warn("Error encountered when parsing cues: " + e.message)
                                }, e.segment.map) {
                                    var r = e.segment.map.bytes;
                                    i && (r = sp(r)), n.parse(r)
                                }
                                var s = e.bytes;
                                i && (s = sp(s)), n.parse(s), n.flush()
                            }
                        }, {
                            key: "updateTimeMapping_",
                            value: function(e, t, i) {
                                var n = e.segment;
                                if (t) if (e.cues.length) {
                                    var r = e.timestampmap,
                                        s = r.MPEGTS / 9e4 - r.LOCAL + t.mapping;
                                    if (e.cues.forEach((function(e) {
                                        e.startTime += s, e.endTime += s
                                    })), !i.syncInfo) {
                                        var a = e.cues[0].startTime,
                                            o = e.cues[e.cues.length - 1].startTime;
                                        i.syncInfo = {
                                            mediaSequence: i.mediaSequence + e.mediaIndex,
                                            time: Math.min(a, o - n.duration)
                                        }
                                    }
                                } else n.empty = !0
                            }
                        }]), t
                    }(rp),
                    lp = function(e, t) {
                        for (var i = e.cues, n = 0; n < i.length; n++) {
                            var r = i[n];
                            if (t >= r.adStartTime && t <= r.adEndTime) return r
                        }
                        return null
                    }, up = Fs,
                    cp = [{
                        name: "VOD",
                        run: function(e, t, i, n, r) {
                            if (i !== 1 / 0) {
                                return {
                                    time: 0,
                                    segmentIndex: 0
                                }
                            }
                            return null
                        }
                    }, {
                        name: "ProgramDateTime",
                        run: function(e, t, i, n, r) {
                            if (!e.datetimeToDisplayTime) return null;
                            var s = t.segments || [],
                                a = null,
                                o = null;
                            r = r || 0;
                            for (var l = 0; l < s.length; l++) {
                                var u = s[l];
                                if (u.dateTimeObject) {
                                    var c = u.dateTimeObject.getTime() / 1e3 + e.datetimeToDisplayTime,
                                        d = Math.abs(r - c);
                                    if (null !== o && (0 === d || o < d)) break;
                                    o = d, a = {
                                        time: c,
                                        segmentIndex: l
                                    }
                                }
                            }
                            return a
                        }
                    }, {
                        name: "Segment",
                        run: function(e, t, i, n, r) {
                            var s = t.segments || [],
                                a = null,
                                o = null;
                            r = r || 0;
                            for (var l = 0; l < s.length; l++) {
                                var u = s[l];
                                if (u.timeline === n && void 0 !== u.start) {
                                    var c = Math.abs(r - u.start);
                                    if (null !== o && o < c) break;
                                    (!a || null === o || o >= c) && (o = c, a = {
                                        time: u.start,
                                        segmentIndex: l
                                    })
                                }
                            }
                            return a
                        }
                    }, {
                        name: "Discontinuity",
                        run: function(e, t, i, n, r) {
                            var s = null;
                            if (r = r || 0, t.discontinuityStarts && t.discontinuityStarts.length) for (var a = null, o = 0; o < t.discontinuityStarts.length; o++) {
                                var l = t.discontinuityStarts[o],
                                    u = t.discontinuitySequence + o + 1,
                                    c = e.discontinuities[u];
                                if (c) {
                                    var d = Math.abs(r - c.time);
                                    if (null !== a && a < d) break;
                                    (!s || null === a || a >= d) && (a = d, s = {
                                        time: c.time,
                                        segmentIndex: l
                                    })
                                }
                            }
                            return s
                        }
                    }, {
                        name: "Playlist",
                        run: function(e, t, i, n, r) {
                            return t.syncInfo ? {
                                time: t.syncInfo.time,
                                segmentIndex: t.syncInfo.mediaSequence - t.mediaSequence
                            } : null
                        }
                    }],
                    dp = function(e) {
                        function t() {
                            ad(this, t);
                            var e = cd(this, (t.__proto__ || Object.getPrototypeOf(t))
                                .call(this));
                            return e.inspectCache_ = void 0, e.timelines = [], e.discontinuities = [], e.datetimeToDisplayTime = null, e.logger_ = Vh("SyncController"), e
                        }
                        return ud(t, e), od(t, [{
                            key: "getSyncPoint",
                            value: function(e, t, i, n) {
                                var r = this.runStrategies_(e, t, i, n);
                                return r.length ? this.selectSyncPoint_(r, {
                                    key: "time",
                                    value: n
                                }) : null
                            }
                        }, {
                            key: "getExpiredTime",
                            value: function(e, t) {
                                if (!e || !e.segments) return null;
                                var i = this.runStrategies_(e, t, e.discontinuitySequence, 0);
                                if (!i.length) return null;
                                var n = this.selectSyncPoint_(i, {
                                    key: "segmentIndex",
                                    value: 0
                                });
                                return n.segmentIndex > 0 && (n.time *= -1), Math.abs(n.time + jd(e, n.segmentIndex, 0))
                            }
                        }, {
                            key: "runStrategies_",
                            value: function(e, t, i, n) {
                                for (var r = [], s = 0; s < cp.length; s++) {
                                    var a = cp[s],
                                        o = a.run(this, e, t, i, n);
                                    o && (o.strategy = a.name, r.push({
                                        strategy: a.name,
                                        syncPoint: o
                                    }))
                                }
                                return r
                            }
                        }, {
                            key: "selectSyncPoint_",
                            value: function(e, t) {
                                for (var i = e[0].syncPoint, n = Math.abs(e[0].syncPoint[t.key] - t.value), r = e[0].strategy, s = 1; s < e.length; s++) {
                                    var a = Math.abs(e[s].syncPoint[t.key] - t.value);
                                    a < n && (n = a, i = e[s].syncPoint, r = e[s].strategy)
                                }
                                return this.logger_("syncPoint for [" + t.key + ": " + t.value + "] chosen with strategy [" + r + "]: [time:" + i.time + ", segmentIndex:" + i.segmentIndex + "]"), i
                            }
                        }, {
                            key: "saveExpiredSegmentInfo",
                            value: function(e, t) {
                                for (var i = t.mediaSequence - e.mediaSequence - 1; i >= 0; i--) {
                                    var n = e.segments[i];
                                    if (n && void 0 !== n.start) {
                                        t.syncInfo = {
                                            mediaSequence: e.mediaSequence + i,
                                            time: n.start
                                        }, this.logger_("playlist refresh sync: [time:" + t.syncInfo.time + ", mediaSequence: " + t.syncInfo.mediaSequence + "]"), this.trigger("syncinfoupdate");
                                        break
                                    }
                                }
                            }
                        }, {
                            key: "setDateTimeMapping",
                            value: function(e) {
                                if (!this.datetimeToDisplayTime && e.segments && e.segments.length && e.segments[0].dateTimeObject) {
                                    var t = e.segments[0].dateTimeObject.getTime() / 1e3;
                                    this.datetimeToDisplayTime = -t
                                }
                            }
                        }, {
                            key: "reset",
                            value: function() {
                                this.inspectCache_ = void 0
                            }
                        }, {
                            key: "probeSegmentInfo",
                            value: function(e) {
                                var t = e.segment,
                                    i = e.playlist,
                                    n = void 0;
                                return (n = t.map ? this.probeMp4Segment_(e) : this.probeTsSegment_(e)) && this.calculateSegmentTimeMapping_(e, n) && (this.saveDiscontinuitySyncInfo_(e), i.syncInfo || (i.syncInfo = {
                                    mediaSequence: i.mediaSequence + e.mediaIndex,
                                    time: t.start
                                })), n
                            }
                        }, {
                            key: "probeMp4Segment_",
                            value: function(e) {
                                var t = e.segment,
                                    i = Fr.timescale(t.map.bytes),
                                    n = Fr.startTime(i, e.bytes);
                                return null !== e.timestampOffset && (e.timestampOffset -= n), {
                                    start: n,
                                    end: n + t.duration
                                }
                            }
                        }, {
                            key: "probeTsSegment_",
                            value: function(e) {
                                var t = up(e.bytes, this.inspectCache_),
                                    i = void 0,
                                    n = void 0,
                                    r = void 0;
                                return t ? (t.video && 2 === t.video.length ? (this.inspectCache_ = t.video[1].dts, i = t.video[0].dtsTime, n = t.video[1].dtsTime, r = t.video) : t.audio && 2 === t.audio.length && (this.inspectCache_ = t.audio[1].dts, i = t.audio[0].dtsTime, n = t.audio[1].dtsTime, r = t.audio), {
                                    segmentTimestampInfo: r,
                                    start: i,
                                    end: n,
                                    containsVideo: t.video && 2 === t.video.length,
                                    containsAudio: t.audio && 2 === t.audio.length
                                }) : null
                            }
                        }, {
                            key: "timestampOffsetForTimeline",
                            value: function(e) {
                                return void 0 === this.timelines[e] ? null : this.timelines[e].time
                            }
                        }, {
                            key: "mappingForTimeline",
                            value: function(e) {
                                return void 0 === this.timelines[e] ? null : this.timelines[e].mapping
                            }
                        }, {
                            key: "calculateSegmentTimeMapping_",
                            value: function(e, t) {
                                var i = e.segment,
                                    n = this.timelines[e.timeline];
                                if (null !== e.timestampOffset) n = {
                                    time: e.startOfSegment,
                                    mapping: e.startOfSegment - t.start
                                }, this.timelines[e.timeline] = n, this.trigger("timestampoffset"), this.logger_("time mapping for timeline " + e.timeline + ": [time: " + n.time + "] [mapping: " + n.mapping + "]"), i.start = e.startOfSegment, i.end = t.end + n.mapping;
                                else {
                                    if (!n) return !1;
                                    i.start = t.start + n.mapping, i.end = t.end + n.mapping
                                }
                                return !0
                            }
                        }, {
                            key: "saveDiscontinuitySyncInfo_",
                            value: function(e) {
                                var t = e.playlist,
                                    i = e.segment;
                                if (i.discontinuity) this.discontinuities[i.timeline] = {
                                    time: i.start,
                                    accuracy: 0
                                };
                                else if (t.discontinuityStarts && t.discontinuityStarts.length) for (var n = 0; n < t.discontinuityStarts.length; n++) {
                                    var r = t.discontinuityStarts[n],
                                        s = t.discontinuitySequence + n + 1,
                                        a = r - e.mediaIndex,
                                        o = Math.abs(a);
                                    if (!this.discontinuities[s] || this.discontinuities[s].accuracy > o) {
                                        var l = void 0;
                                        l = a < 0 ? i.start - jd(t, e.mediaIndex, r) : i.end + jd(t, e.mediaIndex + 1, r), this.discontinuities[s] = {
                                            time: l,
                                            accuracy: o
                                        }
                                    }
                                }
                            }
                        }]), t
                    }(td.EventTarget),
                    hp = new hh("./decrypter-worker.worker.js", (function(e, t) {
                        var i = this;
                        ! function() {
                            var e = function(e, t) {
                                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                            }, t = function() {
                                function e(e, t) {
                                    for (var i = 0; i < t.length; i++) {
                                        var n = t[i];
                                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
                                    }
                                }
                                return function(t, i, n) {
                                    return i && e(t.prototype, i), n && e(t, n), t
                                }
                            }(),
                                n = null,
                                r = function() {
                                    function t(i) {
                                        e(this, t), n || (n = function() {
                                            var e = [
                                                [
                                                    [],
                                                    [],
                                                    [],
                                                    [],
                                                    []
                                                ],
                                                [
                                                    [],
                                                    [],
                                                    [],
                                                    [],
                                                    []
                                                ]
                                            ],
                                                t = e[0],
                                                i = e[1],
                                                n = t[4],
                                                r = i[4],
                                                s = void 0,
                                                a = void 0,
                                                o = void 0,
                                                l = [],
                                                u = [],
                                                c = void 0,
                                                d = void 0,
                                                h = void 0,
                                                p = void 0,
                                                f = void 0;
                                            for (s = 0; s < 256; s++) u[(l[s] = s << 1 ^ 283 * (s >> 7)) ^ s] = s;
                                            for (a = o = 0; !n[a]; a ^= c || 1, o = u[o] || 1) for (h = (h = o ^ o << 1 ^ o << 2 ^ o << 3 ^ o << 4) >> 8 ^ 255 & h ^ 99, n[a] = h, r[h] = a, f = 16843009 * l[d = l[c = l[a]]] ^ 65537 * d ^ 257 * c ^ 16843008 * a, p = 257 * l[h] ^ 16843008 * h, s = 0; s < 4; s++) t[s][a] = p = p << 24 ^ p >>> 8, i[s][h] = f = f << 24 ^ f >>> 8;
                                            for (s = 0; s < 5; s++) t[s] = t[s].slice(0), i[s] = i[s].slice(0);
                                            return e
                                        }()), this._tables = [
                                            [n[0][0].slice(), n[0][1].slice(), n[0][2].slice(), n[0][3].slice(), n[0][4].slice()],
                                            [n[1][0].slice(), n[1][1].slice(), n[1][2].slice(), n[1][3].slice(), n[1][4].slice()]
                                        ];
                                        var r = void 0,
                                            s = void 0,
                                            a = void 0,
                                            o = void 0,
                                            l = void 0,
                                            u = this._tables[0][4],
                                            c = this._tables[1],
                                            d = i.length,
                                            h = 1;
                                        if (4 !== d && 6 !== d && 8 !== d) throw new Error("Invalid aes key size");
                                        for (o = i.slice(0), l = [], this._key = [o, l], r = d; r < 4 * d + 28; r++) a = o[r - 1], (r % d == 0 || 8 === d && r % d == 4) && (a = u[a >>> 24] << 24 ^ u[a >> 16 & 255] << 16 ^ u[a >> 8 & 255] << 8 ^ u[255 & a], r % d == 0 && (a = a << 8 ^ a >>> 24 ^ h << 24, h = h << 1 ^ 283 * (h >> 7))), o[r] = o[r - d] ^ a;
                                        for (s = 0; r; s++, r--) a = o[3 & s ? r : r - 4], l[s] = r <= 4 || s < 4 ? a : c[0][u[a >>> 24]] ^ c[1][u[a >> 16 & 255]] ^ c[2][u[a >> 8 & 255]] ^ c[3][u[255 & a]]
                                    }
                                    return t.prototype.decrypt = function(e, t, i, n, r, s) {
                                        var a = this._key[1],
                                            o = e ^ a[0],
                                            l = n ^ a[1],
                                            u = i ^ a[2],
                                            c = t ^ a[3],
                                            d = void 0,
                                            h = void 0,
                                            p = void 0,
                                            f = a.length / 4 - 2,
                                            m = void 0,
                                            v = 4,
                                            g = this._tables[1],
                                            y = g[0],
                                            _ = g[1],
                                            b = g[2],
                                            T = g[3],
                                            k = g[4];
                                        for (m = 0; m < f; m++) d = y[o >>> 24] ^ _[l >> 16 & 255] ^ b[u >> 8 & 255] ^ T[255 & c] ^ a[v], h = y[l >>> 24] ^ _[u >> 16 & 255] ^ b[c >> 8 & 255] ^ T[255 & o] ^ a[v + 1], p = y[u >>> 24] ^ _[c >> 16 & 255] ^ b[o >> 8 & 255] ^ T[255 & l] ^ a[v + 2], c = y[c >>> 24] ^ _[o >> 16 & 255] ^ b[l >> 8 & 255] ^ T[255 & u] ^ a[v + 3], v += 4, o = d, l = h, u = p;
                                        for (m = 0; m < 4; m++) r[(3 & -m) + s] = k[o >>> 24] << 24 ^ k[l >> 16 & 255] << 16 ^ k[u >> 8 & 255] << 8 ^ k[255 & c] ^ a[v++], d = o, o = l, l = u, u = c, c = d
                                    }, t
                                }(),
                                s = function() {
                                    function t() {
                                        e(this, t), this.listeners = {}
                                    }
                                    return t.prototype.on = function(e, t) {
                                        this.listeners[e] || (this.listeners[e] = []), this.listeners[e].push(t)
                                    }, t.prototype.off = function(e, t) {
                                        if (!this.listeners[e]) return !1;
                                        var i = this.listeners[e].indexOf(t);
                                        return this.listeners[e].splice(i, 1), i > -1
                                    }, t.prototype.trigger = function(e) {
                                        var t = this.listeners[e];
                                        if (t) if (2 === arguments.length) for (var i = t.length, n = 0; n < i; ++n) t[n].call(this, arguments[1]);
                                        else for (var r = Array.prototype.slice.call(arguments, 1), s = t.length, a = 0; a < s; ++a) t[a].apply(this, r)
                                    }, t.prototype.dispose = function() {
                                        this.listeners = {}
                                    }, t.prototype.pipe = function(e) {
                                        this.on("data", (function(t) {
                                            e.push(t)
                                        }))
                                    }, t
                                }(),
                                a = function(t) {
                                    function i() {
                                        e(this, i);
                                        var n = function(e, t) {
                                            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                            return !t || "object" != typeof t && "function" != typeof t ? e : t
                                        }(this, t.call(this, s));
                                        return n.jobs = [], n.delay = 1, n.timeout_ = null, n
                                    }
                                    return function(e, t) {
                                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                                        e.prototype = Object.create(t && t.prototype, {
                                            constructor: {
                                                value: e,
                                                enumerable: !1,
                                                writable: !0,
                                                configurable: !0
                                            }
                                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                                    }(i, t), i.prototype.processJob_ = function() {
                                        this.jobs.shift()(), this.jobs.length ? this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay) : this.timeout_ = null
                                    }, i.prototype.push = function(e) {
                                        this.jobs.push(e), this.timeout_ || (this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay))
                                    }, i
                                }(s),
                                o = function(e) {
                                    return e << 24 | (65280 & e) << 8 | (16711680 & e) >> 8 | e >>> 24
                                }, l = function() {
                                    function i(t, n, r, s) {
                                        e(this, i);
                                        var l = i.STEP,
                                            u = new Int32Array(t.buffer),
                                            c = new Uint8Array(t.byteLength),
                                            d = 0;
                                        for (this.asyncStream_ = new a, this.asyncStream_.push(this.decryptChunk_(u.subarray(d, d + l), n, r, c)), d = l; d < u.length; d += l) r = new Uint32Array([o(u[d - 4]), o(u[d - 3]), o(u[d - 2]), o(u[d - 1])]), this.asyncStream_.push(this.decryptChunk_(u.subarray(d, d + l), n, r, c));
                                        this.asyncStream_.push((function() {
                                            var e;
                                            s(null, (e = c)
                                                .subarray(0, e.byteLength - e[e.byteLength - 1]))
                                        }))
                                    }
                                    return i.prototype.decryptChunk_ = function(e, t, i, n) {
                                        return function() {
                                            var s = function(e, t, i) {
                                                var n = new Int32Array(e.buffer, e.byteOffset, e.byteLength >> 2),
                                                    s = new r(Array.prototype.slice.call(t)),
                                                    a = new Uint8Array(e.byteLength),
                                                    l = new Int32Array(a.buffer),
                                                    u = void 0,
                                                    c = void 0,
                                                    d = void 0,
                                                    h = void 0,
                                                    p = void 0,
                                                    f = void 0,
                                                    m = void 0,
                                                    v = void 0,
                                                    g = void 0;
                                                for (u = i[0], c = i[1], d = i[2], h = i[3], g = 0; g < n.length; g += 4) p = o(n[g]), f = o(n[g + 1]), m = o(n[g + 2]), v = o(n[g + 3]), s.decrypt(p, f, m, v, l, g), l[g] = o(l[g] ^ u), l[g + 1] = o(l[g + 1] ^ c), l[g + 2] = o(l[g + 2] ^ d), l[g + 3] = o(l[g + 3] ^ h), u = p, c = f, d = m, h = v;
                                                return a
                                            }(e, t, i);
                                            n.set(s, e.byteOffset)
                                        }
                                    }, t(i, null, [{
                                        key: "STEP",
                                        get: function() {
                                            return 32e3
                                        }
                                    }]), i
                                }(),
                                u = new function(e) {
                                    e.onmessage = function(t) {
                                        var i = t.data,
                                            n = new Uint8Array(i.encrypted.bytes, i.encrypted.byteOffset, i.encrypted.byteLength),
                                            r = new Uint32Array(i.key.bytes, i.key.byteOffset, i.key.byteLength / 4),
                                            s = new Uint32Array(i.iv.bytes, i.iv.byteOffset, i.iv.byteLength / 4);
                                        new l(n, r, s, (function(t, n) {
                                            var r, s;
                                            e.postMessage((r = {
                                                source: i.source,
                                                decrypted: n
                                            }, s = {}, Object.keys(r)
                                                .forEach((function(e) {
                                                var t = r[e];
                                                ArrayBuffer.isView(t) ? s[e] = {
                                                    bytes: t.buffer,
                                                    byteOffset: t.byteOffset,
                                                    byteLength: t.byteLength
                                                } : s[e] = t
                                            })), s), [n.buffer])
                                        }))
                                    }
                                }(i)
                        }()
                    })),
                    pp = function(e) {
                        var t = e.
                        default ? "main" : "alternative";
                        return e.characteristics && e.characteristics.indexOf("public.accessibility.describes-video") >= 0 && (t = "main-desc"), t
                    }, fp = function(e, t) {
                        e.abort(), e.pause(), t && t.activePlaylistLoader && (t.activePlaylistLoader.pause(), t.activePlaylistLoader = null)
                    }, mp = function(e, t) {
                        t.activePlaylistLoader = e, e.load()
                    }, vp = {
                        AUDIO: function(e, t) {
                            return function() {
                                var i = t.segmentLoaders[e],
                                    n = t.mediaTypes[e],
                                    r = t.blacklistCurrentPlaylist;
                                fp(i, n);
                                var s = n.activeTrack(),
                                    a = n.activeGroup(),
                                    o = (a.filter((function(e) {
                                        return e.
                                        default
                                    }))[0] || a[0])
                                        .id,
                                    l = n.tracks[o];
                                if (s !== l) {
                                    for (var u in td.log.warn("Problem encountered loading the alternate audio track.Switching back to default."), n.tracks) n.tracks[u].enabled = n.tracks[u] === l;
                                    n.onTrackChanged()
                                } else r({
                                    message: "Problem encountered loading the default audio track."
                                })
                            }
                        },
                        SUBTITLES: function(e, t) {
                            return function() {
                                var i = t.segmentLoaders[e],
                                    n = t.mediaTypes[e];
                                td.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."), fp(i, n);
                                var r = n.activeTrack();
                                r && (r.mode = "disabled"), n.onTrackChanged()
                            }
                        }
                    }, gp = {
                        AUDIO: function(e, t, i) {
                            if (t) {
                                var n = i.tech,
                                    r = i.requestOptions,
                                    s = i.segmentLoaders[e];
                                t.on("loadedmetadata", (function() {
                                    var e = t.media();
                                    s.playlist(e, r), (!n.paused() || e.endList && "none" !== n.preload()) && s.load()
                                })), t.on("loadedplaylist", (function() {
                                    s.playlist(t.media(), r), n.paused() || s.load()
                                })), t.on("error", vp[e](e, i))
                            }
                        },
                        SUBTITLES: function(e, t, i) {
                            var n = i.tech,
                                r = i.requestOptions,
                                s = i.segmentLoaders[e],
                                a = i.mediaTypes[e];
                            t.on("loadedmetadata", (function() {
                                var e = t.media();
                                s.playlist(e, r), s.track(a.activeTrack()), (!n.paused() || e.endList && "none" !== n.preload()) && s.load()
                            })), t.on("loadedplaylist", (function() {
                                s.playlist(t.media(), r), n.paused() || s.load()
                            })), t.on("error", vp[e](e, i))
                        }
                    }, yp = {
                        AUDIO: function(e, t) {
                            var i = t.hls,
                                n = t.sourceType,
                                r = t.segmentLoaders[e],
                                s = t.requestOptions,
                                a = t.master.mediaGroups,
                                o = t.mediaTypes[e],
                                l = o.groups,
                                u = o.tracks,
                                c = t.masterPlaylistLoader;
                            for (var d in a[e] && 0 !== Object.keys(a[e])
                                .length || (a[e] = {
                                main: {
                                    default: {
                                        default: !0
                                    }
                                }
                            }), a[e]) for (var h in l[d] || (l[d] = []), a[e][d]) {
                                var p = a[e][d][h],
                                    f = void 0;
                                if (f = p.resolvedUri ? new bd(p.resolvedUri, i, s) : p.playlists && "dash" === n ? new Fh(p.playlists[0], i, s, c) : null, p = td.mergeOptions({
                                    id: h,
                                    playlistLoader: f
                                }, p), gp[e](e, p.playlistLoader, t), l[d].push(p), void 0 === u[h]) {
                                    var m = new td.AudioTrack({
                                        id: h,
                                        kind: pp(p),
                                        enabled: !1,
                                        language: p.language,
                                        default: p.
                                        default,
                                        label: h
                                    });
                                    u[h] = m
                                }
                            }
                            r.on("error", vp[e](e, t))
                        },
                        SUBTITLES: function(e, t) {
                            var i = t.tech,
                                n = t.hls,
                                r = t.sourceType,
                                s = t.segmentLoaders[e],
                                a = t.requestOptions,
                                o = t.master.mediaGroups,
                                l = t.mediaTypes[e],
                                u = l.groups,
                                c = l.tracks,
                                d = t.masterPlaylistLoader;
                            for (var h in o[e]) for (var p in u[h] || (u[h] = []), o[e][h]) if (!o[e][h][p].forced) {
                                var f = o[e][h][p],
                                    m = void 0;
                                if ("hls" === r ? m = new bd(f.resolvedUri, n, a) : "dash" === r && (m = new Fh(f.playlists[0], n, a, d)), f = td.mergeOptions({
                                    id: p,
                                    playlistLoader: m
                                }, f), gp[e](e, f.playlistLoader, t), u[h].push(f), void 0 === c[p]) {
                                    var v = i.addRemoteTextTrack({
                                        id: p,
                                        kind: "subtitles",
                                        default: f.
                                        default && f.autoselect,
                                        language: f.language,
                                        label: p
                                    }, !1)
                                        .track;
                                    c[p] = v
                                }
                            }
                            s.on("error", vp[e](e, t))
                        },
                        "CLOSED-CAPTIONS": function(e, t) {
                            var i = t.tech,
                                n = t.master.mediaGroups,
                                r = t.mediaTypes[e],
                                s = r.groups,
                                a = r.tracks;
                            for (var o in n[e]) for (var l in s[o] || (s[o] = []), n[e][o]) {
                                var u = n[e][o][l];
                                if (u.instreamId.match(/CC\d/) && (s[o].push(td.mergeOptions({
                                    id: l
                                }, u)), void 0 === a[l])) {
                                    var c = i.addRemoteTextTrack({
                                        id: u.instreamId,
                                        kind: "captions",
                                        default: u.
                                        default && u.autoselect,
                                        language: u.language,
                                        label: l
                                    }, !1)
                                        .track;
                                    a[l] = c
                                }
                            }
                        }
                    }, _p = {
                        AUDIO: function(e, t) {
                            return function() {
                                var i = t.mediaTypes[e].tracks;
                                for (var n in i) if (i[n].enabled) return i[n];
                                return null
                            }
                        },
                        SUBTITLES: function(e, t) {
                            return function() {
                                var i = t.mediaTypes[e].tracks;
                                for (var n in i) if ("showing" === i[n].mode) return i[n];
                                return null
                            }
                        }
                    }, bp = function(e) {
                        ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach((function(t) {
                            yp[t](t, e)
                        }));
                        var t = e.mediaTypes,
                            i = e.masterPlaylistLoader,
                            n = e.tech,
                            r = e.hls;
                        ["AUDIO", "SUBTITLES"].forEach((function(i) {
                            t[i].activeGroup = function(e, t) {
                                return function(i) {
                                    var n = t.masterPlaylistLoader,
                                        r = t.mediaTypes[e].groups,
                                        s = n.media();
                                    if (!s) return null;
                                    var a = null;
                                    return s.attributes[e] && (a = r[s.attributes[e]]), a = a || r.main, void 0 === i ? a : null === i ? null : a.filter((function(e) {
                                        return e.id === i.id
                                    }))[0] || null
                                }
                            }(i, e), t[i].activeTrack = _p[i](i, e), t[i].onGroupChanged = function(e, t) {
                                return function() {
                                    var i = t.segmentLoaders,
                                        n = i[e],
                                        r = i.main,
                                        s = t.mediaTypes[e],
                                        a = s.activeTrack(),
                                        o = s.activeGroup(a),
                                        l = s.activePlaylistLoader;
                                    fp(n, s), o && (o.playlistLoader ? (n.resyncLoader(), mp(o.playlistLoader, s)) : l && r.resetEverything())
                                }
                            }(i, e), t[i].onTrackChanged = function(e, t) {
                                return function() {
                                    var i = t.segmentLoaders,
                                        n = i[e],
                                        r = i.main,
                                        s = t.mediaTypes[e],
                                        a = s.activeTrack(),
                                        o = s.activeGroup(a),
                                        l = s.activePlaylistLoader;
                                    fp(n, s), o && (o.playlistLoader ? l !== o.playlistLoader ? (n.track && n.track(a), n.resetEverything(), mp(o.playlistLoader, s)) : mp(o.playlistLoader, s) : r.resetEverything())
                                }
                            }(i, e)
                        }));
                        var s = t.AUDIO.activeGroup(),
                            a = (s.filter((function(e) {
                                return e.
                                default
                            }))[0] || s[0])
                                .id;
                        t.AUDIO.tracks[a].enabled = !0, t.AUDIO.onTrackChanged(), i.on("mediachange", (function() {
                            ["AUDIO", "SUBTITLES"].forEach((function(e) {
                                return t[e].onGroupChanged()
                            }))
                        }));
                        var o = function() {
                            t.AUDIO.onTrackChanged(), n.trigger({
                                type: "usage",
                                name: "hls-audio-change"
                            })
                        };
                        for (var l in n.audioTracks()
                            .addEventListener("change", o), n.remoteTextTracks()
                            .addEventListener("change", t.SUBTITLES.onTrackChanged), r.on("dispose", (function() {
                            n.audioTracks()
                                .removeEventListener("change", o), n.remoteTextTracks()
                                .removeEventListener("change", t.SUBTITLES.onTrackChanged)
                        })), n.clearTracks("audio"), t.AUDIO.tracks) n.audioTracks()
                            .addTrack(t.AUDIO.tracks[l])
                    }, Tp = void 0,
                    kp = ["mediaRequests", "mediaRequestsAborted", "mediaRequestsTimedout", "mediaRequestsErrored", "mediaTransferDuration", "mediaBytesTransferred"],
                    Sp = function(e) {
                        return this.audioSegmentLoader_[e] + this.mainSegmentLoader_[e]
                    }, jp = function(e) {
                        function t(e) {
                            ad(this, t);
                            var i, n = cd(this, (t.__proto__ || Object.getPrototypeOf(t))
                                .call(this)),
                                r = e.url,
                                s = e.handleManifestRedirects,
                                a = e.withCredentials,
                                o = e.tech,
                                l = e.bandwidth,
                                u = e.externHls,
                                c = e.useCueTags,
                                d = e.blacklistDuration,
                                h = e.enableLowInitialPlaylist,
                                p = e.sourceType,
                                f = e.seekTo,
                                m = e.cacheEncryptionKeys;
                            if (!r) throw new Error("A non-empty playlist URL is required");
                            Tp = u, n.withCredentials = a, n.tech_ = o, n.hls_ = o.hls, n.seekTo_ = f, n.sourceType_ = p, n.useCueTags_ = c, n.blacklistDuration = d, n.enableLowInitialPlaylist = h, n.useCueTags_ && (n.cueTagsTrack_ = n.tech_.addTextTrack("metadata", "ad-cues"), n.cueTagsTrack_.inBandMetadataTrackDispatchType = ""), n.requestOptions_ = {
                                withCredentials: a,
                                handleManifestRedirects: s,
                                timeout: null
                            }, n.mediaTypes_ = (i = {}, ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach((function(e) {
                                i[e] = {
                                    groups: {},
                                    tracks: {},
                                    activePlaylistLoader: null,
                                    activeGroup: Hh,
                                    activeTrack: Hh,
                                    onGroupChanged: Hh,
                                    onTrackChanged: Hh
                                }
                            })), i), n.mediaSource = new td.MediaSource, n.mediaSource.addEventListener("sourceopen", n.handleSourceOpen_.bind(n)), n.seekable_ = td.createTimeRanges(), n.hasPlayed_ = function() {
                                return !1
                            }, n.syncController_ = new dp(e), n.segmentMetadataTrack_ = o.addRemoteTextTrack({
                                kind: "metadata",
                                label: "segment-metadata"
                            }, !1)
                                .track, n.decrypter_ = new hp, n.inbandTextTracks_ = {};
                            var v = {
                                hls: n.hls_,
                                mediaSource: n.mediaSource,
                                currentTime: n.tech_.currentTime.bind(n.tech_),
                                seekable: function() {
                                    return n.seekable()
                                },
                                seeking: function() {
                                    return n.tech_.seeking()
                                },
                                duration: function() {
                                    return n.mediaSource.duration
                                },
                                hasPlayed: function() {
                                    return n.hasPlayed_()
                                },
                                goalBufferLength: function() {
                                    return n.goalBufferLength()
                                },
                                bandwidth: l,
                                syncController: n.syncController_,
                                decrypter: n.decrypter_,
                                sourceType: n.sourceType_,
                                inbandTextTracks: n.inbandTextTracks_,
                                cacheEncryptionKeys: m
                            };
                            return n.masterPlaylistLoader_ = "dash" === n.sourceType_ ? new Fh(r, n.hls_, n.requestOptions_) : new bd(r, n.hls_, n.requestOptions_), n.setupMasterPlaylistLoaderListeners_(), n.mainSegmentLoader_ = new rp(td.mergeOptions(v, {
                                segmentMetadataTrack: n.segmentMetadataTrack_,
                                loaderType: "main"
                            }), e), n.audioSegmentLoader_ = new rp(td.mergeOptions(v, {
                                loaderType: "audio"
                            }), e), n.subtitleSegmentLoader_ = new op(td.mergeOptions(v, {
                                loaderType: "vtt"
                            }), e), n.setupSegmentLoaderListeners_(), kp.forEach((function(e) {
                                n[e + "_"] = Sp.bind(n, e)
                            })), n.logger_ = Vh("MPC"), n.masterPlaylistLoader_.load(), n
                        }
                        return ud(t, e), od(t, [{
                            key: "setupMasterPlaylistLoaderListeners_",
                            value: function() {
                                var e = this;
                                this.masterPlaylistLoader_.on("loadedmetadata", (function() {
                                    var t = e.masterPlaylistLoader_.media(),
                                        i = 1.5 * t.targetDuration * 1e3;
                                    Ud(e.masterPlaylistLoader_.master, e.masterPlaylistLoader_.media()) ? e.requestOptions_.timeout = 0 : e.requestOptions_.timeout = i, t.endList && "none" !== e.tech_.preload() && (e.mainSegmentLoader_.playlist(t, e.requestOptions_), e.mainSegmentLoader_.load()), bp({
                                        sourceType: e.sourceType_,
                                        segmentLoaders: {
                                            AUDIO: e.audioSegmentLoader_,
                                            SUBTITLES: e.subtitleSegmentLoader_,
                                            main: e.mainSegmentLoader_
                                        },
                                        tech: e.tech_,
                                        requestOptions: e.requestOptions_,
                                        masterPlaylistLoader: e.masterPlaylistLoader_,
                                        hls: e.hls_,
                                        master: e.master(),
                                        mediaTypes: e.mediaTypes_,
                                        blacklistCurrentPlaylist: e.blacklistCurrentPlaylist.bind(e)
                                    }), e.triggerPresenceUsage_(e.master(), t);
                                    try {
                                        e.setupSourceBuffers_()
                                    } catch (sf) {
                                        return td.log.warn("Failed to create SourceBuffers", sf), e.mediaSource.endOfStream("decode")
                                    }
                                    e.setupFirstPlay(), !e.mediaTypes_.AUDIO.activePlaylistLoader || e.mediaTypes_.AUDIO.activePlaylistLoader.media() ? e.trigger("selectedinitialmedia") : e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata", (function() {
                                        e.trigger("selectedinitialmedia")
                                    }))
                                })), this.masterPlaylistLoader_.on("loadedplaylist", (function() {
                                    var t = e.masterPlaylistLoader_.media();
                                    if (!t) {
                                        e.excludeUnsupportedVariants_();
                                        var i = void 0;
                                        return e.enableLowInitialPlaylist && (i = e.selectInitialPlaylist()), i || (i = e.selectPlaylist()), e.initialMedia_ = i, void e.masterPlaylistLoader_.media(e.initialMedia_)
                                    }
                                    if (e.useCueTags_ && e.updateAdCues_(t), e.mainSegmentLoader_.playlist(t, e.requestOptions_), e.updateDuration(), e.tech_.paused() || (e.mainSegmentLoader_.load(), e.audioSegmentLoader_ && e.audioSegmentLoader_.load()), !t.endList) {
                                        var n = function() {
                                            var t = e.seekable();
                                            0 !== t.length && e.mediaSource.addSeekableRange_(t.start(0), t.end(0))
                                        };
                                        if (e.duration() !== 1 / 0) {
                                            e.tech_.one("durationchange", (function t() {
                                                e.duration() === 1 / 0 ? n() : e.tech_.one("durationchange", t)
                                            }))
                                        } else n()
                                    }
                                })), this.masterPlaylistLoader_.on("error", (function() {
                                    e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)
                                })), this.masterPlaylistLoader_.on("mediachanging", (function() {
                                    e.mainSegmentLoader_.abort(), e.mainSegmentLoader_.pause()
                                })), this.masterPlaylistLoader_.on("mediachange", (function() {
                                    var t = e.masterPlaylistLoader_.media(),
                                        i = 1.5 * t.targetDuration * 1e3;
                                    Ud(e.masterPlaylistLoader_.master, e.masterPlaylistLoader_.media()) ? e.requestOptions_.timeout = 0 : e.requestOptions_.timeout = i, e.mainSegmentLoader_.playlist(t, e.requestOptions_), e.mainSegmentLoader_.load(), e.tech_.trigger({
                                        type: "mediachange",
                                        bubbles: !0
                                    })
                                })), this.masterPlaylistLoader_.on("playlistunchanged", (function() {
                                    var t = e.masterPlaylistLoader_.media();
                                    e.stuckAtPlaylistEnd_(t) && (e.blacklistCurrentPlaylist({
                                        message: "Playlist no longer updating."
                                    }), e.tech_.trigger("playliststuck"))
                                })), this.masterPlaylistLoader_.on("renditiondisabled", (function() {
                                    e.tech_.trigger({
                                        type: "usage",
                                        name: "hls-rendition-disabled"
                                    })
                                })), this.masterPlaylistLoader_.on("renditionenabled", (function() {
                                    e.tech_.trigger({
                                        type: "usage",
                                        name: "hls-rendition-enabled"
                                    })
                                }))
                            }
                        }, {
                            key: "triggerPresenceUsage_",
                            value: function(e, t) {
                                var i = e.mediaGroups || {}, n = !0,
                                    r = Object.keys(i.AUDIO);
                                for (var s in i.AUDIO) for (var a in i.AUDIO[s]) {
                                    i.AUDIO[s][a].uri || (n = !1)
                                }
                                n && this.tech_.trigger({
                                    type: "usage",
                                    name: "hls-demuxed"
                                }), Object.keys(i.SUBTITLES)
                                    .length && this.tech_.trigger({
                                    type: "usage",
                                    name: "hls-webvtt"
                                }), Tp.Playlist.isAes(t) && this.tech_.trigger({
                                    type: "usage",
                                    name: "hls-aes"
                                }), Tp.Playlist.isFmp4(t) && this.tech_.trigger({
                                    type: "usage",
                                    name: "hls-fmp4"
                                }), r.length && Object.keys(i.AUDIO[r[0]])
                                    .length > 1 && this.tech_.trigger({
                                    type: "usage",
                                    name: "hls-alternate-audio"
                                }), this.useCueTags_ && this.tech_.trigger({
                                    type: "usage",
                                    name: "hls-playlist-cue-tags"
                                })
                            }
                        }, {
                            key: "setupSegmentLoaderListeners_",
                            value: function() {
                                var e = this;
                                this.mainSegmentLoader_.on("bandwidthupdate", (function() {
                                    var t = e.selectPlaylist(),
                                        i = e.masterPlaylistLoader_.media(),
                                        n = e.tech_.buffered(),
                                        r = n.length ? n.end(n.length - 1) - e.tech_.currentTime() : 0,
                                        s = e.bufferLowWaterLine();
                                    (!i.endList || e.duration() < zh.MAX_BUFFER_LOW_WATER_LINE || t.attributes.BANDWIDTH < i.attributes.BANDWIDTH || r >= s) && e.masterPlaylistLoader_.media(t), e.tech_.trigger("bandwidthupdate")
                                })), this.mainSegmentLoader_.on("progress", (function() {
                                    e.trigger("progress")
                                })), this.mainSegmentLoader_.on("error", (function() {
                                    e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())
                                })), this.mainSegmentLoader_.on("syncinfoupdate", (function() {
                                    e.onSyncInfoUpdate_()
                                })), this.mainSegmentLoader_.on("timestampoffset", (function() {
                                    e.tech_.trigger({
                                        type: "usage",
                                        name: "hls-timestamp-offset"
                                    })
                                })), this.audioSegmentLoader_.on("syncinfoupdate", (function() {
                                    e.onSyncInfoUpdate_()
                                })), this.mainSegmentLoader_.on("ended", (function() {
                                    e.onEndOfStream()
                                })), this.mainSegmentLoader_.on("earlyabort", (function() {
                                    e.blacklistCurrentPlaylist({
                                        message: "Aborted early because there isn't enough bandwidth to complete the request without rebuffering."
                                    }, 120)
                                })), this.mainSegmentLoader_.on("reseteverything", (function() {
                                    e.tech_.trigger("hls-reset")
                                })), this.mainSegmentLoader_.on("segmenttimemapping", (function(t) {
                                    e.tech_.trigger({
                                        type: "hls-segment-time-mapping",
                                        mapping: t.mapping
                                    })
                                })), this.audioSegmentLoader_.on("ended", (function() {
                                    e.onEndOfStream()
                                }))
                            }
                        }, {
                            key: "mediaSecondsLoaded_",
                            value: function() {
                                return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded + this.mainSegmentLoader_.mediaSecondsLoaded)
                            }
                        }, {
                            key: "load",
                            value: function() {
                                this.mainSegmentLoader_.load(), this.mediaTypes_.AUDIO.activePlaylistLoader && this.audioSegmentLoader_.load(), this.mediaTypes_.SUBTITLES.activePlaylistLoader && this.subtitleSegmentLoader_.load()
                            }
                        }, {
                            key: "smoothQualityChange_",
                            value: function() {
                                var e = this.selectPlaylist();
                                e !== this.masterPlaylistLoader_.media() && (this.masterPlaylistLoader_.media(e), this.mainSegmentLoader_.resetLoader())
                            }
                        }, {
                            key: "fastQualityChange_",
                            value: function() {
                                var e = this,
                                    t = this.selectPlaylist();
                                t !== this.masterPlaylistLoader_.media() && (this.masterPlaylistLoader_.media(t), this.mainSegmentLoader_.resetEverything((function() {
                                    td.browser.IE_VERSION || td.browser.IS_EDGE ? e.tech_.setCurrentTime(e.tech_.currentTime() + .04) : e.tech_.setCurrentTime(e.tech_.currentTime())
                                })))
                            }
                        }, {
                            key: "play",
                            value: function() {
                                if (!this.setupFirstPlay()) {
                                    this.tech_.ended() && this.seekTo_(0), this.hasPlayed_() && this.load();
                                    var e = this.tech_.seekable();
                                    return this.tech_.duration() === 1 / 0 && this.tech_.currentTime() < e.start(0) ? this.seekTo_(e.end(e.length - 1)) : void 0
                                }
                            }
                        }, {
                            key: "setupFirstPlay",
                            value: function() {
                                var e = this,
                                    t = this.masterPlaylistLoader_.media();
                                if (!t || this.tech_.paused() || this.hasPlayed_()) return !1;
                                if (!t.endList) {
                                    var i = this.seekable();
                                    if (!i.length) return !1;
                                    if (td.browser.IE_VERSION && 0 === this.tech_.readyState()) return this.tech_.one("loadedmetadata", (function() {
                                        e.trigger("firstplay"), e.seekTo_(i.end(0)), e.hasPlayed_ = function() {
                                            return !0
                                        }
                                    })), !1;
                                    this.trigger("firstplay"), this.seekTo_(i.end(0))
                                }
                                return this.hasPlayed_ = function() {
                                    return !0
                                }, this.load(), !0
                            }
                        }, {
                            key: "handleSourceOpen_",
                            value: function() {
                                try {
                                    this.setupSourceBuffers_()
                                } catch (sf) {
                                    return td.log.warn("Failed to create Source Buffers", sf), this.mediaSource.endOfStream("decode")
                                }
                                if (this.tech_.autoplay()) {
                                    var e = this.tech_.play();
                                    void 0 !== e && "function" == typeof e.then && e.then(null, (function(e) {}))
                                }
                                this.trigger("sourceopen")
                            }
                        }, {
                            key: "onEndOfStream",
                            value: function() {
                                var e = this.mainSegmentLoader_.ended_;
                                if (this.mediaTypes_.AUDIO.activePlaylistLoader && (e = !this.mainSegmentLoader_.startingMedia_ || this.mainSegmentLoader_.startingMedia_.containsVideo ? e && this.audioSegmentLoader_.ended_ : this.audioSegmentLoader_.ended_), e) {
                                    this.logger_("calling mediaSource.endOfStream()");
                                    try {
                                        this.mediaSource.endOfStream()
                                    } catch (sf) {
                                        td.log.warn("Failed to call media source endOfStream", sf)
                                    }
                                }
                            }
                        }, {
                            key: "stuckAtPlaylistEnd_",
                            value: function(e) {
                                if (!this.seekable()
                                    .length) return !1;
                                var t = this.syncController_.getExpiredTime(e, this.mediaSource.duration);
                                if (null === t) return !1;
                                var i = Tp.Playlist.playlistEnd(e, t),
                                    n = this.tech_.currentTime(),
                                    r = this.tech_.buffered();
                                if (!r.length) return i - n <= Zd;
                                var s = r.end(r.length - 1);
                                return s - n <= Zd && i - s <= Zd
                            }
                        }, {
                            key: "blacklistCurrentPlaylist",
                            value: function() {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = arguments[1],
                                    i = void 0,
                                    n = void 0;
                                if (i = e.playlist || this.masterPlaylistLoader_.media(), t = t || e.blacklistDuration || this.blacklistDuration, !i) {
                                    this.error = e;
                                    try {
                                        return this.mediaSource.endOfStream("network")
                                    } catch (sf) {
                                        return this.trigger("error")
                                    }
                                }
                                var r = 1 === this.masterPlaylistLoader_.master.playlists.filter(Od)
                                    .length,
                                    s = this.masterPlaylistLoader_.master.playlists;
                                return 1 === s.length ? (td.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."), this.tech_.trigger("retryplaylist"), this.masterPlaylistLoader_.load(r)) : (r && (td.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."), s.forEach((function(e) {
                                    e.excludeUntil !== 1 / 0 && delete e.excludeUntil
                                })), this.tech_.trigger("retryplaylist")), i.excludeUntil = Date.now() + 1e3 * t, this.tech_.trigger("blacklistplaylist"), this.tech_.trigger({
                                    type: "usage",
                                    name: "hls-rendition-blacklisted"
                                }), n = this.selectPlaylist(), td.log.warn("Problem encountered with the current HLS playlist." + (e.message ? " " + e.message : "") + " Switching to another playlist."), this.masterPlaylistLoader_.media(n, r))
                            }
                        }, {
                            key: "pauseLoading",
                            value: function() {
                                this.mainSegmentLoader_.pause(), this.mediaTypes_.AUDIO.activePlaylistLoader && this.audioSegmentLoader_.pause(), this.mediaTypes_.SUBTITLES.activePlaylistLoader && this.subtitleSegmentLoader_.pause()
                            }
                        }, {
                            key: "setCurrentTime",
                            value: function(e) {
                                var t = eh(this.tech_.buffered(), e);
                                return this.masterPlaylistLoader_ && this.masterPlaylistLoader_.media() && this.masterPlaylistLoader_.media()
                                    .segments ? t && t.length ? e : (this.mainSegmentLoader_.resetEverything(), this.mainSegmentLoader_.abort(), this.mediaTypes_.AUDIO.activePlaylistLoader && (this.audioSegmentLoader_.resetEverything(), this.audioSegmentLoader_.abort()), this.mediaTypes_.SUBTITLES.activePlaylistLoader && (this.subtitleSegmentLoader_.resetEverything(), this.subtitleSegmentLoader_.abort()), void this.load()) : 0
                            }
                        }, {
                            key: "duration",
                            value: function() {
                                return this.masterPlaylistLoader_ ? this.mediaSource ? this.mediaSource.duration : Tp.Playlist.duration(this.masterPlaylistLoader_.media()) : 0
                            }
                        }, {
                            key: "seekable",
                            value: function() {
                                return this.seekable_
                            }
                        }, {
                            key: "onSyncInfoUpdate_",
                            value: function() {
                                var e = void 0,
                                    t = void 0;
                                if (this.masterPlaylistLoader_) {
                                    var i = this.masterPlaylistLoader_.media();
                                    if (i) {
                                        var n = this.syncController_.getExpiredTime(i, this.mediaSource.duration);
                                        if (null !== n && 0 !== (e = Tp.Playlist.seekable(i, n))
                                            .length) {
                                            if (this.mediaTypes_.AUDIO.activePlaylistLoader) {
                                                if (i = this.mediaTypes_.AUDIO.activePlaylistLoader.media(), null === (n = this.syncController_.getExpiredTime(i, this.mediaSource.duration))) return;
                                                if (0 === (t = Tp.Playlist.seekable(i, n))
                                                    .length) return
                                            }
                                            var r = void 0,
                                                s = void 0;
                                            this.seekable_ && this.seekable_.length && (r = this.seekable_.end(0), s = this.seekable_.start(0)), t ? t.start(0) > e.end(0) || e.start(0) > t.end(0) ? this.seekable_ = e : this.seekable_ = td.createTimeRanges([
                                                [t.start(0) > e.start(0) ? t.start(0) : e.start(0), t.end(0) < e.end(0) ? t.end(0) : e.end(0)]
                                            ]) : this.seekable_ = e, this.seekable_ && this.seekable_.length && this.seekable_.end(0) === r && this.seekable_.start(0) === s || (this.logger_("seekable updated [" + ih(this.seekable_) + "]"), this.tech_.trigger("seekablechanged"))
                                        }
                                    }
                                }
                            }
                        }, {
                            key: "updateDuration",
                            value: function() {
                                var e = this,
                                    t = this.mediaSource.duration,
                                    i = Tp.Playlist.duration(this.masterPlaylistLoader_.media()),
                                    n = this.tech_.buffered(),
                                    r = function t() {
                                        e.logger_("Setting duration from " + e.mediaSource.duration + " => " + i);
                                        try {
                                            e.mediaSource.duration = i
                                        } catch (sf) {
                                            td.log.warn("Failed to set media source duration", sf)
                                        }
                                        e.tech_.trigger("durationchange"), e.mediaSource.removeEventListener("sourceopen", t)
                                    };
                                n.length > 0 && (i = Math.max(i, n.end(n.length - 1))), t !== i && ("open" !== this.mediaSource.readyState ? this.mediaSource.addEventListener("sourceopen", r) : r())
                            }
                        }, {
                            key: "dispose",
                            value: function() {
                                var e = this;
                                this.decrypter_.terminate(), this.masterPlaylistLoader_.dispose(), this.mainSegmentLoader_.dispose(), ["AUDIO", "SUBTITLES"].forEach((function(t) {
                                    var i = e.mediaTypes_[t].groups;
                                    for (var n in i) i[n].forEach((function(e) {
                                        e.playlistLoader && e.playlistLoader.dispose()
                                    }))
                                })), this.audioSegmentLoader_.dispose(), this.subtitleSegmentLoader_.dispose()
                            }
                        }, {
                            key: "master",
                            value: function() {
                                return this.masterPlaylistLoader_.master
                            }
                        }, {
                            key: "media",
                            value: function() {
                                return this.masterPlaylistLoader_.media() || this.initialMedia_
                            }
                        }, {
                            key: "setupSourceBuffers_",
                            value: function() {
                                var e, t = this.masterPlaylistLoader_.media();
                                if (t && "open" === this.mediaSource.readyState) {
                                    if ((e = kh(this.masterPlaylistLoader_.master, t))
                                        .length < 1) return this.error = "No compatible SourceBuffer configuration for the variant stream:" + t.resolvedUri, this.mediaSource.endOfStream("decode");
                                    this.configureLoaderMimeTypes_(e), this.excludeIncompatibleVariants_(t)
                                }
                            }
                        }, {
                            key: "configureLoaderMimeTypes_",
                            value: function(e) {
                                var t = e.length > 1 && -1 === e[0].indexOf(",") && e[0] !== e[1] ? new td.EventTarget : null;
                                this.mainSegmentLoader_.mimeType(e[0], t), e[1] && this.audioSegmentLoader_.mimeType(e[1], t)
                            }
                        }, {
                            key: "excludeUnsupportedVariants_",
                            value: function() {
                                this.master()
                                    .playlists.forEach((function(e) {
                                    var t;
                                    e.attributes.CODECS && Ci.MediaSource && Ci.MediaSource.isTypeSupported && !Ci.MediaSource.isTypeSupported('video/mp4; codecs="' + (t = e.attributes.CODECS, t.replace(/avc1\.(\d+)\.(\d+)/i, (function(e) {
                                        return _h([e])[0]
                                    })) + '"')) && (e.excludeUntil = 1 / 0)
                                }))
                            }
                        }, {
                            key: "excludeIncompatibleVariants_",
                            value: function(e) {
                                var t = 2,
                                    i = null,
                                    n = void 0;
                                e.attributes.CODECS && (n = bh(e.attributes.CODECS), i = n.videoCodec, t = n.codecCount), this.master()
                                    .playlists.forEach((function(e) {
                                    var n = {
                                        codecCount: 2,
                                        videoCodec: null
                                    };
                                    e.attributes.CODECS && (n = bh(e.attributes.CODECS)), n.codecCount !== t && (e.excludeUntil = 1 / 0), n.videoCodec !== i && (e.excludeUntil = 1 / 0)
                                }))
                            }
                        }, {
                            key: "updateAdCues_",
                            value: function(e) {
                                var t = 0,
                                    i = this.seekable();
                                i.length && (t = i.start(0)),
                                function(e, t) {
                                    var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                                    if (e.segments) for (var n = i, r = void 0, s = 0; s < e.segments.length; s++) {
                                        var a = e.segments[s];
                                        if (r || (r = lp(t, n + a.duration / 2)), r) {
                                            if ("cueIn" in a) {
                                                r.endTime = n, r.adEndTime = n, n += a.duration, r = null;
                                                continue
                                            }
                                            if (n < r.endTime) {
                                                n += a.duration;
                                                continue
                                            }
                                            r.endTime += a.duration
                                        } else if ("cueOut" in a && ((r = new Ci.VTTCue(n, n + a.duration, a.cueOut))
                                            .adStartTime = n, r.adEndTime = n + parseFloat(a.cueOut), t.addCue(r)), "cueOutCont" in a) {
                                            var o = void 0,
                                                l = void 0,
                                                u = a.cueOutCont.split("/")
                                                    .map(parseFloat),
                                                c = dd(u, 2);
                                            o = c[0], l = c[1], (r = new Ci.VTTCue(n, n + a.duration, ""))
                                                .adStartTime = n - o, r.adEndTime = r.adStartTime + l, t.addCue(r)
                                        }
                                        n += a.duration
                                    }
                                }(e, this.cueTagsTrack_, t)
                            }
                        }, {
                            key: "goalBufferLength",
                            value: function() {
                                var e = this.tech_.currentTime(),
                                    t = zh.GOAL_BUFFER_LENGTH,
                                    i = zh.GOAL_BUFFER_LENGTH_RATE,
                                    n = Math.max(t, zh.MAX_GOAL_BUFFER_LENGTH);
                                return Math.min(t + e * i, n)
                            }
                        }, {
                            key: "bufferLowWaterLine",
                            value: function() {
                                var e = this.tech_.currentTime(),
                                    t = zh.BUFFER_LOW_WATER_LINE,
                                    i = zh.BUFFER_LOW_WATER_LINE_RATE,
                                    n = Math.max(t, zh.MAX_BUFFER_LOW_WATER_LINE);
                                return Math.min(t + e * i, n)
                            }
                        }]), t
                    }(td.EventTarget),
                    wp = function e(t, i, n) {
                        ad(this, e);
                        var r, s, a, o = t.masterPlaylistController_,
                            l = o[(t.options_.smoothQualityChange ? "smooth" : "fast") + "QualityChange_"].bind(o);
                        if (i.attributes.RESOLUTION) {
                            var u = i.attributes.RESOLUTION;
                            this.width = u.width, this.height = u.height
                        }
                        this.bandwidth = i.attributes.BANDWIDTH, this.id = n, this.enabled = (r = t.playlists, s = i.uri, a = l, function(e) {
                            var t = r.master.playlists[s],
                                i = Pd(t),
                                n = Od(t);
                            return void 0 === e ? n : (e ? delete t.disabled : t.disabled = !0, e === n || i || (a(), e ? r.trigger("renditionenabled") : r.trigger("renditiondisabled")), e)
                        })
                    }, Ap = ["seeking", "seeked", "pause", "playing", "error"],
                    Cp = function() {
                        function e(t) {
                            var i = this;
                            ad(this, e), this.tech_ = t.tech, this.seekable = t.seekable, this.seekTo = t.seekTo, this.allowSeeksWithinUnsafeLiveWindow = t.allowSeeksWithinUnsafeLiveWindow, this.media = t.media, this.consecutiveUpdates = 0, this.lastRecordedTime = null, this.timer_ = null, this.checkCurrentTimeTimeout_ = null, this.logger_ = Vh("PlaybackWatcher"), this.logger_("initialize");
                            var n = function() {
                                return i.monitorCurrentTime_()
                            }, r = function() {
                                return i.techWaiting_()
                            }, s = function() {
                                return i.cancelTimer_()
                            }, a = function() {
                                return i.fixesBadSeeks_()
                            };
                            this.tech_.on("seekablechanged", a), this.tech_.on("waiting", r), this.tech_.on(Ap, s), this.tech_.on("canplay", n), this.dispose = function() {
                                i.logger_("dispose"), i.tech_.off("seekablechanged", a), i.tech_.off("waiting", r), i.tech_.off(Ap, s), i.tech_.off("canplay", n), i.checkCurrentTimeTimeout_ && Ci.clearTimeout(i.checkCurrentTimeTimeout_), i.cancelTimer_()
                            }
                        }
                        return od(e, [{
                            key: "monitorCurrentTime_",
                            value: function() {
                                this.checkCurrentTime_(), this.checkCurrentTimeTimeout_ && Ci.clearTimeout(this.checkCurrentTimeTimeout_), this.checkCurrentTimeTimeout_ = Ci.setTimeout(this.monitorCurrentTime_.bind(this), 250)
                            }
                        }, {
                            key: "checkCurrentTime_",
                            value: function() {
                                if (this.tech_.seeking() && this.fixesBadSeeks_()) return this.consecutiveUpdates = 0, void(this.lastRecordedTime = this.tech_.currentTime());
                                if (!this.tech_.paused() && !this.tech_.seeking()) {
                                    var e = this.tech_.currentTime(),
                                        t = this.tech_.buffered();
                                    if (this.lastRecordedTime === e && (!t.length || e + Zd >= t.end(t.length - 1))) return this.techWaiting_();
                                    this.consecutiveUpdates >= 5 && e === this.lastRecordedTime ? (this.consecutiveUpdates++, this.waiting_()) : e === this.lastRecordedTime ? this.consecutiveUpdates++ : (this.consecutiveUpdates = 0, this.lastRecordedTime = e)
                                }
                            }
                        }, {
                            key: "cancelTimer_",
                            value: function() {
                                this.consecutiveUpdates = 0, this.timer_ && (this.logger_("cancelTimer_"), clearTimeout(this.timer_)), this.timer_ = null
                            }
                        }, {
                            key: "fixesBadSeeks_",
                            value: function() {
                                if (!this.tech_.seeking()) return !1;
                                var e = this.seekable(),
                                    t = this.tech_.currentTime(),
                                    i = void 0;
                                this.afterSeekableWindow_(e, t, this.media(), this.allowSeeksWithinUnsafeLiveWindow) && (i = e.end(e.length - 1));
                                this.beforeSeekableWindow_(e, t) && (i = e.start(0) + Zd);
                                return void 0 !== i && (this.logger_("Trying to seek outside of seekable at time " + t + " with seekable range " + ih(e) + ". Seeking to " + i + "."), this.seekTo(i), !0)
                            }
                        }, {
                            key: "waiting_",
                            value: function() {
                                if (!this.techWaiting_()) {
                                    var e = this.tech_.currentTime(),
                                        t = this.tech_.buffered(),
                                        i = eh(t, e);
                                    return i.length && e + 3 <= i.end(0) ? (this.cancelTimer_(), this.seekTo(e), this.logger_("Stopped at " + e + " while inside a buffered region [" + i.start(0) + " -> " + i.end(0) + "]. Attempting to resume playback by seeking to the current time."), void this.tech_.trigger({
                                        type: "usage",
                                        name: "hls-unknown-waiting"
                                    })) : void 0
                                }
                            }
                        }, {
                            key: "techWaiting_",
                            value: function() {
                                var e = this.seekable(),
                                    t = this.tech_.currentTime();
                                if (this.tech_.seeking() && this.fixesBadSeeks_()) return !0;
                                if (this.tech_.seeking() || null !== this.timer_) return !0;
                                if (this.beforeSeekableWindow_(e, t)) {
                                    var i = e.end(e.length - 1);
                                    return this.logger_("Fell out of live window at time " + t + ". Seeking to live point (seekable end) " + i), this.cancelTimer_(), this.seekTo(i), this.tech_.trigger({
                                        type: "usage",
                                        name: "hls-live-resync"
                                    }), !0
                                }
                                var n = this.tech_.buffered(),
                                    r = th(n, t);
                                if (this.videoUnderflow_(r, n, t)) return this.cancelTimer_(), this.seekTo(t), this.tech_.trigger({
                                    type: "usage",
                                    name: "hls-video-underflow"
                                }), !0;
                                if (r.length > 0) {
                                    var s = r.start(0) - t;
                                    return this.logger_("Stopped at " + t + ", setting timer for " + s + ", seeking to " + r.start(0)), this.timer_ = setTimeout(this.skipTheGap_.bind(this), 1e3 * s, t), !0
                                }
                                return !1
                            }
                        }, {
                            key: "afterSeekableWindow_",
                            value: function(e, t, i) {
                                var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                                if (!e.length) return !1;
                                var r = e.end(e.length - 1) + Zd,
                                    s = !i.endList;
                                return s && n && (r = e.end(e.length - 1) + 3 * i.targetDuration), t > r
                            }
                        }, {
                            key: "beforeSeekableWindow_",
                            value: function(e, t) {
                                return !!(e.length && e.start(0) > 0 && t < e.start(0) - Zd)
                            }
                        }, {
                            key: "videoUnderflow_",
                            value: function(e, t, i) {
                                if (0 === e.length) {
                                    var n = this.gapFromVideoUnderflow_(t, i);
                                    if (n) return this.logger_("Encountered a gap in video from " + n.start + " to " + n.end + ". Seeking to current time " + i), !0
                                }
                                return !1
                            }
                        }, {
                            key: "skipTheGap_",
                            value: function(e) {
                                var t = this.tech_.buffered(),
                                    i = this.tech_.currentTime(),
                                    n = th(t, i);
                                this.cancelTimer_(), 0 !== n.length && i === e && (this.logger_("skipTheGap_:", "currentTime:", i, "scheduled currentTime:", e, "nextRange start:", n.start(0)), this.seekTo(n.start(0) + Jd), this.tech_.trigger({
                                    type: "usage",
                                    name: "hls-gap-skip"
                                }))
                            }
                        }, {
                            key: "gapFromVideoUnderflow_",
                            value: function(e, t) {
                                for (var i = function(e) {
                                    if (e.length < 2) return td.createTimeRanges();
                                    for (var t = [], i = 1; i < e.length; i++) {
                                        var n = e.end(i - 1),
                                            r = e.start(i);
                                        t.push([n, r])
                                    }
                                    return td.createTimeRanges(t)
                                }(e), n = 0; n < i.length; n++) {
                                    var r = i.start(n),
                                        s = i.end(n);
                                    if (t - r < 4 && t - r > 2) return {
                                        start: r,
                                        end: s
                                    }
                                }
                                return null
                            }
                        }]), e
                    }(),
                    Ep = {
                        errorInterval: 30,
                        getSource: function(e) {
                            return e(this.tech({
                                IWillNotUseThisInPlugins: !0
                            })
                                .currentSource_)
                        }
                    }, xp = function e(t, i) {
                        var n = 0,
                            r = 0,
                            s = td.mergeOptions(Ep, i);
                        t.ready((function() {
                            t.trigger({
                                type: "usage",
                                name: "hls-error-reload-initialized"
                            })
                        }));
                        var a = function() {
                            r && t.currentTime(r)
                        }, o = function(e) {
                            null != e && (r = t.duration() !== 1 / 0 && t.currentTime() || 0, t.one("loadedmetadata", a), t.src(e), t.trigger({
                                type: "usage",
                                name: "hls-error-reload"
                            }), t.play())
                        }, l = function() {
                            if (Date.now() - n < 1e3 * s.errorInterval) t.trigger({
                                type: "usage",
                                name: "hls-error-reload-canceled"
                            });
                            else {
                                if (s.getSource && "function" == typeof s.getSource) return n = Date.now(), s.getSource.call(t, o);
                                td.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")
                            }
                        }, u = function e() {
                            t.off("loadedmetadata", a), t.off("error", l), t.off("dispose", e)
                        };
                        t.on("error", l), t.on("dispose", u), t.reloadSourceOnError = function(i) {
                            u(), e(t, i)
                        }
                    }, Ip = function(e) {
                        xp(this, e)
                    };
                td.use("*", (function(e) {
                    return {
                        setSource: function(e, t) {
                            t(null, e)
                        },
                        setCurrentTime: function(t) {
                            return e.vhs && e.currentSource()
                                .src === e.vhs.source_.src && e.vhs.setCurrentTime(t), t
                        },
                        play: function() {
                            e.vhs && e.currentSource()
                                .src === e.vhs.source_.src && e.vhs.setCurrentTime(e.tech_.currentTime())
                        }
                    }
                }));
                var Lp = {
                    PlaylistLoader: bd,
                    Playlist: Rd,
                    Decrypter: Ks,
                    AsyncStream: Gs,
                    decrypt: Xs,
                    utils: Xd,
                    STANDARD_PLAYLIST_SELECTOR: function() {
                        return function(e, t, i, n, r) {
                            var s = e.playlists.map((function(e) {
                                var t, i;
                                return t = e.attributes.RESOLUTION && e.attributes.RESOLUTION.width, i = e.attributes.RESOLUTION && e.attributes.RESOLUTION.height, {
                                    bandwidth: e.attributes.BANDWIDTH || Ci.Number.MAX_VALUE,
                                    width: t,
                                    height: i,
                                    playlist: e
                                }
                            }));
                            ep(s, (function(e, t) {
                                return e.bandwidth - t.bandwidth
                            }));
                            var a = (s = s.filter((function(e) {
                                return !Rd.isIncompatible(e.playlist)
                            })))
                                .filter((function(e) {
                                return Rd.isEnabled(e.playlist)
                            }));
                            a.length || (a = s.filter((function(e) {
                                return !Rd.isDisabled(e.playlist)
                            })));
                            var o = a.filter((function(e) {
                                return e.bandwidth * zh.BANDWIDTH_VARIANCE < t
                            })),
                                l = o[o.length - 1],
                                u = o.filter((function(e) {
                                    return e.bandwidth === l.bandwidth
                                }))[0];
                            if (!1 === r) {
                                var c = u || a[0] || s[0];
                                return c ? c.playlist : null
                            }
                            var d = o.filter((function(e) {
                                return e.width && e.height
                            }));
                            ep(d, (function(e, t) {
                                return e.width - t.width
                            }));
                            var h = d.filter((function(e) {
                                return e.width === i && e.height === n
                            }));
                            l = h[h.length - 1];
                            var p = h.filter((function(e) {
                                return e.bandwidth === l.bandwidth
                            }))[0],
                                f = void 0,
                                m = void 0,
                                v = void 0;
                            p || (m = (f = d.filter((function(e) {
                                return e.width > i || e.height > n
                            })))
                                .filter((function(e) {
                                return e.width === f[0].width && e.height === f[0].height
                            })), l = m[m.length - 1], v = m.filter((function(e) {
                                return e.bandwidth === l.bandwidth
                            }))[0]);
                            var g = v || p || u || a[0] || s[0];
                            return g ? g.playlist : null
                        }(this.playlists.master, this.systemBandwidth, parseInt($h(this.tech_.el(), "width"), 10), parseInt($h(this.tech_.el(), "height"), 10), this.limitRenditionByPlayerDimensions)
                    },
                    INITIAL_PLAYLIST_SELECTOR: function() {
                        var e = this.playlists.master.playlists.filter(Rd.isEnabled);
                        return ep(e, (function(e, t) {
                            return tp(e, t)
                        })), e.filter((function(e) {
                            return bh(e.attributes.CODECS)
                                .videoCodec
                        }))[0] || null
                    },
                    comparePlaylistBandwidth: tp,
                    comparePlaylistResolution: function(e, t) {
                        var i = void 0,
                            n = void 0;
                        return e.attributes.RESOLUTION && e.attributes.RESOLUTION.width && (i = e.attributes.RESOLUTION.width), i = i || Ci.Number.MAX_VALUE, t.attributes.RESOLUTION && t.attributes.RESOLUTION.width && (n = t.attributes.RESOLUTION.width), i === (n = n || Ci.Number.MAX_VALUE) && e.attributes.BANDWIDTH && t.attributes.BANDWIDTH ? e.attributes.BANDWIDTH - t.attributes.BANDWIDTH : i - n
                    },
                    xhr: Nd()
                };
                ["GOAL_BUFFER_LENGTH", "MAX_GOAL_BUFFER_LENGTH", "GOAL_BUFFER_LENGTH_RATE", "BUFFER_LOW_WATER_LINE", "MAX_BUFFER_LOW_WATER_LINE", "BUFFER_LOW_WATER_LINE_RATE", "BANDWIDTH_VARIANCE"].forEach((function(e) {
                    Object.defineProperty(Lp, e, {
                        get: function() {
                            return td.log.warn("using Hls." + e + " is UNSAFE be sure you know what you are doing"), zh[e]
                        },
                        set: function(t) {
                            td.log.warn("using Hls." + e + " is UNSAFE be sure you know what you are doing"), "number" != typeof t || t < 0 ? td.log.warn("value of Hls." + e + " must be greater than or equal to 0") : zh[e] = t
                        }
                    })
                }));
                var Pp = "videojs-vhs",
                    Op = function(e) {
                        if (/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e)) return "hls";
                        return /^application\/dash\+xml/i.test(e) ? "dash" : null
                    }, Dp = function(e, t) {
                        for (var i = t.media(), n = -1, r = 0; r < e.length; r++) if (e[r].id === i.uri) {
                            n = r;
                            break
                        }
                        e.selectedIndex_ = n, e.trigger({
                            selectedIndex: n,
                            type: "change"
                        })
                    };
                Lp.canPlaySource = function() {
                    return td.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")
                };
                var Up = function(e) {
                    if ("dash" === e.options_.sourceType) {
                        var t = td.players[e.tech_.options_.playerId];
                        if (t.eme) {
                            var i = function(e, t, i) {
                                if (!e) return e;
                                var n = {};
                                for (var r in e) n[r] = {
                                    audioContentType: 'audio/mp4; codecs="' + i.attributes.CODECS + '"',
                                    videoContentType: 'video/mp4; codecs="' + t.attributes.CODECS + '"'
                                }, t.contentProtection && t.contentProtection[r] && t.contentProtection[r].pssh && (n[r].pssh = t.contentProtection[r].pssh), "string" == typeof e[r] && (n[r].url = e[r]);
                                return td.mergeOptions(e, n)
                            }(e.source_.keySystems, e.playlists.media(), e.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());
                            i && (t.currentSource()
                                .keySystems = i, t.eme.initializeMediaKeys && t.eme.initializeMediaKeys())
                        }
                    }
                }, Rp = function() {
                    if (!window.localStorage) return null;
                    var e = window.localStorage.getItem(Pp);
                    if (!e) return null;
                    try {
                        return JSON.parse(e)
                    } catch (sf) {
                        return null
                    }
                };
                Lp.supportsNativeHls = function() {
                    var e = Ii.createElement("video");
                    if (!td.getTech("Html5")
                        .isSupported()) return !1;
                    return ["application/vnd.apple.mpegurl", "audio/mpegurl", "audio/x-mpegurl", "application/x-mpegurl", "video/x-mpegurl", "video/mpegurl", "application/mpegurl"].some((function(t) {
                        return /maybe|probably/i.test(e.canPlayType(t))
                    }))
                }(), Lp.supportsNativeDash = !! td.getTech("Html5")
                    .isSupported() && /maybe|probably/i.test(Ii.createElement("video")
                    .canPlayType("application/dash+xml")), Lp.supportsTypeNatively = function(e) {
                    return "hls" === e ? Lp.supportsNativeHls : "dash" === e && Lp.supportsNativeDash
                }, Lp.isSupported = function() {
                    return td.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")
                };
                var Mp = function(e) {
                    function t(e, i, n) {
                        ad(this, t);
                        var r = cd(this, (t.__proto__ || Object.getPrototypeOf(t))
                            .call(this, i, n.hls));
                        if (i.options_ && i.options_.playerId) {
                            var s = td(i.options_.playerId);
                            s.hasOwnProperty("hls") || Object.defineProperty(s, "hls", {
                                get: function() {
                                    return td.log.warn("player.hls is deprecated. Use player.tech().hls instead."), i.trigger({
                                        type: "usage",
                                        name: "hls-player-access"
                                    }), r
                                },
                                configurable: !0
                            }), s.vhs = r, s.dash = r, r.player_ = s
                        }
                        if (r.tech_ = i, r.source_ = e, r.stats = {}, r.setOptions_(), r.options_.overrideNative && i.overrideNativeAudioTracks && i.overrideNativeVideoTracks) i.overrideNativeAudioTracks(!0), i.overrideNativeVideoTracks(!0);
                        else if (r.options_.overrideNative && (i.featuresNativeVideoTracks || i.featuresNativeAudioTracks)) throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");
                        return r.on(Ii, ["fullscreenchange", "webkitfullscreenchange", "mozfullscreenchange", "MSFullscreenChange"], (function(e) {
                            var t = Ii.fullscreenElement || Ii.webkitFullscreenElement || Ii.mozFullScreenElement || Ii.msFullscreenElement;
                            t && t.contains(r.tech_.el()) && r.masterPlaylistController_.smoothQualityChange_()
                        })), r.on(r.tech_, "seeking", (function() {
                            0 === this.tech_.currentTime() && this.tech_.player_.loop() && this.setCurrentTime(0)
                        })), r.on(r.tech_, "error", (function() {
                            this.masterPlaylistController_ && this.masterPlaylistController_.pauseLoading()
                        })), r.on(r.tech_, "play", r.play), r
                    }
                    return ud(t, e), od(t, [{
                        key: "setOptions_",
                        value: function() {
                            var e = this;
                            if (this.options_.withCredentials = this.options_.withCredentials || !1, this.options_.handleManifestRedirects = this.options_.handleManifestRedirects || !1, this.options_.limitRenditionByPlayerDimensions = !1 !== this.options_.limitRenditionByPlayerDimensions, this.options_.smoothQualityChange = this.options_.smoothQualityChange || !1, this.options_.useBandwidthFromLocalStorage = void 0 !== this.source_.useBandwidthFromLocalStorage ? this.source_.useBandwidthFromLocalStorage : this.options_.useBandwidthFromLocalStorage || !1, this.options_.customTagParsers = this.options_.customTagParsers || [], this.options_.customTagMappers = this.options_.customTagMappers || [], this.options_.cacheEncryptionKeys = this.options_.cacheEncryptionKeys || !1, "number" != typeof this.options_.blacklistDuration && (this.options_.blacklistDuration = 300), "number" != typeof this.options_.bandwidth && this.options_.useBandwidthFromLocalStorage) {
                                var t = Rp();
                                t && t.bandwidth && (this.options_.bandwidth = t.bandwidth, this.tech_.trigger({
                                    type: "usage",
                                    name: "hls-bandwidth-from-local-storage"
                                })), t && t.throughput && (this.options_.throughput = t.throughput, this.tech_.trigger({
                                    type: "usage",
                                    name: "hls-throughput-from-local-storage"
                                }))
                            }
                            "number" != typeof this.options_.bandwidth && (this.options_.bandwidth = zh.INITIAL_BANDWIDTH), this.options_.enableLowInitialPlaylist = this.options_.enableLowInitialPlaylist && this.options_.bandwidth === zh.INITIAL_BANDWIDTH, ["withCredentials", "limitRenditionByPlayerDimensions", "bandwidth", "smoothQualityChange", "customTagParsers", "customTagMappers", "handleManifestRedirects", "cacheEncryptionKeys"].forEach((function(t) {
                                void 0 !== e.source_[t] && (e.options_[t] = e.source_[t])
                            })), this.limitRenditionByPlayerDimensions = this.options_.limitRenditionByPlayerDimensions
                        }
                    }, {
                        key: "src",
                        value: function(e, t) {
                            var i = this;
                            e && (this.setOptions_(), this.options_.url = this.source_.src, this.options_.tech = this.tech_, this.options_.externHls = Lp, this.options_.sourceType = Op(t), this.options_.seekTo = function(e) {
                                i.tech_.setCurrentTime(e), i.setCurrentTime(e)
                            }, this.masterPlaylistController_ = new jp(this.options_), this.playbackWatcher_ = new Cp(td.mergeOptions(this.options_, {
                                seekable: function() {
                                    return i.seekable()
                                },
                                media: function() {
                                    return i.masterPlaylistController_.media()
                                }
                            })), this.masterPlaylistController_.on("error", (function() {
                                td.players[i.tech_.options_.playerId].error(i.masterPlaylistController_.error)
                            })), this.masterPlaylistController_.selectPlaylist = this.selectPlaylist ? this.selectPlaylist.bind(this) : Lp.STANDARD_PLAYLIST_SELECTOR.bind(this), this.masterPlaylistController_.selectInitialPlaylist = Lp.INITIAL_PLAYLIST_SELECTOR.bind(this), this.playlists = this.masterPlaylistController_.masterPlaylistLoader_, this.mediaSource = this.masterPlaylistController_.mediaSource, Object.defineProperties(this, {
                                selectPlaylist: {
                                    get: function() {
                                        return this.masterPlaylistController_.selectPlaylist
                                    },
                                    set: function(e) {
                                        this.masterPlaylistController_.selectPlaylist = e.bind(this)
                                    }
                                },
                                throughput: {
                                    get: function() {
                                        return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate
                                    },
                                    set: function(e) {
                                        this.masterPlaylistController_.mainSegmentLoader_.throughput.rate = e, this.masterPlaylistController_.mainSegmentLoader_.throughput.count = 1
                                    }
                                },
                                bandwidth: {
                                    get: function() {
                                        return this.masterPlaylistController_.mainSegmentLoader_.bandwidth
                                    },
                                    set: function(e) {
                                        this.masterPlaylistController_.mainSegmentLoader_.bandwidth = e, this.masterPlaylistController_.mainSegmentLoader_.throughput = {
                                            rate: 0,
                                            count: 0
                                        }
                                    }
                                },
                                systemBandwidth: {
                                    get: function() {
                                        var e = 1 / (this.bandwidth || 1),
                                            t = void 0;
                                        return t = this.throughput > 0 ? 1 / this.throughput : 0, Math.floor(1 / (e + t))
                                    },
                                    set: function() {
                                        td.log.error('The "systemBandwidth" property is read-only')
                                    }
                                }
                            }), this.options_.bandwidth && (this.bandwidth = this.options_.bandwidth), this.options_.throughput && (this.throughput = this.options_.throughput), Object.defineProperties(this.stats, {
                                bandwidth: {
                                    get: function() {
                                        return i.bandwidth || 0
                                    },
                                    enumerable: !0
                                },
                                mediaRequests: {
                                    get: function() {
                                        return i.masterPlaylistController_.mediaRequests_() || 0
                                    },
                                    enumerable: !0
                                },
                                mediaRequestsAborted: {
                                    get: function() {
                                        return i.masterPlaylistController_.mediaRequestsAborted_() || 0
                                    },
                                    enumerable: !0
                                },
                                mediaRequestsTimedout: {
                                    get: function() {
                                        return i.masterPlaylistController_.mediaRequestsTimedout_() || 0
                                    },
                                    enumerable: !0
                                },
                                mediaRequestsErrored: {
                                    get: function() {
                                        return i.masterPlaylistController_.mediaRequestsErrored_() || 0
                                    },
                                    enumerable: !0
                                },
                                mediaTransferDuration: {
                                    get: function() {
                                        return i.masterPlaylistController_.mediaTransferDuration_() || 0
                                    },
                                    enumerable: !0
                                },
                                mediaBytesTransferred: {
                                    get: function() {
                                        return i.masterPlaylistController_.mediaBytesTransferred_() || 0
                                    },
                                    enumerable: !0
                                },
                                mediaSecondsLoaded: {
                                    get: function() {
                                        return i.masterPlaylistController_.mediaSecondsLoaded_() || 0
                                    },
                                    enumerable: !0
                                },
                                buffered: {
                                    get: function() {
                                        return nh(i.tech_.buffered())
                                    },
                                    enumerable: !0
                                },
                                currentTime: {
                                    get: function() {
                                        return i.tech_.currentTime()
                                    },
                                    enumerable: !0
                                },
                                currentSource: {
                                    get: function() {
                                        return i.tech_.currentSource_
                                    },
                                    enumerable: !0
                                },
                                currentTech: {
                                    get: function() {
                                        return i.tech_.name_
                                    },
                                    enumerable: !0
                                },
                                duration: {
                                    get: function() {
                                        return i.tech_.duration()
                                    },
                                    enumerable: !0
                                },
                                master: {
                                    get: function() {
                                        return i.playlists.master
                                    },
                                    enumerable: !0
                                },
                                playerDimensions: {
                                    get: function() {
                                        return i.tech_.currentDimensions()
                                    },
                                    enumerable: !0
                                },
                                seekable: {
                                    get: function() {
                                        return nh(i.tech_.seekable())
                                    },
                                    enumerable: !0
                                },
                                timestamp: {
                                    get: function() {
                                        return Date.now()
                                    },
                                    enumerable: !0
                                },
                                videoPlaybackQuality: {
                                    get: function() {
                                        return i.tech_.getVideoPlaybackQuality()
                                    },
                                    enumerable: !0
                                }
                            }), this.tech_.one("canplay", this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)), this.tech_.on("bandwidthupdate", (function() {
                                i.options_.useBandwidthFromLocalStorage && function(e) {
                                    if (!window.localStorage) return !1;
                                    var t = Rp();
                                    t = t ? td.mergeOptions(t, e) : e;
                                    try {
                                        window.localStorage.setItem(Pp, JSON.stringify(t))
                                    } catch (sf) {
                                        return !1
                                    }
                                }({
                                    bandwidth: i.bandwidth,
                                    throughput: Math.round(i.throughput)
                                })
                            })), this.masterPlaylistController_.on("selectedinitialmedia", (function() {
                                var e, t;
                                t = (e = i)
                                    .playlists, e.representations = function() {
                                    return t.master.playlists.filter((function(e) {
                                        return !Pd(e)
                                    }))
                                        .map((function(t, i) {
                                        return new wp(e, t, t.uri)
                                    }))
                                }, Up(i)
                            })), this.on(this.masterPlaylistController_, "progress", (function() {
                                this.tech_.trigger("progress")
                            })), this.tech_.ready((function() {
                                return i.setupQualityLevels_()
                            })), this.tech_.el() && this.tech_.src(td.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))
                        }
                    }, {
                        key: "setupQualityLevels_",
                        value: function() {
                            var e = this,
                                t = td.players[this.tech_.options_.playerId];
                            t && t.qualityLevels && (this.qualityLevels_ = t.qualityLevels(), this.masterPlaylistController_.on("selectedinitialmedia", (function() {
                                var t, i;
                                t = e.qualityLevels_, (i = e)
                                    .representations()
                                    .forEach((function(e) {
                                    t.addQualityLevel(e)
                                })), Dp(t, i.playlists)
                            })), this.playlists.on("mediachange", (function() {
                                Dp(e.qualityLevels_, e.playlists)
                            })))
                        }
                    }, {
                        key: "play",
                        value: function() {
                            this.masterPlaylistController_.play()
                        }
                    }, {
                        key: "setCurrentTime",
                        value: function(e) {
                            this.masterPlaylistController_.setCurrentTime(e)
                        }
                    }, {
                        key: "duration",
                        value: function() {
                            return this.masterPlaylistController_.duration()
                        }
                    }, {
                        key: "seekable",
                        value: function() {
                            return this.masterPlaylistController_.seekable()
                        }
                    }, {
                        key: "dispose",
                        value: function() {
                            this.playbackWatcher_ && this.playbackWatcher_.dispose(), this.masterPlaylistController_ && this.masterPlaylistController_.dispose(), this.qualityLevels_ && this.qualityLevels_.dispose(), this.player_ && (delete this.player_.vhs, delete this.player_.dash, delete this.player_.hls), this.tech_ && this.tech_.hls && delete this.tech_.hls, ld(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "dispose", this)
                                .call(this)
                        }
                    }, {
                        key: "convertToProgramTime",
                        value: function(e, t) {
                            return Kd({
                                playlist: this.masterPlaylistController_.media(),
                                time: e,
                                callback: t
                            })
                        }
                    }, {
                        key: "seekToProgramTime",
                        value: function(e, t) {
                            var i = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                                n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 2;
                            return Qd({
                                programTime: e,
                                playlist: this.masterPlaylistController_.media(),
                                retryCount: n,
                                pauseAfterSeek: i,
                                seekTo: this.options_.seekTo,
                                tech: this.options_.tech,
                                callback: t
                            })
                        }
                    }]), t
                }(td.getComponent("Component")),
                    Bp = {
                        name: "videojs-http-streaming",
                        VERSION: "1.10.6",
                        canHandleSource: function(e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i = td.mergeOptions(td.options, t);
                            return Bp.canPlayType(e.type, i)
                        },
                        handleSource: function(e, t) {
                            var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, n = td.mergeOptions(td.options, i);
                            return t.hls = new Mp(e, t, n), t.hls.xhr = Nd(), t.hls.src(e.src, e.type), t.hls
                        },
                        canPlayType: function(e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i = td.mergeOptions(td.options, t),
                                n = i.hls.overrideNative,
                                r = Op(e),
                                s = r && (!Lp.supportsTypeNatively(r) || n);
                            return s ? "maybe" : ""
                        }
                    };
                void 0 !== td.MediaSource && void 0 !== td.URL || (td.MediaSource = Ph, td.URL = Oh), Ph.supportsNativeMediaSources() && td.getTech("Html5")
                    .registerSourceHandler(Bp, 0), td.HlsHandler = Mp, td.HlsSourceHandler = Bp, td.Hls = Lp, td.use || td.registerComponent("Hls", Lp), td.options.hls = td.options.hls || {}, td.registerPlugin ? td.registerPlugin("reloadSourceOnError", Ip) : td.plugin("reloadSourceOnError", Ip);
                var Np = {
                    Play: "播放",
                    Pause: "暂停",
                    "Current Time": "当前时间",
                    Duration: "时长",
                    "Remaining Time": "剩余时间",
                    "Stream Type": "媒体流类型",
                    LIVE: "直播",
                    Loaded: "加载完毕",
                    Progress: "进度",
                    Fullscreen: "全屏",
                    "Non-Fullscreen": "退出全屏",
                    Mute: "静音",
                    Unmute: "取消静音",
                    "Playback Rate": "播放速度",
                    Subtitles: "字幕",
                    "subtitles off": "关闭字幕",
                    Captions: "内嵌字幕",
                    "captions off": "关闭内嵌字幕",
                    Chapters: "节目段落",
                    "Close Modal Dialog": "关闭弹窗",
                    Descriptions: "描述",
                    "descriptions off": "关闭描述",
                    "Audio Track": "音轨",
                    "You aborted the media playback": "视频播放被终止",
                    "A network error caused the media download to fail part-way.": "网络错误导致视频下载中途失败。",
                    "The media could not be loaded, either because the server or network failed or because the format is not supported.": "视频因格式不支持或者服务器或网络的问题无法加载。",
                    "The media playback was aborted due to a corruption problem or because the media used features your browser did not support.": "由于视频文件损坏或是该视频使用了你的浏览器不支持的功能，播放终止。",
                    "No compatible source was found for this media.": "无法找到此视频兼容的源。",
                    "The media is encrypted and we do not have the keys to decrypt it.": "视频已加密，无法解密。",
                    "Play Video": "播放视频",
                    Close: "关闭",
                    "Modal Window": "弹窗",
                    "This is a modal window": "这是一个弹窗",
                    "This modal can be closed by pressing the Escape key or activating the close button.": "可以按ESC按键或启用关闭按钮来关闭此弹窗。",
                    ", opens captions settings dialog": ", 开启标题设置弹窗",
                    ", opens subtitles settings dialog": ", 开启字幕设置弹窗",
                    ", opens descriptions settings dialog": ", 开启描述设置弹窗",
                    ", selected": ", 选择",
                    "captions settings": "字幕设定",
                    "Audio Player": "音频播放器",
                    "Video Player": "视频播放器",
                    Replay: "重播",
                    "Progress Bar": "进度条",
                    "Volume Level": "音量",
                    "subtitles settings": "字幕设定",
                    "descriptions settings": "描述设定",
                    Text: "文字",
                    White: "白",
                    Black: "黑",
                    Red: "红",
                    Green: "绿",
                    Blue: "蓝",
                    Yellow: "黄",
                    Magenta: "紫红",
                    Cyan: "青",
                    Background: "背景",
                    Window: "视窗",
                    Transparent: "透明",
                    "Semi-Transparent": "半透明",
                    Opaque: "不透明",
                    "Font Size": "字体尺寸",
                    "Text Edge Style": "字体边缘样式",
                    None: "无",
                    Raised: "浮雕",
                    Depressed: "压低",
                    Uniform: "均匀",
                    Dropshadow: "下阴影",
                    "Font Family": "字体库",
                    "Proportional Sans-Serif": "比例无细体",
                    "Monospace Sans-Serif": "单间隔无细体",
                    "Proportional Serif": "比例细体",
                    "Monospace Serif": "单间隔细体",
                    Casual: "舒适",
                    Script: "手写体",
                    "Small Caps": "小型大写字体",
                    Reset: "重置",
                    "restore all settings to the default values": "恢复全部设定至预设值",
                    Done: "完成",
                    "Caption Settings Dialog": "字幕设定视窗",
                    "Beginning of dialog window. Escape will cancel and close the window.": "开始对话视窗。离开会取消及关闭视窗",
                    "End of dialog window.": "结束对话视窗",
                    "Seek to live, currently behind live": "试图直播，当前延时播放",
                    "Seek to live, currently playing live": "试图直播，当前实时播放",
                    "progress bar timing: currentTime={1} duration={2}": "{1}/{2}",
                    "{1} is loading.": "正在加载 {1}。"
                };

                function Fp(e, t) {
                    return Fp = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                        return e.__proto__ = t, e
                    }, Fp(e, t)
                }
                var Vp = td.getComponent("Button"),
                    Hp = {
                        forwardIndex: 1,
                        backIndex: 1
                    }, qp = td.registerPlugin || td.plugin,
                    zp = function(e) {
                        var t = this;
                        this.ready((function() {
                            ! function(e, t) {
                                e.addClass("vjs-seek-buttons"), t.forward && t.forward > 0 && (e.controlBar.seekForward = e.controlBar.addChild("seekButton", {
                                    direction: "forward",
                                    seconds: t.forward
                                }, t.forwardIndex)), t.back && t.back > 0 && (e.controlBar.seekBack = e.controlBar.addChild("seekButton", {
                                    direction: "back",
                                    seconds: t.back
                                }, t.backIndex))
                            }(t, td.mergeOptions(Hp, e))
                        }))
                    };
                zp.VERSION = "2.2.0";
                var Wp = function(e) {
                    var t, i;

                    function n(t, i) {
                        var n;
                        return "forward" === (n = e.call(this, t, i) || this)
                            .options_.direction ? n.controlText(n.localize("Seek forward {{seconds}} seconds")
                            .replace("{{seconds}}", n.options_.seconds)) : "back" === n.options_.direction && n.controlText(n.localize("Seek back {{seconds}} seconds")
                            .replace("{{seconds}}", n.options_.seconds)), n
                    }
                    i = e, (t = n)
                        .prototype = Object.create(i.prototype), t.prototype.constructor = t, Fp(t, i);
                    var r = n.prototype;
                    return r.buildCSSClass = function() {
                        return "vjs-seek-button skip-" + this.options_.direction + " skip-" + this.options_.seconds + " " + e.prototype.buildCSSClass.call(this)
                    }, r.handleClick = function() {
                        var e = this.player_.currentTime();
                        "forward" === this.options_.direction ? this.player_.currentTime(e + this.options_.seconds) : "back" === this.options_.direction && this.player_.currentTime(e - this.options_.seconds)
                    }, n
                }(Vp);
                td.registerComponent("SeekButton", Wp), qp("seekButtons", zp);
                const Gp = td.getComponent("Component"), Yp = td.registerPlugin || td.plugin;
                td.registerComponent("TouchOverlay", class extends Gp {
                    constructor(e) {
                        super(e, {}), e.on("loadedmetadata", (() => {
                            this.totalDuration = e.duration()
                        })), this.on("touchstart", this.handleTouchstart), this.on("touchmove", this.handleTouchmove), this.on("touchend", this.handleTouchend)
                    }
                    createEl() {
                        const e = td.dom.createEl("div", {
                            className: "vjs-touch-overlay",
                            tabIndex: -1
                        }), t = td.dom.createEl("div", {
                            className: "progress"
                        }), i = td.dom.createEl("div", {
                            className: "vjs-touch-progress"
                        }, {}, t), n = td.dom.createEl("div", {
                            className: "vjs-touch-seek-note"
                        }), r = td.dom.createEl("img", {
                            className: "vjs-touch-seek-note-icon"
                        }), s = td.dom.createEl("div", {
                            className: "vjs-touch-seek-note-time"
                        });
                        return td.dom.appendContent(n, r), td.dom.appendContent(n, s), td.dom.appendContent(n, i), td.dom.appendContent(e, n), this.seekNote = s, this.seekIcon = r, this.progress = t, e
                    }
                    handleTouchstart(e) {
                        this.totalDuration && (this.addClass("vjs-touch-active"), this.touchStateActive = !0, this.totalWidth = this.currentWidth(), this.startX = e.touches[0].clientX)
                    }
                    handleTouchend() {
                        this.touchStateActive = !1, this.removeClass("vjs-touch-active"), this.hasClass("vjs-touch-moving") && (this.removeClass("vjs-touch-moving"), this.player()
                            .currentTime(this.toSeconds))
                    }
                    handleTouchmove(e) {
                        if (this.touchStateActive) {
                            this.addClass("vjs-touch-moving");
                            const t = e.touches[0].clientX - this.startX;
                            let i = this.player()
                                .currentTime() + t * 1;
                            i < 0 ? i = 0 : i > this.totalDuration && (i = this.totalDuration);
                            const n = Math.floor(i / this.totalDuration * 100);
                            this.progress.setAttribute("style", `width: $ {
                                n
                            } % `), this.seekIcon.setAttribute("src", t > 0 ? "/assets/forward.5bf83084.png" : "/assets/backward.e5b60de2.png");
                            const r = this.second2time(Math.floor(this.totalDuration - i));
                            td.dom.insertContent(this.seekNote, r), this.toSeconds = i
                        }
                    }
                    second2time(e) {
                        e = Math.floor(e);
                        const t = Math.floor(e / 3600);
                        return`$ {
                            t > 0 ? `$ {
                                t
                            } : `: ""
                        }
                        $ {
                            ("0" + Math.floor(e / 60) % 60)
                                .slice(-2)
                        }: $ {
                            ("0" + e % 60)
                                .slice(-2)
                        }`
                    }
                }), Yp("touchOverlay", (function() {
                    this.ready((() => {
                        (e => {
                            const t = e.children()
                                .indexOf(e.getChild("BigPlayButton"));
                            e.addChild("TouchOverlay", {}, t)
                        })(this)
                    }))
                }));
                const Xp = {
                    class: "relative"
                }, Kp = {
                    key: 0,
                    class: "bg-secondary rounded-md text-primary tracking-wide opacity-90 py-0.5 px-1 bottom-3 left-4 absolute"
                }, Qp = n({
                    props: {
                        videoData: {
                            type: null,
                            required: !0
                        }
                    },
                    setup(e) {
                        const t = e;
                        td.addLanguage("zh-CN", Np);
                        const i = f("");
                        let n = null;
                        const r = f(!1), s = {
                            controls: !0,
                            autoplay: !1,
                            preload: J && X ? "none" : "auto",
                            aspectRatio: "16:9",
                            fluid: !0,
                            fill: !0,
                            responsive: !1,
                            language: "zh-CN",
                            bigPlayButton: !0,
                            playbackRates: [1, 1.5, 2],
                            controlBar: {
                                volumePanel: {
                                    inline: !1
                                },
                                pictureInPictureToggle: !1
                            },
                            html5: {
                                hls: {
                                    cacheEncryptionKeys: !0,
                                    overrideNative: !td.browser.IS_SAFARI
                                }
                            }
                        };
                        async
                        function a() {
                            r.value || (r.value = !0, await he(t.videoData.id))
                        }
                        function o(e) {
                            var t, i, s;
                            (null === (t = n) || void 0 === t || t.pause(), r.value = !1, e.cover) && $(null === (i = e.cover) || void 0 === i ? void 0 : i.url, null === (s = e.cover) || void 0 === s ? void 0 : s.mime_type)
                                .then((e => {
                                var t;
                                null === (t = n) || void 0 === t || t.poster(e)
                            }));
                            if (e.hls_m3u8) if (F) {
                                var a;
                                const t = M("offlineList", []), i = t.value.findIndex((t => t.data.id === e.id)), r = -1 !== i && "" !== t.value[i].data.localUrl;
                                null === (a = n) || void 0 === a || a.src({
                                    src: r ? t.value[i].data.localUrl : e.hls_m3u8,
                                    type: "application/vnd.apple.mpegurl"
                                })
                            } else {
                                var o;
                                null === (o = n) || void 0 === o || o.src({
                                    src: e.hls_m3u8,
                                    type: "application/vnd.apple.mpegurl"
                                })
                            }
                        }
                        function l(e) {
                            const t = Math.floor(e / 3600);
                            return`$ {
                                t > 0 ? `$ {
                                    t
                                } : `: ""
                            }
                            $ {
                                ("0" + Math.floor(e / 60) % 60)
                                    .slice(-2)
                            }: $ {
                                ("0" + e % 60)
                                    .slice(-2)
                            }`
                        }
                        return D((() => {
                            if (n = td(i.value, s, (() => {
                                o(t.videoData)
                            })), n.touchOverlay(), n.seekButtons({
                                forward: 10,
                                back: 10,
                                forwardIndex: 10,
                                backIndex: 10
                            }), n.on("loadedmetadata", (async() => {
                                var e;
                                J && X ? a() : null === (e = n) || void 0 === e || e.bigPlayButton.one(["tap", "click"], a)
                            })), F) {
                                const e = () => {}, t = () => {}, i = document.querySelector(".vjs-fullscreen-control");
                                null == i || i.addEventListener("touchend", (() => {
                                    var i, r, s;
                                    null !== (i = n) && void 0 !== i && i.isFullscreen() ? (screen.orientation.lock("landscape"), null === (r = window) || void 0 === r || r.AndroidFullScreen.immersiveMode(e, t)) : (screen.orientation.unlock(), null === (s = window) || void 0 === s || s.AndroidFullScreen.showSystemUI(e, t))
                                }))
                            }
                        })), Z((() => {
                            var e;
                            null === (e = n) || void 0 === e || e.dispose()
                        })), W((() => t.videoData), ((e, t) => {
                            if (e !== t) {
                                var i;
                                if (!r.value) null === (i = n) || void 0 === i || i.bigPlayButton.off(["tap", "click"], a);
                                o(e)
                            }
                        })), (t, n) => (u(), c("div", Xp, [d("video", {
                            ref_key: "videoEl",
                            ref: i,
                            class: "video-js vjs-default-skin vjs-big-play-centered vjs-theme-melon select-none",
                            playsinline: "true",
                            "webkit-playsinline": "true"
                        }, null, 512), e.videoData.runtime && !r.value ? (u(), c("div", Kp, j(l(e.videoData.runtime)), 1)) : N("v-if", !0)]))
                    }
                });
                var Jp = l(Qp, [
                    ["__scopeId", "data-v-5fa5690a"],
                    ["__file", "/Users/jetfuel_mini/Desktop/melon/melon-front-end/src/pages/play/components/VideoPlayer.vue"]
                ]);
                const Zp = {
                    key: 0,
                    class: "inset-0 z-99 absolute"
                };
                var $p = l(n({
                    setup(e) {
                        const t = f(!0), i = B((() => le("BEFORE_PLAYER")[0]));
                        return (e, n) => {
                            var s, a;
                            return _(i) && t.value ? (u(), c("div", Zp, [r(ue, {
                                id: null === (s = _(i)) || void 0 === s ? void 0 : s.id,
                                link: null === (a = _(i)) || void 0 === a ? void 0 : a.href
                            }, {
                                default: m((() => {
                                    var e, t;
                                    return [r(we, {
                                        encrypt: "",
                                        ratio: 750 / 422,
                                        url: null === (e = _(i)) || void 0 === e ? void 0 : e.image.url,
                                        type: null === (t = _(i)) || void 0 === t ? void 0 : t.image.mime_type
                                    }, null, 8, ["url", "type"])]
                                })),
                                _: 1
                            }, 8, ["id", "link"]), r(Ae, {
                                seconds: 5,
                                class: "top-4 right-4 absolute",
                                onClose: n[0] || (n[0] = e => t.value = !1)
                            })])) : N("v-if", !0)
                        }
                    }
                }), [
                    ["__file", "/Users/jetfuel_mini/Desktop/melon/melon-front-end/src/pages/play/components/AdBeforePlayer.vue"]
                ]);
                const ef = {
                    key: 0,
                    class: "transform top-1/2 left-1/2 z-10 -translate-x-1/2 -translate-y-1/2 absolute"
                }, tf = d("div", {
                    class: "bg-transparent h-14 w-24"
                }, null, -1);
                var nf = l(n({
                    setup(e) {
                        const t = f(!0), i = B((() => le("CLICK_PLAYER")[0]));
                        return (e, n) => {
                            var s, a;
                            return _(i) && t.value ? (u(), c("div", ef, [r(ue, {
                                id: null === (s = _(i)) || void 0 === s ? void 0 : s.id,
                                link: null === (a = _(i)) || void 0 === a ? void 0 : a.href,
                                onClick: n[0] || (n[0] = e => t.value = !1)
                            }, {
                                default: m((() => [tf])),
                                _: 1
                            }, 8, ["id", "link"])])) : N("v-if", !0)
                        }
                    }
                }), [
                    ["__file", "/Users/jetfuel_mini/Desktop/melon/melon-front-end/src/pages/play/components/AdClickPlayer.vue"]
                ]);
                const rf = {
                    class: "w-full relative"
                };
                t("default", l(n({
                    setup(e) {
                        const {
                            videoData: t,
                            videoInfo: i
                        } = function() {
                            const e = E(), t = f({
                                id: 0,
                                cover: null,
                                runtime: 0,
                                hls_m3u8: ""
                            }), i = f({
                                id: 0,
                                chs_title: "",
                                views: 0,
                                likes: 0,
                                is_like: !1,
                                code: null,
                                updated_at: "",
                                studio: null,
                                actors: [],
                                tags: []
                            });
                            async
                            function n(e) {
                                const n = await fe(e);
                                t.value = {
                                    id: n.id,
                                    cover: n.cover,
                                    runtime: n.runtime,
                                    hls_m3u8: n.hls_m3u8
                                }, i.value = {
                                    id: n.id,
                                    chs_title: n.chs_title,
                                    views: n.views,
                                    likes: 0 === n.likes && n.is_like ? n.likes + 1 : n.likes,
                                    is_like: n.is_like,
                                    code: n.code,
                                    updated_at: n.updated_at,
                                    studio: n.studio,
                                    actors: n.actors,
                                    tags: n.tags
                                }
                            }
                            return D((async() => {
                                await n(e.params.id)
                            })), ee((async(e, t) => {
                                e.params.id !== t.params.id && await n(e.params.id)
                            })), {
                                videoData: t,
                                videoInfo: i
                            }
                        }(), {
                            fetch: n,
                            loading: s,
                            finished: a,
                            otherVideos: o
                        } = function() {
                            const e = Se(), t = E(), i = f(t.params.id), {
                                fetch: n,
                                refresh: r,
                                loading: s,
                                finished: a,
                                data: o
                            } = je(e, (async() => await pe(i.value, e)));
                            return ee((async(e, t) => {
                                e.params.id !== t.params.id && (i.value = e.params.id, r())
                            })), {
                                fetch: n,
                                loading: s,
                                finished: a,
                                otherVideos: o
                            }
                        }();
                        return (e, l) => {
                            var h;
                            return u(), c(H, null, [r(ne, {
                                "show-back": "",
                                onBackClick: e.$router.back
                            }, {
                                default: m((() => [g(j(_(i)
                                    .chs_title), 1)])),
                                _: 1
                            }, 8, ["onBackClick"]), d("div", rf, [(u(), U($p, {
                                key: _(t)
                                    .id
                            })), (u(), U(nf, {
                                key: _(t)
                                    .id
                            })), r(Jp, {
                                "video-data": _(t)
                            }, null, 8, ["video-data"])]), r(Ai, {
                                data: _(i),
                                "onUpdate:data": l[0] || (l[0] = e => te(i) ? i.value = e : null)
                            }, null, 8, ["data"]), r(Ce, {
                                loading: _(s),
                                "onUpdate:loading": l[1] || (l[1] = e => te(s) ? s.value = e : null),
                                finished: _(a),
                                videos: null === (h = _(o)) || void 0 === h ? void 0 : h.items,
                                isReplaceRoute: !0,
                                onFetch: _(n)
                            }, null, 8, ["loading", "finished", "videos", "onFetch"])], 64)
                        }
                    }
                }), [
                    ["__file", "/Users/jetfuel_mini/Desktop/melon/melon-front-end/src/pages/play/Index.vue"]
                ]))
            }
        }
    }))
}();